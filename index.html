<!doctype html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="theme-color" content="#059669" />
    <meta name="description" content="Iraqi Smart Marketplace - Shop from verified Iraqi sellers on TikTok & Instagram" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="Souq Iraq" />
    <title>سوق العراق | Iraqi Smart Marketplace</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Noto+Kufi+Arabic:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
    <script type="module" crossorigin>(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function r(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=r(o);fetch(o.href,c)}})();function gb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Iu={exports:{}},Ws={};var Bm;function mb(){if(Bm)return Ws;Bm=1;var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(i,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:n,type:i,key:h,ref:o!==void 0?o:null,props:c}}return Ws.Fragment=a,Ws.jsx=r,Ws.jsxs=r,Ws}var $m;function pb(){return $m||($m=1,Iu.exports=mb()),Iu.exports}var u=pb(),Hu={exports:{}},me={};var Vm;function yb(){if(Vm)return me;Vm=1;var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),x=Symbol.iterator;function _(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,j={};function A(O,Y,F){this.props=O,this.context=Y,this.refs=j,this.updater=F||S}A.prototype.isReactComponent={},A.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},A.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function R(){}R.prototype=A.prototype;function C(O,Y,F){this.props=O,this.context=Y,this.refs=j,this.updater=F||S}var B=C.prototype=new R;B.constructor=C,N(B,A.prototype),B.isPureReactComponent=!0;var J=Array.isArray;function D(){}var G={H:null,A:null,T:null,S:null},pe=Object.prototype.hasOwnProperty;function fe(O,Y,F){var te=F.ref;return{$$typeof:n,type:O,key:Y,ref:te!==void 0?te:null,props:F}}function ct(O,Y){return fe(O.type,Y,O.props)}function $e(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function Ve(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(F){return Y[F]})}var ut=/\/+/g;function He(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?Ve(""+O.key):Y.toString(36)}function le(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(D,D):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function z(O,Y,F,te,ge){var Se=typeof O;(Se==="undefined"||Se==="boolean")&&(O=null);var Q=!1;if(O===null)Q=!0;else switch(Se){case"bigint":case"string":case"number":Q=!0;break;case"object":switch(O.$$typeof){case n:case a:Q=!0;break;case v:return Q=O._init,z(Q(O._payload),Y,F,te,ge)}}if(Q)return ge=ge(O),Q=te===""?"."+He(O,0):te,J(ge)?(F="",Q!=null&&(F=Q.replace(ut,"$&/")+"/"),z(ge,Y,F,"",function(je){return je})):ge!=null&&($e(ge)&&(ge=ct(ge,F+(ge.key==null||O&&O.key===ge.key?"":(""+ge.key).replace(ut,"$&/")+"/")+Q)),Y.push(ge)),1;Q=0;var X=te===""?".":te+":";if(J(O))for(var W=0;W<O.length;W++)te=O[W],Se=X+He(te,W),Q+=z(te,Y,F,Se,ge);else if(W=_(O),typeof W=="function")for(O=W.call(O),W=0;!(te=O.next()).done;)te=te.value,Se=X+He(te,W++),Q+=z(te,Y,F,Se,ge);else if(Se==="object"){if(typeof O.then=="function")return z(le(O),Y,F,te,ge);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Q}function P(O,Y,F){if(O==null)return O;var te=[],ge=0;return z(O,te,"","",function(Se){return Y.call(F,Se,ge++)}),te}function Z(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(F){(O._status===0||O._status===-1)&&(O._status=1,O._result=F)},function(F){(O._status===0||O._status===-1)&&(O._status=2,O._result=F)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var be=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},_e={map:P,forEach:function(O,Y,F){P(O,function(){Y.apply(this,arguments)},F)},count:function(O){var Y=0;return P(O,function(){Y++}),Y},toArray:function(O){return P(O,function(Y){return Y})||[]},only:function(O){if(!$e(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return me.Activity=w,me.Children=_e,me.Component=A,me.Fragment=r,me.Profiler=o,me.PureComponent=C,me.StrictMode=i,me.Suspense=m,me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,me.__COMPILER_RUNTIME={__proto__:null,c:function(O){return G.H.useMemoCache(O)}},me.cache=function(O){return function(){return O.apply(null,arguments)}},me.cacheSignal=function(){return null},me.cloneElement=function(O,Y,F){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var te=N({},O.props),ge=O.key;if(Y!=null)for(Se in Y.key!==void 0&&(ge=""+Y.key),Y)!pe.call(Y,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&Y.ref===void 0||(te[Se]=Y[Se]);var Se=arguments.length-2;if(Se===1)te.children=F;else if(1<Se){for(var Q=Array(Se),X=0;X<Se;X++)Q[X]=arguments[X+2];te.children=Q}return fe(O.type,ge,te)},me.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},me.createElement=function(O,Y,F){var te,ge={},Se=null;if(Y!=null)for(te in Y.key!==void 0&&(Se=""+Y.key),Y)pe.call(Y,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(ge[te]=Y[te]);var Q=arguments.length-2;if(Q===1)ge.children=F;else if(1<Q){for(var X=Array(Q),W=0;W<Q;W++)X[W]=arguments[W+2];ge.children=X}if(O&&O.defaultProps)for(te in Q=O.defaultProps,Q)ge[te]===void 0&&(ge[te]=Q[te]);return fe(O,Se,ge)},me.createRef=function(){return{current:null}},me.forwardRef=function(O){return{$$typeof:g,render:O}},me.isValidElement=$e,me.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:Z}},me.memo=function(O,Y){return{$$typeof:p,type:O,compare:Y===void 0?null:Y}},me.startTransition=function(O){var Y=G.T,F={};G.T=F;try{var te=O(),ge=G.S;ge!==null&&ge(F,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(D,be)}catch(Se){be(Se)}finally{Y!==null&&F.types!==null&&(Y.types=F.types),G.T=Y}},me.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},me.use=function(O){return G.H.use(O)},me.useActionState=function(O,Y,F){return G.H.useActionState(O,Y,F)},me.useCallback=function(O,Y){return G.H.useCallback(O,Y)},me.useContext=function(O){return G.H.useContext(O)},me.useDebugValue=function(){},me.useDeferredValue=function(O,Y){return G.H.useDeferredValue(O,Y)},me.useEffect=function(O,Y){return G.H.useEffect(O,Y)},me.useEffectEvent=function(O){return G.H.useEffectEvent(O)},me.useId=function(){return G.H.useId()},me.useImperativeHandle=function(O,Y,F){return G.H.useImperativeHandle(O,Y,F)},me.useInsertionEffect=function(O,Y){return G.H.useInsertionEffect(O,Y)},me.useLayoutEffect=function(O,Y){return G.H.useLayoutEffect(O,Y)},me.useMemo=function(O,Y){return G.H.useMemo(O,Y)},me.useOptimistic=function(O,Y){return G.H.useOptimistic(O,Y)},me.useReducer=function(O,Y,F){return G.H.useReducer(O,Y,F)},me.useRef=function(O){return G.H.useRef(O)},me.useState=function(O){return G.H.useState(O)},me.useSyncExternalStore=function(O,Y,F){return G.H.useSyncExternalStore(O,Y,F)},me.useTransition=function(){return G.H.useTransition()},me.version="19.2.3",me}var Pm;function kd(){return Pm||(Pm=1,Hu.exports=yb()),Hu.exports}var T=kd();const Qr=gb(T);var Gu={exports:{}},ei={},Ku={exports:{}},Yu={};var Im;function vb(){return Im||(Im=1,(function(n){function a(z,P){var Z=z.length;z.push(P);e:for(;0<Z;){var be=Z-1>>>1,_e=z[be];if(0<o(_e,P))z[be]=P,z[Z]=_e,Z=be;else break e}}function r(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var P=z[0],Z=z.pop();if(Z!==P){z[0]=Z;e:for(var be=0,_e=z.length,O=_e>>>1;be<O;){var Y=2*(be+1)-1,F=z[Y],te=Y+1,ge=z[te];if(0>o(F,Z))te<_e&&0>o(ge,F)?(z[be]=ge,z[te]=Z,be=te):(z[be]=F,z[Y]=Z,be=Y);else if(te<_e&&0>o(ge,Z))z[be]=ge,z[te]=Z,be=te;else break e}}return P}function o(z,P){var Z=z.sortIndex-P.sortIndex;return Z!==0?Z:z.id-P.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var h=Date,g=h.now();n.unstable_now=function(){return h.now()-g}}var m=[],p=[],v=1,w=null,x=3,_=!1,S=!1,N=!1,j=!1,A=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function B(z){for(var P=r(p);P!==null;){if(P.callback===null)i(p);else if(P.startTime<=z)i(p),P.sortIndex=P.expirationTime,a(m,P);else break;P=r(p)}}function J(z){if(N=!1,B(z),!S)if(r(m)!==null)S=!0,D||(D=!0,Ve());else{var P=r(p);P!==null&&le(J,P.startTime-z)}}var D=!1,G=-1,pe=5,fe=-1;function ct(){return j?!0:!(n.unstable_now()-fe<pe)}function $e(){if(j=!1,D){var z=n.unstable_now();fe=z;var P=!0;try{e:{S=!1,N&&(N=!1,R(G),G=-1),_=!0;var Z=x;try{t:{for(B(z),w=r(m);w!==null&&!(w.expirationTime>z&&ct());){var be=w.callback;if(typeof be=="function"){w.callback=null,x=w.priorityLevel;var _e=be(w.expirationTime<=z);if(z=n.unstable_now(),typeof _e=="function"){w.callback=_e,B(z),P=!0;break t}w===r(m)&&i(m),B(z)}else i(m);w=r(m)}if(w!==null)P=!0;else{var O=r(p);O!==null&&le(J,O.startTime-z),P=!1}}break e}finally{w=null,x=Z,_=!1}P=void 0}}finally{P?Ve():D=!1}}}var Ve;if(typeof C=="function")Ve=function(){C($e)};else if(typeof MessageChannel<"u"){var ut=new MessageChannel,He=ut.port2;ut.port1.onmessage=$e,Ve=function(){He.postMessage(null)}}else Ve=function(){A($e,0)};function le(z,P){G=A(function(){z(n.unstable_now())},P)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(z){switch(x){case 1:case 2:case 3:var P=3;break;default:P=x}var Z=x;x=P;try{return z()}finally{x=Z}},n.unstable_requestPaint=function(){j=!0},n.unstable_runWithPriority=function(z,P){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Z=x;x=z;try{return P()}finally{x=Z}},n.unstable_scheduleCallback=function(z,P,Z){var be=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?be+Z:be):Z=be,z){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=Z+_e,z={id:v++,callback:P,priorityLevel:z,startTime:Z,expirationTime:_e,sortIndex:-1},Z>be?(z.sortIndex=Z,a(p,z),r(m)===null&&z===r(p)&&(N?(R(G),G=-1):N=!0,le(J,Z-be))):(z.sortIndex=_e,a(m,z),S||_||(S=!0,D||(D=!0,Ve()))),z},n.unstable_shouldYield=ct,n.unstable_wrapCallback=function(z){var P=x;return function(){var Z=x;x=P;try{return z.apply(this,arguments)}finally{x=Z}}}})(Yu)),Yu}var Hm;function bb(){return Hm||(Hm=1,Ku.exports=vb()),Ku.exports}var Qu={exports:{}},St={};var Gm;function xb(){if(Gm)return St;Gm=1;var n=kd();function a(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(a(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,p,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:m,containerInfo:p,implementation:v}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return St.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,St.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return c(m,p,null,v)},St.flushSync=function(m){var p=h.T,v=i.p;try{if(h.T=null,i.p=2,m)return m()}finally{h.T=p,i.p=v,i.d.f()}},St.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},St.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},St.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,w=g(v,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:w,integrity:x,fetchPriority:_}):v==="script"&&i.d.X(m,{crossOrigin:w,integrity:x,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},St.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=g(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},St.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,w=g(v,p.crossOrigin);i.d.L(m,v,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},St.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=g(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},St.requestFormReset=function(m){i.d.r(m)},St.unstable_batchedUpdates=function(m,p){return m(p)},St.useFormState=function(m,p,v){return h.H.useFormState(m,p,v)},St.useFormStatus=function(){return h.H.useHostTransitionStatus()},St.version="19.2.3",St}var Km;function wb(){if(Km)return Qu.exports;Km=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(a){console.error(a)}}return n(),Qu.exports=xb(),Qu.exports}var Ym;function Sb(){if(Ym)return ei;Ym=1;var n=bb(),a=kd(),r=wb();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(c(e)!==e)throw Error(i(188))}function p(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(i(188));return t!==e?null:e}for(var s=e,l=t;;){var d=s.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){s=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===s)return m(d),e;if(f===l)return m(d),t;f=f.sibling}throw Error(i(188))}if(s.return!==l.return)s=d,l=f;else{for(var y=!1,b=d.child;b;){if(b===s){y=!0,s=d,l=f;break}if(b===l){y=!0,l=d,s=f;break}b=b.sibling}if(!y){for(b=f.child;b;){if(b===s){y=!0,s=f,l=d;break}if(b===l){y=!0,l=f,s=d;break}b=b.sibling}if(!y)throw Error(i(189))}}if(s.alternate!==l)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var w=Object.assign,x=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),C=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),fe=Symbol.for("react.activity"),ct=Symbol.for("react.memo_cache_sentinel"),$e=Symbol.iterator;function Ve(e){return e===null||typeof e!="object"?null:(e=$e&&e[$e]||e["@@iterator"],typeof e=="function"?e:null)}var ut=Symbol.for("react.client.reference");function He(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ut?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case A:return"Profiler";case j:return"StrictMode";case J:return"Suspense";case D:return"SuspenseList";case fe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case C:return e.displayName||"Context";case R:return(e._context.displayName||"Context")+".Consumer";case B:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case G:return t=e.displayName||null,t!==null?t:He(e.type)||"Memo";case pe:t=e._payload,e=e._init;try{return He(e(t))}catch{}}return null}var le=Array.isArray,z=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},be=[],_e=-1;function O(e){return{current:e}}function Y(e){0>_e||(e.current=be[_e],be[_e]=null,_e--)}function F(e,t){_e++,be[_e]=e.current,e.current=t}var te=O(null),ge=O(null),Se=O(null),Q=O(null);function X(e,t){switch(F(Se,t),F(ge,e),F(te,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?om(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=om(t),e=cm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(te),F(te,e)}function W(){Y(te),Y(ge),Y(Se)}function je(e){e.memoizedState!==null&&F(Q,e);var t=te.current,s=cm(t,e.type);t!==s&&(F(ge,e),F(te,s))}function Ye(e){ge.current===e&&(Y(te),Y(ge)),Q.current===e&&(Y(Q),Js._currentValue=Z)}var De,we;function Ue(e){if(De===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);De=t&&t[1]||"",we=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+De+e+we}var _t=!1;function I(e,t){if(!e||_t)return"";_t=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch($){var q=$}Reflect.construct(e,[],K)}else{try{K.call()}catch($){q=$}e.call(K.prototype)}}else{try{throw Error()}catch($){q=$}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch($){if($&&q&&typeof $.stack=="string")return[$.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],b=f[1];if(y&&b){var k=y.split(`
`),M=b.split(`
`);for(d=l=0;l<k.length&&!k[l].includes("DetermineComponentFrameRoot");)l++;for(;d<M.length&&!M[d].includes("DetermineComponentFrameRoot");)d++;if(l===k.length||d===M.length)for(l=k.length-1,d=M.length-1;1<=l&&0<=d&&k[l]!==M[d];)d--;for(;1<=l&&0<=d;l--,d--)if(k[l]!==M[d]){if(l!==1||d!==1)do if(l--,d--,0>d||k[l]!==M[d]){var V=`
`+k[l].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=l&&0<=d);break}}}finally{_t=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Ue(s):""}function Je(e,t){switch(e.tag){case 26:case 27:case 5:return Ue(e.type);case 16:return Ue("Lazy");case 13:return e.child!==t&&t!==null?Ue("Suspense Fallback"):Ue("Suspense");case 19:return Ue("SuspenseList");case 0:case 15:return I(e.type,!1);case 11:return I(e.type.render,!1);case 1:return I(e.type,!0);case 31:return Ue("Activity");default:return""}}function jt(e){try{var t="",s=null;do t+=Je(e,s),s=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ns=Object.prototype.hasOwnProperty,Jn=n.unstable_scheduleCallback,rs=n.unstable_cancelCallback,ji=n.unstable_shouldYield,ss=n.unstable_requestPaint,ht=n.unstable_now,Ni=n.unstable_getCurrentPriorityLevel,Eo=n.unstable_ImmediatePriority,xn=n.unstable_UserBlockingPriority,Pa=n.unstable_NormalPriority,is=n.unstable_LowPriority,ls=n.unstable_IdlePriority,ki=n.log,Ai=n.unstable_setDisableYieldValue,Ia=null,wt=null;function ra(e){if(typeof ki=="function"&&Ai(e),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(Ia,e)}catch{}}var Nt=Math.clz32?Math.clz32:Ei,Ci=Math.log,To=Math.LN2;function Ei(e){return e>>>=0,e===0?32:31-(Ci(e)/To|0)|0}var Xn=256,wn=262144,ae=4194304;function Sn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ti(e,t,s){var l=e.pendingLanes;if(l===0)return 0;var d=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var b=l&134217727;return b!==0?(l=b&~f,l!==0?d=Sn(l):(y&=b,y!==0?d=Sn(y):s||(s=b&~e,s!==0&&(d=Sn(s))))):(b=l&~f,b!==0?d=Sn(b):y!==0?d=Sn(y):s||(s=l&~e,s!==0&&(d=Sn(s)))),d===0?0:t!==0&&t!==d&&(t&f)===0&&(f=d&-d,s=t&-t,f>=s||f===32&&(s&4194048)!==0)?t:d}function os(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ty(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pd(){var e=ae;return ae<<=1,(ae&62914560)===0&&(ae=4194304),e}function Oo(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function cs(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ay(e,t,s,l,d,f){var y=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var b=e.entanglements,k=e.expirationTimes,M=e.hiddenUpdates;for(s=y&~s;0<s;){var V=31-Nt(s),K=1<<V;b[V]=0,k[V]=-1;var q=M[V];if(q!==null)for(M[V]=null,V=0;V<q.length;V++){var $=q[V];$!==null&&($.lane&=-536870913)}s&=~K}l!==0&&Id(e,l,0),f!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~t))}function Id(e,t,s){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Nt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function Hd(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var l=31-Nt(s),d=1<<l;d&t|e[l]&t&&(e[l]|=t),s&=~d}}function Gd(e,t){var s=t&-t;return s=(s&42)!==0?1:Ro(s),(s&(e.suspendedLanes|t))!==0?0:s}function Ro(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Do(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Kd(){var e=P.p;return e!==0?e:(e=window.event,e===void 0?32:Rm(e.type))}function Yd(e,t){var s=P.p;try{return P.p=e,t()}finally{P.p=s}}var Ha=Math.random().toString(36).slice(2),gt="__reactFiber$"+Ha,Ct="__reactProps$"+Ha,Fn="__reactContainer$"+Ha,Lo="__reactEvents$"+Ha,ny="__reactListeners$"+Ha,ry="__reactHandles$"+Ha,Qd="__reactResources$"+Ha,us="__reactMarker$"+Ha;function zo(e){delete e[gt],delete e[Ct],delete e[Lo],delete e[ny],delete e[ry]}function Zn(e){var t=e[gt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Fn]||s[gt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=pm(e);e!==null;){if(s=e[gt])return s;e=pm(e)}return t}e=s,s=e.parentNode}return null}function Wn(e){if(e=e[gt]||e[Fn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ds(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function er(e){var t=e[Qd];return t||(t=e[Qd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function dt(e){e[us]=!0}var Jd=new Set,Xd={};function _n(e,t){tr(e,t),tr(e+"Capture",t)}function tr(e,t){for(Xd[e]=t,e=0;e<t.length;e++)Jd.add(t[e])}var sy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fd={},Zd={};function iy(e){return ns.call(Zd,e)?!0:ns.call(Fd,e)?!1:sy.test(e)?Zd[e]=!0:(Fd[e]=!0,!1)}function Oi(e,t,s){if(iy(t))if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+s)}}function Ri(e,t,s){if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+s)}}function ba(e,t,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(t,s,""+l)}}function Yt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ly(e,t,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(y){s=""+y,f.call(this,y)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Uo(e){if(!e._valueTracker){var t=Wd(e)?"checked":"value";e._valueTracker=ly(e,t,""+e[t])}}function ef(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),l="";return e&&(l=Wd(e)?e.checked?"true":"false":e.value),e=l,e!==s?(t.setValue(e),!0):!1}function Di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var oy=/[\n"\\]/g;function Qt(e){return e.replace(oy,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Mo(e,t,s,l,d,f,y,b){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Yt(t)):e.value!==""+Yt(t)&&(e.value=""+Yt(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?qo(e,y,Yt(t)):s!=null?qo(e,y,Yt(s)):l!=null&&e.removeAttribute("value"),d==null&&f!=null&&(e.defaultChecked=!!f),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Yt(b):e.removeAttribute("name")}function tf(e,t,s,l,d,f,y,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){Uo(e);return}s=s!=null?""+Yt(s):"",t=t!=null?""+Yt(t):s,b||t===e.value||(e.value=t),e.defaultValue=t}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Uo(e)}function qo(e,t,s){t==="number"&&Di(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ar(e,t,s,l){if(e=e.options,t){t={};for(var d=0;d<s.length;d++)t["$"+s[d]]=!0;for(s=0;s<e.length;s++)d=t.hasOwnProperty("$"+e[s].value),e[s].selected!==d&&(e[s].selected=d),d&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Yt(s),t=null,d=0;d<e.length;d++){if(e[d].value===s){e[d].selected=!0,l&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function af(e,t,s){if(t!=null&&(t=""+Yt(t),t!==e.value&&(e.value=t),s==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=s!=null?""+Yt(s):""}function nf(e,t,s,l){if(t==null){if(l!=null){if(s!=null)throw Error(i(92));if(le(l)){if(1<l.length)throw Error(i(93));l=l[0]}s=l}s==null&&(s=""),t=s}s=Yt(t),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Uo(e)}function nr(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var cy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rf(e,t,s){var l=t.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,s):typeof s!="number"||s===0||cy.has(t)?t==="float"?e.cssFloat=s:e[t]=(""+s).trim():e[t]=s+"px"}function sf(e,t,s){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var d in t)l=t[d],t.hasOwnProperty(d)&&s[d]!==l&&rf(e,d,l)}else for(var f in t)t.hasOwnProperty(f)&&rf(e,f,t[f])}function Bo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Li(e){return dy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function xa(){}var $o=null;function Vo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rr=null,sr=null;function lf(e){var t=Wn(e);if(t&&(e=t.stateNode)){var s=e[Ct]||null;e:switch(e=t.stateNode,t.type){case"input":if(Mo(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Qt(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var l=s[t];if(l!==e&&l.form===e.form){var d=l[Ct]||null;if(!d)throw Error(i(90));Mo(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(t=0;t<s.length;t++)l=s[t],l.form===e.form&&ef(l)}break e;case"textarea":af(e,s.value,s.defaultValue);break e;case"select":t=s.value,t!=null&&ar(e,!!s.multiple,t,!1)}}}var Po=!1;function of(e,t,s){if(Po)return e(t,s);Po=!0;try{var l=e(t);return l}finally{if(Po=!1,(rr!==null||sr!==null)&&(wl(),rr&&(t=rr,e=sr,sr=rr=null,lf(t),e)))for(t=0;t<e.length;t++)lf(e[t])}}function fs(e,t){var s=e.stateNode;if(s===null)return null;var l=s[Ct]||null;if(l===null)return null;s=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(i(231,t,typeof s));return s}var wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Io=!1;if(wa)try{var hs={};Object.defineProperty(hs,"passive",{get:function(){Io=!0}}),window.addEventListener("test",hs,hs),window.removeEventListener("test",hs,hs)}catch{Io=!1}var Ga=null,Ho=null,zi=null;function cf(){if(zi)return zi;var e,t=Ho,s=t.length,l,d="value"in Ga?Ga.value:Ga.textContent,f=d.length;for(e=0;e<s&&t[e]===d[e];e++);var y=s-e;for(l=1;l<=y&&t[s-l]===d[f-l];l++);return zi=d.slice(e,1<l?1-l:void 0)}function Ui(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mi(){return!0}function uf(){return!1}function Et(e){function t(s,l,d,f,y){this._reactName=s,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(s=e[b],this[b]=s?s(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Mi:uf,this.isPropagationStopped=uf,this}return w(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),t}var jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qi=Et(jn),gs=w({},jn,{view:0,detail:0}),fy=Et(gs),Go,Ko,ms,Bi=w({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ms&&(ms&&e.type==="mousemove"?(Go=e.screenX-ms.screenX,Ko=e.screenY-ms.screenY):Ko=Go=0,ms=e),Go)},movementY:function(e){return"movementY"in e?e.movementY:Ko}}),df=Et(Bi),hy=w({},Bi,{dataTransfer:0}),gy=Et(hy),my=w({},gs,{relatedTarget:0}),Yo=Et(my),py=w({},jn,{animationName:0,elapsedTime:0,pseudoElement:0}),yy=Et(py),vy=w({},jn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),by=Et(vy),xy=w({},jn,{data:0}),ff=Et(xy),wy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_y={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_y[e])?!!t[e]:!1}function Qo(){return jy}var Ny=w({},gs,{key:function(e){if(e.key){var t=wy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ui(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qo,charCode:function(e){return e.type==="keypress"?Ui(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ui(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ky=Et(Ny),Ay=w({},Bi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hf=Et(Ay),Cy=w({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qo}),Ey=Et(Cy),Ty=w({},jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oy=Et(Ty),Ry=w({},Bi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dy=Et(Ry),Ly=w({},jn,{newState:0,oldState:0}),zy=Et(Ly),Uy=[9,13,27,32],Jo=wa&&"CompositionEvent"in window,ps=null;wa&&"documentMode"in document&&(ps=document.documentMode);var My=wa&&"TextEvent"in window&&!ps,gf=wa&&(!Jo||ps&&8<ps&&11>=ps),mf=" ",pf=!1;function yf(e,t){switch(e){case"keyup":return Uy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ir=!1;function qy(e,t){switch(e){case"compositionend":return vf(t);case"keypress":return t.which!==32?null:(pf=!0,mf);case"textInput":return e=t.data,e===mf&&pf?null:e;default:return null}}function By(e,t){if(ir)return e==="compositionend"||!Jo&&yf(e,t)?(e=cf(),zi=Ho=Ga=null,ir=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gf&&t.locale!=="ko"?null:t.data;default:return null}}var $y={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$y[e.type]:t==="textarea"}function xf(e,t,s,l){rr?sr?sr.push(l):sr=[l]:rr=l,t=Cl(t,"onChange"),0<t.length&&(s=new qi("onChange","change",null,s,l),e.push({event:s,listeners:t}))}var ys=null,vs=null;function Vy(e){am(e,0)}function $i(e){var t=ds(e);if(ef(t))return e}function wf(e,t){if(e==="change")return t}var Sf=!1;if(wa){var Xo;if(wa){var Fo="oninput"in document;if(!Fo){var _f=document.createElement("div");_f.setAttribute("oninput","return;"),Fo=typeof _f.oninput=="function"}Xo=Fo}else Xo=!1;Sf=Xo&&(!document.documentMode||9<document.documentMode)}function jf(){ys&&(ys.detachEvent("onpropertychange",Nf),vs=ys=null)}function Nf(e){if(e.propertyName==="value"&&$i(vs)){var t=[];xf(t,vs,e,Vo(e)),of(Vy,t)}}function Py(e,t,s){e==="focusin"?(jf(),ys=t,vs=s,ys.attachEvent("onpropertychange",Nf)):e==="focusout"&&jf()}function Iy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $i(vs)}function Hy(e,t){if(e==="click")return $i(t)}function Gy(e,t){if(e==="input"||e==="change")return $i(t)}function Ky(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mt=typeof Object.is=="function"?Object.is:Ky;function bs(e,t){if(Mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),l=Object.keys(t);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var d=s[l];if(!ns.call(t,d)||!Mt(e[d],t[d]))return!1}return!0}function kf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Af(e,t){var s=kf(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=t&&l>=t)return{node:s,offset:t-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=kf(s)}}function Cf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ef(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Di(e.document);t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Di(e.document)}return t}function Zo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Yy=wa&&"documentMode"in document&&11>=document.documentMode,lr=null,Wo=null,xs=null,ec=!1;function Tf(e,t,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ec||lr==null||lr!==Di(l)||(l=lr,"selectionStart"in l&&Zo(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),xs&&bs(xs,l)||(xs=l,l=Cl(Wo,"onSelect"),0<l.length&&(t=new qi("onSelect","select",null,t,s),e.push({event:t,listeners:l}),t.target=lr)))}function Nn(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var or={animationend:Nn("Animation","AnimationEnd"),animationiteration:Nn("Animation","AnimationIteration"),animationstart:Nn("Animation","AnimationStart"),transitionrun:Nn("Transition","TransitionRun"),transitionstart:Nn("Transition","TransitionStart"),transitioncancel:Nn("Transition","TransitionCancel"),transitionend:Nn("Transition","TransitionEnd")},tc={},Of={};wa&&(Of=document.createElement("div").style,"AnimationEvent"in window||(delete or.animationend.animation,delete or.animationiteration.animation,delete or.animationstart.animation),"TransitionEvent"in window||delete or.transitionend.transition);function kn(e){if(tc[e])return tc[e];if(!or[e])return e;var t=or[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Of)return tc[e]=t[s];return e}var Rf=kn("animationend"),Df=kn("animationiteration"),Lf=kn("animationstart"),Qy=kn("transitionrun"),Jy=kn("transitionstart"),Xy=kn("transitioncancel"),zf=kn("transitionend"),Uf=new Map,ac="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ac.push("scrollEnd");function sa(e,t){Uf.set(e,t),_n(t,[e])}var Vi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Jt=[],cr=0,nc=0;function Pi(){for(var e=cr,t=nc=cr=0;t<e;){var s=Jt[t];Jt[t++]=null;var l=Jt[t];Jt[t++]=null;var d=Jt[t];Jt[t++]=null;var f=Jt[t];if(Jt[t++]=null,l!==null&&d!==null){var y=l.pending;y===null?d.next=d:(d.next=y.next,y.next=d),l.pending=d}f!==0&&Mf(s,d,f)}}function Ii(e,t,s,l){Jt[cr++]=e,Jt[cr++]=t,Jt[cr++]=s,Jt[cr++]=l,nc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function rc(e,t,s,l){return Ii(e,t,s,l),Hi(e)}function An(e,t){return Ii(e,null,null,t),Hi(e)}function Mf(e,t,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var d=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(d=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,d&&t!==null&&(d=31-Nt(s),e=f.hiddenUpdates,l=e[d],l===null?e[d]=[t]:l.push(t),t.lane=s|536870912),f):null}function Hi(e){if(50<Ps)throw Ps=0,hu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ur={};function Fy(e,t,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(e,t,s,l){return new Fy(e,t,s,l)}function sc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sa(e,t){var s=e.alternate;return s===null?(s=qt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function qf(e,t){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,t=s.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Gi(e,t,s,l,d,f){var y=0;if(l=e,typeof e=="function")sc(e)&&(y=1);else if(typeof e=="string")y=ab(e,s,te.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case fe:return e=qt(31,s,t,d),e.elementType=fe,e.lanes=f,e;case N:return Cn(s.children,d,f,t);case j:y=8,d|=24;break;case A:return e=qt(12,s,t,d|2),e.elementType=A,e.lanes=f,e;case J:return e=qt(13,s,t,d),e.elementType=J,e.lanes=f,e;case D:return e=qt(19,s,t,d),e.elementType=D,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C:y=10;break e;case R:y=9;break e;case B:y=11;break e;case G:y=14;break e;case pe:y=16,l=null;break e}y=29,s=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=qt(y,s,t,d),t.elementType=e,t.type=l,t.lanes=f,t}function Cn(e,t,s,l){return e=qt(7,e,l,t),e.lanes=s,e}function ic(e,t,s){return e=qt(6,e,null,t),e.lanes=s,e}function Bf(e){var t=qt(18,null,null,0);return t.stateNode=e,t}function lc(e,t,s){return t=qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var $f=new WeakMap;function Xt(e,t){if(typeof e=="object"&&e!==null){var s=$f.get(e);return s!==void 0?s:(t={value:e,source:t,stack:jt(t)},$f.set(e,t),t)}return{value:e,source:t,stack:jt(t)}}var dr=[],fr=0,Ki=null,ws=0,Ft=[],Zt=0,Ka=null,ha=1,ga="";function _a(e,t){dr[fr++]=ws,dr[fr++]=Ki,Ki=e,ws=t}function Vf(e,t,s){Ft[Zt++]=ha,Ft[Zt++]=ga,Ft[Zt++]=Ka,Ka=e;var l=ha;e=ga;var d=32-Nt(l)-1;l&=~(1<<d),s+=1;var f=32-Nt(t)+d;if(30<f){var y=d-d%5;f=(l&(1<<y)-1).toString(32),l>>=y,d-=y,ha=1<<32-Nt(t)+d|s<<d|l,ga=f+e}else ha=1<<f|s<<d|l,ga=e}function oc(e){e.return!==null&&(_a(e,1),Vf(e,1,0))}function cc(e){for(;e===Ki;)Ki=dr[--fr],dr[fr]=null,ws=dr[--fr],dr[fr]=null;for(;e===Ka;)Ka=Ft[--Zt],Ft[Zt]=null,ga=Ft[--Zt],Ft[Zt]=null,ha=Ft[--Zt],Ft[Zt]=null}function Pf(e,t){Ft[Zt++]=ha,Ft[Zt++]=ga,Ft[Zt++]=Ka,ha=t.id,ga=t.overflow,Ka=e}var mt=null,Ge=null,Ee=!1,Ya=null,Wt=!1,uc=Error(i(519));function Qa(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ss(Xt(t,e)),uc}function If(e){var t=e.stateNode,s=e.type,l=e.memoizedProps;switch(t[gt]=e,t[Ct]=l,s){case"dialog":ke("cancel",t),ke("close",t);break;case"iframe":case"object":case"embed":ke("load",t);break;case"video":case"audio":for(s=0;s<Hs.length;s++)ke(Hs[s],t);break;case"source":ke("error",t);break;case"img":case"image":case"link":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"input":ke("invalid",t),tf(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ke("invalid",t);break;case"textarea":ke("invalid",t),nf(t,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||t.textContent===""+s||l.suppressHydrationWarning===!0||im(t.textContent,s)?(l.popover!=null&&(ke("beforetoggle",t),ke("toggle",t)),l.onScroll!=null&&ke("scroll",t),l.onScrollEnd!=null&&ke("scrollend",t),l.onClick!=null&&(t.onclick=xa),t=!0):t=!1,t||Qa(e,!0)}function Hf(e){for(mt=e.return;mt;)switch(mt.tag){case 5:case 31:case 13:Wt=!1;return;case 27:case 3:Wt=!0;return;default:mt=mt.return}}function hr(e){if(e!==mt)return!1;if(!Ee)return Hf(e),Ee=!0,!1;var t=e.tag,s;if((s=t!==3&&t!==27)&&((s=t===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Cu(e.type,e.memoizedProps)),s=!s),s&&Ge&&Qa(e),Hf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Ge=mm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Ge=mm(e)}else t===27?(t=Ge,cn(e.type)?(e=Du,Du=null,Ge=e):Ge=t):Ge=mt?ta(e.stateNode.nextSibling):null;return!0}function En(){Ge=mt=null,Ee=!1}function dc(){var e=Ya;return e!==null&&(Dt===null?Dt=e:Dt.push.apply(Dt,e),Ya=null),e}function Ss(e){Ya===null?Ya=[e]:Ya.push(e)}var fc=O(null),Tn=null,ja=null;function Ja(e,t,s){F(fc,t._currentValue),t._currentValue=s}function Na(e){e._currentValue=fc.current,Y(fc)}function hc(e,t,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===s)break;e=e.return}}function gc(e,t,s,l){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var f=d.dependencies;if(f!==null){var y=d.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=d;for(var k=0;k<t.length;k++)if(b.context===t[k]){f.lanes|=s,b=f.alternate,b!==null&&(b.lanes|=s),hc(f.return,s,e),l||(y=null);break e}f=b.next}}else if(d.tag===18){if(y=d.return,y===null)throw Error(i(341));y.lanes|=s,f=y.alternate,f!==null&&(f.lanes|=s),hc(y,s,e),y=null}else y=d.child;if(y!==null)y.return=d;else for(y=d;y!==null;){if(y===e){y=null;break}if(d=y.sibling,d!==null){d.return=y.return,y=d;break}y=y.return}d=y}}function gr(e,t,s,l){e=null;for(var d=t,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var y=d.alternate;if(y===null)throw Error(i(387));if(y=y.memoizedProps,y!==null){var b=d.type;Mt(d.pendingProps.value,y.value)||(e!==null?e.push(b):e=[b])}}else if(d===Q.current){if(y=d.alternate,y===null)throw Error(i(387));y.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Js):e=[Js])}d=d.return}e!==null&&gc(t,e,s,l),t.flags|=262144}function Yi(e){for(e=e.firstContext;e!==null;){if(!Mt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function On(e){Tn=e,ja=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function pt(e){return Gf(Tn,e)}function Qi(e,t){return Tn===null&&On(e),Gf(e,t)}function Gf(e,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},ja===null){if(e===null)throw Error(i(308));ja=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ja=ja.next=t;return s}var Zy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(s){return s()})}},Wy=n.unstable_scheduleCallback,ev=n.unstable_NormalPriority,at={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mc(){return{controller:new Zy,data:new Map,refCount:0}}function _s(e){e.refCount--,e.refCount===0&&Wy(ev,function(){e.controller.abort()})}var js=null,pc=0,mr=0,pr=null;function tv(e,t){if(js===null){var s=js=[];pc=0,mr=bu(),pr={status:"pending",value:void 0,then:function(l){s.push(l)}}}return pc++,t.then(Kf,Kf),t}function Kf(){if(--pc===0&&js!==null){pr!==null&&(pr.status="fulfilled");var e=js;js=null,mr=0,pr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function av(e,t){var s=[],l={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var d=0;d<s.length;d++)(0,s[d])(t)},function(d){for(l.status="rejected",l.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),l}var Yf=z.S;z.S=function(e,t){Tg=ht(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&tv(e,t),Yf!==null&&Yf(e,t)};var Rn=O(null);function yc(){var e=Rn.current;return e!==null?e:Pe.pooledCache}function Ji(e,t){t===null?F(Rn,Rn.current):F(Rn,t.pool)}function Qf(){var e=yc();return e===null?null:{parent:at._currentValue,pool:e}}var yr=Error(i(460)),vc=Error(i(474)),Xi=Error(i(542)),Fi={then:function(){}};function Jf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Xf(e,t,s){switch(s=e[s],s===void 0?e.push(t):s!==t&&(t.then(xa,xa),t=s),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Zf(e),e;default:if(typeof t.status=="string")t.then(xa,xa);else{if(e=Pe,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var d=t;d.status="fulfilled",d.value=l}},function(l){if(t.status==="pending"){var d=t;d.status="rejected",d.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Zf(e),e}throw Ln=t,yr}}function Dn(e){try{var t=e._init;return t(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ln=s,yr):s}}var Ln=null;function Ff(){if(Ln===null)throw Error(i(459));var e=Ln;return Ln=null,e}function Zf(e){if(e===yr||e===Xi)throw Error(i(483))}var vr=null,Ns=0;function Zi(e){var t=Ns;return Ns+=1,vr===null&&(vr=[]),Xf(vr,e,t)}function ks(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Wi(e,t){throw t.$$typeof===x?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Wf(e){function t(L,E){if(e){var U=L.deletions;U===null?(L.deletions=[E],L.flags|=16):U.push(E)}}function s(L,E){if(!e)return null;for(;E!==null;)t(L,E),E=E.sibling;return null}function l(L){for(var E=new Map;L!==null;)L.key!==null?E.set(L.key,L):E.set(L.index,L),L=L.sibling;return E}function d(L,E){return L=Sa(L,E),L.index=0,L.sibling=null,L}function f(L,E,U){return L.index=U,e?(U=L.alternate,U!==null?(U=U.index,U<E?(L.flags|=67108866,E):U):(L.flags|=67108866,E)):(L.flags|=1048576,E)}function y(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function b(L,E,U,H){return E===null||E.tag!==6?(E=ic(U,L.mode,H),E.return=L,E):(E=d(E,U),E.return=L,E)}function k(L,E,U,H){var ie=U.type;return ie===N?V(L,E,U.props.children,H,U.key):E!==null&&(E.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===pe&&Dn(ie)===E.type)?(E=d(E,U.props),ks(E,U),E.return=L,E):(E=Gi(U.type,U.key,U.props,null,L.mode,H),ks(E,U),E.return=L,E)}function M(L,E,U,H){return E===null||E.tag!==4||E.stateNode.containerInfo!==U.containerInfo||E.stateNode.implementation!==U.implementation?(E=lc(U,L.mode,H),E.return=L,E):(E=d(E,U.children||[]),E.return=L,E)}function V(L,E,U,H,ie){return E===null||E.tag!==7?(E=Cn(U,L.mode,H,ie),E.return=L,E):(E=d(E,U),E.return=L,E)}function K(L,E,U){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=ic(""+E,L.mode,U),E.return=L,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case _:return U=Gi(E.type,E.key,E.props,null,L.mode,U),ks(U,E),U.return=L,U;case S:return E=lc(E,L.mode,U),E.return=L,E;case pe:return E=Dn(E),K(L,E,U)}if(le(E)||Ve(E))return E=Cn(E,L.mode,U,null),E.return=L,E;if(typeof E.then=="function")return K(L,Zi(E),U);if(E.$$typeof===C)return K(L,Qi(L,E),U);Wi(L,E)}return null}function q(L,E,U,H){var ie=E!==null?E.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ie!==null?null:b(L,E,""+U,H);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case _:return U.key===ie?k(L,E,U,H):null;case S:return U.key===ie?M(L,E,U,H):null;case pe:return U=Dn(U),q(L,E,U,H)}if(le(U)||Ve(U))return ie!==null?null:V(L,E,U,H,null);if(typeof U.then=="function")return q(L,E,Zi(U),H);if(U.$$typeof===C)return q(L,E,Qi(L,U),H);Wi(L,U)}return null}function $(L,E,U,H,ie){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return L=L.get(U)||null,b(E,L,""+H,ie);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case _:return L=L.get(H.key===null?U:H.key)||null,k(E,L,H,ie);case S:return L=L.get(H.key===null?U:H.key)||null,M(E,L,H,ie);case pe:return H=Dn(H),$(L,E,U,H,ie)}if(le(H)||Ve(H))return L=L.get(U)||null,V(E,L,H,ie,null);if(typeof H.then=="function")return $(L,E,U,Zi(H),ie);if(H.$$typeof===C)return $(L,E,U,Qi(E,H),ie);Wi(E,H)}return null}function ee(L,E,U,H){for(var ie=null,Te=null,ne=E,xe=E=0,Ce=null;ne!==null&&xe<U.length;xe++){ne.index>xe?(Ce=ne,ne=null):Ce=ne.sibling;var Oe=q(L,ne,U[xe],H);if(Oe===null){ne===null&&(ne=Ce);break}e&&ne&&Oe.alternate===null&&t(L,ne),E=f(Oe,E,xe),Te===null?ie=Oe:Te.sibling=Oe,Te=Oe,ne=Ce}if(xe===U.length)return s(L,ne),Ee&&_a(L,xe),ie;if(ne===null){for(;xe<U.length;xe++)ne=K(L,U[xe],H),ne!==null&&(E=f(ne,E,xe),Te===null?ie=ne:Te.sibling=ne,Te=ne);return Ee&&_a(L,xe),ie}for(ne=l(ne);xe<U.length;xe++)Ce=$(ne,L,xe,U[xe],H),Ce!==null&&(e&&Ce.alternate!==null&&ne.delete(Ce.key===null?xe:Ce.key),E=f(Ce,E,xe),Te===null?ie=Ce:Te.sibling=Ce,Te=Ce);return e&&ne.forEach(function(gn){return t(L,gn)}),Ee&&_a(L,xe),ie}function oe(L,E,U,H){if(U==null)throw Error(i(151));for(var ie=null,Te=null,ne=E,xe=E=0,Ce=null,Oe=U.next();ne!==null&&!Oe.done;xe++,Oe=U.next()){ne.index>xe?(Ce=ne,ne=null):Ce=ne.sibling;var gn=q(L,ne,Oe.value,H);if(gn===null){ne===null&&(ne=Ce);break}e&&ne&&gn.alternate===null&&t(L,ne),E=f(gn,E,xe),Te===null?ie=gn:Te.sibling=gn,Te=gn,ne=Ce}if(Oe.done)return s(L,ne),Ee&&_a(L,xe),ie;if(ne===null){for(;!Oe.done;xe++,Oe=U.next())Oe=K(L,Oe.value,H),Oe!==null&&(E=f(Oe,E,xe),Te===null?ie=Oe:Te.sibling=Oe,Te=Oe);return Ee&&_a(L,xe),ie}for(ne=l(ne);!Oe.done;xe++,Oe=U.next())Oe=$(ne,L,xe,Oe.value,H),Oe!==null&&(e&&Oe.alternate!==null&&ne.delete(Oe.key===null?xe:Oe.key),E=f(Oe,E,xe),Te===null?ie=Oe:Te.sibling=Oe,Te=Oe);return e&&ne.forEach(function(hb){return t(L,hb)}),Ee&&_a(L,xe),ie}function Be(L,E,U,H){if(typeof U=="object"&&U!==null&&U.type===N&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case _:e:{for(var ie=U.key;E!==null;){if(E.key===ie){if(ie=U.type,ie===N){if(E.tag===7){s(L,E.sibling),H=d(E,U.props.children),H.return=L,L=H;break e}}else if(E.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===pe&&Dn(ie)===E.type){s(L,E.sibling),H=d(E,U.props),ks(H,U),H.return=L,L=H;break e}s(L,E);break}else t(L,E);E=E.sibling}U.type===N?(H=Cn(U.props.children,L.mode,H,U.key),H.return=L,L=H):(H=Gi(U.type,U.key,U.props,null,L.mode,H),ks(H,U),H.return=L,L=H)}return y(L);case S:e:{for(ie=U.key;E!==null;){if(E.key===ie)if(E.tag===4&&E.stateNode.containerInfo===U.containerInfo&&E.stateNode.implementation===U.implementation){s(L,E.sibling),H=d(E,U.children||[]),H.return=L,L=H;break e}else{s(L,E);break}else t(L,E);E=E.sibling}H=lc(U,L.mode,H),H.return=L,L=H}return y(L);case pe:return U=Dn(U),Be(L,E,U,H)}if(le(U))return ee(L,E,U,H);if(Ve(U)){if(ie=Ve(U),typeof ie!="function")throw Error(i(150));return U=ie.call(U),oe(L,E,U,H)}if(typeof U.then=="function")return Be(L,E,Zi(U),H);if(U.$$typeof===C)return Be(L,E,Qi(L,U),H);Wi(L,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,E!==null&&E.tag===6?(s(L,E.sibling),H=d(E,U),H.return=L,L=H):(s(L,E),H=ic(U,L.mode,H),H.return=L,L=H),y(L)):s(L,E)}return function(L,E,U,H){try{Ns=0;var ie=Be(L,E,U,H);return vr=null,ie}catch(ne){if(ne===yr||ne===Xi)throw ne;var Te=qt(29,ne,null,L.mode);return Te.lanes=H,Te.return=L,Te}finally{}}}var zn=Wf(!0),eh=Wf(!1),Xa=!1;function bc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Za(e,t,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Re&2)!==0){var d=l.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),l.pending=t,t=Hi(e),Mf(e,null,s),t}return Ii(e,l,t,s),Hi(e)}function As(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,s|=l,t.lanes=s,Hd(e,s)}}function wc(e,t){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var d=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?d=f=y:f=f.next=y,s=s.next}while(s!==null);f===null?d=f=t:f=f.next=t}else d=f=t;s={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}var Sc=!1;function Cs(){if(Sc){var e=pr;if(e!==null)throw e}}function Es(e,t,s,l){Sc=!1;var d=e.updateQueue;Xa=!1;var f=d.firstBaseUpdate,y=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var k=b,M=k.next;k.next=null,y===null?f=M:y.next=M,y=k;var V=e.alternate;V!==null&&(V=V.updateQueue,b=V.lastBaseUpdate,b!==y&&(b===null?V.firstBaseUpdate=M:b.next=M,V.lastBaseUpdate=k))}if(f!==null){var K=d.baseState;y=0,V=M=k=null,b=f;do{var q=b.lane&-536870913,$=q!==b.lane;if($?(Ae&q)===q:(l&q)===q){q!==0&&q===mr&&(Sc=!0),V!==null&&(V=V.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ee=e,oe=b;q=t;var Be=s;switch(oe.tag){case 1:if(ee=oe.payload,typeof ee=="function"){K=ee.call(Be,K,q);break e}K=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=oe.payload,q=typeof ee=="function"?ee.call(Be,K,q):ee,q==null)break e;K=w({},K,q);break e;case 2:Xa=!0}}q=b.callback,q!==null&&(e.flags|=64,$&&(e.flags|=8192),$=d.callbacks,$===null?d.callbacks=[q]:$.push(q))}else $={lane:q,tag:b.tag,payload:b.payload,callback:b.callback,next:null},V===null?(M=V=$,k=K):V=V.next=$,y|=q;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;$=b,b=$.next,$.next=null,d.lastBaseUpdate=$,d.shared.pending=null}}while(!0);V===null&&(k=K),d.baseState=k,d.firstBaseUpdate=M,d.lastBaseUpdate=V,f===null&&(d.shared.lanes=0),nn|=y,e.lanes=y,e.memoizedState=K}}function th(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function ah(e,t){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)th(s[e],t)}var br=O(null),el=O(0);function nh(e,t){e=La,F(el,e),F(br,t),La=e|t.baseLanes}function _c(){F(el,La),F(br,br.current)}function jc(){La=el.current,Y(br),Y(el)}var Bt=O(null),ea=null;function Wa(e){var t=e.alternate;F(We,We.current&1),F(Bt,e),ea===null&&(t===null||br.current!==null||t.memoizedState!==null)&&(ea=e)}function Nc(e){F(We,We.current),F(Bt,e),ea===null&&(ea=e)}function rh(e){e.tag===22?(F(We,We.current),F(Bt,e),ea===null&&(ea=e)):en()}function en(){F(We,We.current),F(Bt,Bt.current)}function $t(e){Y(Bt),ea===e&&(ea=null),Y(We)}var We=O(0);function tl(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Ou(s)||Ru(s)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ka=0,ve=null,Me=null,nt=null,al=!1,xr=!1,Un=!1,nl=0,Ts=0,wr=null,nv=0;function Xe(){throw Error(i(321))}function kc(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Mt(e[s],t[s]))return!1;return!0}function Ac(e,t,s,l,d,f){return ka=f,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?Vh:Pc,Un=!1,f=s(l,d),Un=!1,xr&&(f=ih(t,s,l,d)),sh(e),f}function sh(e){z.H=Ds;var t=Me!==null&&Me.next!==null;if(ka=0,nt=Me=ve=null,al=!1,Ts=0,wr=null,t)throw Error(i(300));e===null||rt||(e=e.dependencies,e!==null&&Yi(e)&&(rt=!0))}function ih(e,t,s,l){ve=e;var d=0;do{if(xr&&(wr=null),Ts=0,xr=!1,25<=d)throw Error(i(301));if(d+=1,nt=Me=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}z.H=Ph,f=t(s,l)}while(xr);return f}function rv(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?Os(t):t,e=e.useState()[0],(Me!==null?Me.memoizedState:null)!==e&&(ve.flags|=1024),t}function Cc(){var e=nl!==0;return nl=0,e}function Ec(e,t,s){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s}function Tc(e){if(al){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}al=!1}ka=0,nt=Me=ve=null,xr=!1,Ts=nl=0,wr=null}function kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?ve.memoizedState=nt=e:nt=nt.next=e,nt}function et(){if(Me===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=nt===null?ve.memoizedState:nt.next;if(t!==null)nt=t,Me=e;else{if(e===null)throw ve.alternate===null?Error(i(467)):Error(i(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},nt===null?ve.memoizedState=nt=e:nt=nt.next=e}return nt}function rl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Os(e){var t=Ts;return Ts+=1,wr===null&&(wr=[]),e=Xf(wr,e,t),t=ve,(nt===null?t.memoizedState:nt.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?Vh:Pc),e}function sl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Os(e);if(e.$$typeof===C)return pt(e)}throw Error(i(438,String(e)))}function Oc(e){var t=null,s=ve.updateQueue;if(s!==null&&(t=s.memoCache),t==null){var l=ve.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(d){return d.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),s===null&&(s=rl(),ve.updateQueue=s),s.memoCache=t,s=t.data[t.index],s===void 0)for(s=t.data[t.index]=Array(e),l=0;l<e;l++)s[l]=ct;return t.index++,s}function Aa(e,t){return typeof t=="function"?t(e):t}function il(e){var t=et();return Rc(t,Me,e)}function Rc(e,t,s){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var d=e.baseQueue,f=l.pending;if(f!==null){if(d!==null){var y=d.next;d.next=f.next,f.next=y}t.baseQueue=d=f,l.pending=null}if(f=e.baseState,d===null)e.memoizedState=f;else{t=d.next;var b=y=null,k=null,M=t,V=!1;do{var K=M.lane&-536870913;if(K!==M.lane?(Ae&K)===K:(ka&K)===K){var q=M.revertLane;if(q===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),K===mr&&(V=!0);else if((ka&q)===q){M=M.next,q===mr&&(V=!0);continue}else K={lane:0,revertLane:M.revertLane,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},k===null?(b=k=K,y=f):k=k.next=K,ve.lanes|=q,nn|=q;K=M.action,Un&&s(f,K),f=M.hasEagerState?M.eagerState:s(f,K)}else q={lane:K,revertLane:M.revertLane,gesture:M.gesture,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},k===null?(b=k=q,y=f):k=k.next=q,ve.lanes|=K,nn|=K;M=M.next}while(M!==null&&M!==t);if(k===null?y=f:k.next=b,!Mt(f,e.memoizedState)&&(rt=!0,V&&(s=pr,s!==null)))throw s;e.memoizedState=f,e.baseState=y,e.baseQueue=k,l.lastRenderedState=f}return d===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Dc(e){var t=et(),s=t.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=e;var l=s.dispatch,d=s.pending,f=t.memoizedState;if(d!==null){s.pending=null;var y=d=d.next;do f=e(f,y.action),y=y.next;while(y!==d);Mt(f,t.memoizedState)||(rt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),s.lastRenderedState=f}return[f,l]}function lh(e,t,s){var l=ve,d=et(),f=Ee;if(f){if(s===void 0)throw Error(i(407));s=s()}else s=t();var y=!Mt((Me||d).memoizedState,s);if(y&&(d.memoizedState=s,rt=!0),d=d.queue,Uc(uh.bind(null,l,d,e),[e]),d.getSnapshot!==t||y||nt!==null&&nt.memoizedState.tag&1){if(l.flags|=2048,Sr(9,{destroy:void 0},ch.bind(null,l,d,s,t),null),Pe===null)throw Error(i(349));f||(ka&127)!==0||oh(l,t,s)}return s}function oh(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=ve.updateQueue,t===null?(t=rl(),ve.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function ch(e,t,s,l){t.value=s,t.getSnapshot=l,dh(t)&&fh(e)}function uh(e,t,s){return s(function(){dh(t)&&fh(e)})}function dh(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Mt(e,s)}catch{return!0}}function fh(e){var t=An(e,2);t!==null&&Lt(t,e,2)}function Lc(e){var t=kt();if(typeof e=="function"){var s=e;if(e=s(),Un){ra(!0);try{s()}finally{ra(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:e},t}function hh(e,t,s,l){return e.baseState=s,Rc(e,Me,typeof l=="function"?l:Aa)}function sv(e,t,s,l,d){if(cl(e))throw Error(i(485));if(e=t.action,e!==null){var f={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};z.T!==null?s(!0):f.isTransition=!1,l(f),s=t.pending,s===null?(f.next=t.pending=f,gh(t,f)):(f.next=s.next,t.pending=s.next=f)}}function gh(e,t){var s=t.action,l=t.payload,d=e.state;if(t.isTransition){var f=z.T,y={};z.T=y;try{var b=s(d,l),k=z.S;k!==null&&k(y,b),mh(e,t,b)}catch(M){zc(e,t,M)}finally{f!==null&&y.types!==null&&(f.types=y.types),z.T=f}}else try{f=s(d,l),mh(e,t,f)}catch(M){zc(e,t,M)}}function mh(e,t,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){ph(e,t,l)},function(l){return zc(e,t,l)}):ph(e,t,s)}function ph(e,t,s){t.status="fulfilled",t.value=s,yh(t),e.state=s,t=e.pending,t!==null&&(s=t.next,s===t?e.pending=null:(s=s.next,t.next=s,gh(e,s)))}function zc(e,t,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=s,yh(t),t=t.next;while(t!==l)}e.action=null}function yh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function vh(e,t){return t}function bh(e,t){if(Ee){var s=Pe.formState;if(s!==null){e:{var l=ve;if(Ee){if(Ge){t:{for(var d=Ge,f=Wt;d.nodeType!==8;){if(!f){d=null;break t}if(d=ta(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){Ge=ta(d.nextSibling),l=d.data==="F!";break e}}Qa(l)}l=!1}l&&(t=s[0])}}return s=kt(),s.memoizedState=s.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vh,lastRenderedState:t},s.queue=l,s=qh.bind(null,ve,l),l.dispatch=s,l=Lc(!1),f=Vc.bind(null,ve,!1,l.queue),l=kt(),d={state:t,dispatch:null,action:e,pending:null},l.queue=d,s=sv.bind(null,ve,d,f,s),d.dispatch=s,l.memoizedState=e,[t,s,!1]}function xh(e){var t=et();return wh(t,Me,e)}function wh(e,t,s){if(t=Rc(e,t,vh)[0],e=il(Aa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Os(t)}catch(y){throw y===yr?Xi:y}else l=t;t=et();var d=t.queue,f=d.dispatch;return s!==t.memoizedState&&(ve.flags|=2048,Sr(9,{destroy:void 0},iv.bind(null,d,s),null)),[l,f,e]}function iv(e,t){e.action=t}function Sh(e){var t=et(),s=Me;if(s!==null)return wh(t,s,e);et(),t=t.memoizedState,s=et();var l=s.queue.dispatch;return s.memoizedState=e,[t,l,!1]}function Sr(e,t,s,l){return e={tag:e,create:s,deps:l,inst:t,next:null},t=ve.updateQueue,t===null&&(t=rl(),ve.updateQueue=t),s=t.lastEffect,s===null?t.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,t.lastEffect=e),e}function _h(){return et().memoizedState}function ll(e,t,s,l){var d=kt();ve.flags|=e,d.memoizedState=Sr(1|t,{destroy:void 0},s,l===void 0?null:l)}function ol(e,t,s,l){var d=et();l=l===void 0?null:l;var f=d.memoizedState.inst;Me!==null&&l!==null&&kc(l,Me.memoizedState.deps)?d.memoizedState=Sr(t,f,s,l):(ve.flags|=e,d.memoizedState=Sr(1|t,f,s,l))}function jh(e,t){ll(8390656,8,e,t)}function Uc(e,t){ol(2048,8,e,t)}function lv(e){ve.flags|=4;var t=ve.updateQueue;if(t===null)t=rl(),ve.updateQueue=t,t.events=[e];else{var s=t.events;s===null?t.events=[e]:s.push(e)}}function Nh(e){var t=et().memoizedState;return lv({ref:t,nextImpl:e}),function(){if((Re&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function kh(e,t){return ol(4,2,e,t)}function Ah(e,t){return ol(4,4,e,t)}function Ch(e,t){if(typeof t=="function"){e=e();var s=t(e);return function(){typeof s=="function"?s():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Eh(e,t,s){s=s!=null?s.concat([e]):null,ol(4,4,Ch.bind(null,t,e),s)}function Mc(){}function Th(e,t){var s=et();t=t===void 0?null:t;var l=s.memoizedState;return t!==null&&kc(t,l[1])?l[0]:(s.memoizedState=[e,t],e)}function Oh(e,t){var s=et();t=t===void 0?null:t;var l=s.memoizedState;if(t!==null&&kc(t,l[1]))return l[0];if(l=e(),Un){ra(!0);try{e()}finally{ra(!1)}}return s.memoizedState=[l,t],l}function qc(e,t,s){return s===void 0||(ka&1073741824)!==0&&(Ae&261930)===0?e.memoizedState=t:(e.memoizedState=s,e=Rg(),ve.lanes|=e,nn|=e,s)}function Rh(e,t,s,l){return Mt(s,t)?s:br.current!==null?(e=qc(e,s,l),Mt(e,t)||(rt=!0),e):(ka&42)===0||(ka&1073741824)!==0&&(Ae&261930)===0?(rt=!0,e.memoizedState=s):(e=Rg(),ve.lanes|=e,nn|=e,t)}function Dh(e,t,s,l,d){var f=P.p;P.p=f!==0&&8>f?f:8;var y=z.T,b={};z.T=b,Vc(e,!1,t,s);try{var k=d(),M=z.S;if(M!==null&&M(b,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var V=av(k,l);Rs(e,t,V,It(e))}else Rs(e,t,l,It(e))}catch(K){Rs(e,t,{then:function(){},status:"rejected",reason:K},It())}finally{P.p=f,y!==null&&b.types!==null&&(y.types=b.types),z.T=y}}function ov(){}function Bc(e,t,s,l){if(e.tag!==5)throw Error(i(476));var d=Lh(e).queue;Dh(e,d,t,Z,s===null?ov:function(){return zh(e),s(l)})}function Lh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:Z},next:null};var s={};return t.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:s},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function zh(e){var t=Lh(e);t.next===null&&(t=e.alternate.memoizedState),Rs(e,t.next.queue,{},It())}function $c(){return pt(Js)}function Uh(){return et().memoizedState}function Mh(){return et().memoizedState}function cv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var s=It();e=Fa(s);var l=Za(t,e,s);l!==null&&(Lt(l,t,s),As(l,t,s)),t={cache:mc()},e.payload=t;return}t=t.return}}function uv(e,t,s){var l=It();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},cl(e)?Bh(t,s):(s=rc(e,t,s,l),s!==null&&(Lt(s,e,l),$h(s,t,l)))}function qh(e,t,s){var l=It();Rs(e,t,s,l)}function Rs(e,t,s,l){var d={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(cl(e))Bh(t,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var y=t.lastRenderedState,b=f(y,s);if(d.hasEagerState=!0,d.eagerState=b,Mt(b,y))return Ii(e,t,d,0),Pe===null&&Pi(),!1}catch{}finally{}if(s=rc(e,t,d,l),s!==null)return Lt(s,e,l),$h(s,t,l),!0}return!1}function Vc(e,t,s,l){if(l={lane:2,revertLane:bu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},cl(e)){if(t)throw Error(i(479))}else t=rc(e,s,l,2),t!==null&&Lt(t,e,2)}function cl(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function Bh(e,t){xr=al=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function $h(e,t,s){if((s&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,s|=l,t.lanes=s,Hd(e,s)}}var Ds={readContext:pt,use:sl,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe};Ds.useEffectEvent=Xe;var Vh={readContext:pt,use:sl,useCallback:function(e,t){return kt().memoizedState=[e,t===void 0?null:t],e},useContext:pt,useEffect:jh,useImperativeHandle:function(e,t,s){s=s!=null?s.concat([e]):null,ll(4194308,4,Ch.bind(null,t,e),s)},useLayoutEffect:function(e,t){return ll(4194308,4,e,t)},useInsertionEffect:function(e,t){ll(4,2,e,t)},useMemo:function(e,t){var s=kt();t=t===void 0?null:t;var l=e();if(Un){ra(!0);try{e()}finally{ra(!1)}}return s.memoizedState=[l,t],l},useReducer:function(e,t,s){var l=kt();if(s!==void 0){var d=s(t);if(Un){ra(!0);try{s(t)}finally{ra(!1)}}}else d=t;return l.memoizedState=l.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},l.queue=e,e=e.dispatch=uv.bind(null,ve,e),[l.memoizedState,e]},useRef:function(e){var t=kt();return e={current:e},t.memoizedState=e},useState:function(e){e=Lc(e);var t=e.queue,s=qh.bind(null,ve,t);return t.dispatch=s,[e.memoizedState,s]},useDebugValue:Mc,useDeferredValue:function(e,t){var s=kt();return qc(s,e,t)},useTransition:function(){var e=Lc(!1);return e=Dh.bind(null,ve,e.queue,!0,!1),kt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,s){var l=ve,d=kt();if(Ee){if(s===void 0)throw Error(i(407));s=s()}else{if(s=t(),Pe===null)throw Error(i(349));(Ae&127)!==0||oh(l,t,s)}d.memoizedState=s;var f={value:s,getSnapshot:t};return d.queue=f,jh(uh.bind(null,l,f,e),[e]),l.flags|=2048,Sr(9,{destroy:void 0},ch.bind(null,l,f,s,t),null),s},useId:function(){var e=kt(),t=Pe.identifierPrefix;if(Ee){var s=ga,l=ha;s=(l&~(1<<32-Nt(l)-1)).toString(32)+s,t="_"+t+"R_"+s,s=nl++,0<s&&(t+="H"+s.toString(32)),t+="_"}else s=nv++,t="_"+t+"r_"+s.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:$c,useFormState:bh,useActionState:bh,useOptimistic:function(e){var t=kt();t.memoizedState=t.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=Vc.bind(null,ve,!0,s),s.dispatch=t,[e,t]},useMemoCache:Oc,useCacheRefresh:function(){return kt().memoizedState=cv.bind(null,ve)},useEffectEvent:function(e){var t=kt(),s={impl:e};return t.memoizedState=s,function(){if((Re&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}},Pc={readContext:pt,use:sl,useCallback:Th,useContext:pt,useEffect:Uc,useImperativeHandle:Eh,useInsertionEffect:kh,useLayoutEffect:Ah,useMemo:Oh,useReducer:il,useRef:_h,useState:function(){return il(Aa)},useDebugValue:Mc,useDeferredValue:function(e,t){var s=et();return Rh(s,Me.memoizedState,e,t)},useTransition:function(){var e=il(Aa)[0],t=et().memoizedState;return[typeof e=="boolean"?e:Os(e),t]},useSyncExternalStore:lh,useId:Uh,useHostTransitionStatus:$c,useFormState:xh,useActionState:xh,useOptimistic:function(e,t){var s=et();return hh(s,Me,e,t)},useMemoCache:Oc,useCacheRefresh:Mh};Pc.useEffectEvent=Nh;var Ph={readContext:pt,use:sl,useCallback:Th,useContext:pt,useEffect:Uc,useImperativeHandle:Eh,useInsertionEffect:kh,useLayoutEffect:Ah,useMemo:Oh,useReducer:Dc,useRef:_h,useState:function(){return Dc(Aa)},useDebugValue:Mc,useDeferredValue:function(e,t){var s=et();return Me===null?qc(s,e,t):Rh(s,Me.memoizedState,e,t)},useTransition:function(){var e=Dc(Aa)[0],t=et().memoizedState;return[typeof e=="boolean"?e:Os(e),t]},useSyncExternalStore:lh,useId:Uh,useHostTransitionStatus:$c,useFormState:Sh,useActionState:Sh,useOptimistic:function(e,t){var s=et();return Me!==null?hh(s,Me,e,t):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Oc,useCacheRefresh:Mh};Ph.useEffectEvent=Nh;function Ic(e,t,s,l){t=e.memoizedState,s=s(l,t),s=s==null?t:w({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Hc={enqueueSetState:function(e,t,s){e=e._reactInternals;var l=It(),d=Fa(l);d.payload=t,s!=null&&(d.callback=s),t=Za(e,d,l),t!==null&&(Lt(t,e,l),As(t,e,l))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var l=It(),d=Fa(l);d.tag=1,d.payload=t,s!=null&&(d.callback=s),t=Za(e,d,l),t!==null&&(Lt(t,e,l),As(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=It(),l=Fa(s);l.tag=2,t!=null&&(l.callback=t),t=Za(e,l,s),t!==null&&(Lt(t,e,s),As(t,e,s))}};function Ih(e,t,s,l,d,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,y):t.prototype&&t.prototype.isPureReactComponent?!bs(s,l)||!bs(d,f):!0}function Hh(e,t,s,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,l),t.state!==e&&Hc.enqueueReplaceState(t,t.state,null)}function Mn(e,t){var s=t;if("ref"in t){s={};for(var l in t)l!=="ref"&&(s[l]=t[l])}if(e=e.defaultProps){s===t&&(s=w({},s));for(var d in e)s[d]===void 0&&(s[d]=e[d])}return s}function Gh(e){Vi(e)}function Kh(e){console.error(e)}function Yh(e){Vi(e)}function ul(e,t){try{var s=e.onUncaughtError;s(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Qh(e,t,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Gc(e,t,s){return s=Fa(s),s.tag=3,s.payload={element:null},s.callback=function(){ul(e,t)},s}function Jh(e){return e=Fa(e),e.tag=3,e}function Xh(e,t,s,l){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;e.payload=function(){return d(f)},e.callback=function(){Qh(t,s,l)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Qh(t,s,l),typeof d!="function"&&(rn===null?rn=new Set([this]):rn.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function dv(e,t,s,l,d){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=s.alternate,t!==null&&gr(t,s,d,!0),s=Bt.current,s!==null){switch(s.tag){case 31:case 13:return ea===null?Sl():s.alternate===null&&Fe===0&&(Fe=3),s.flags&=-257,s.flags|=65536,s.lanes=d,l===Fi?s.flags|=16384:(t=s.updateQueue,t===null?s.updateQueue=new Set([l]):t.add(l),pu(e,l,d)),!1;case 22:return s.flags|=65536,l===Fi?s.flags|=16384:(t=s.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=t):(s=t.retryQueue,s===null?t.retryQueue=new Set([l]):s.add(l)),pu(e,l,d)),!1}throw Error(i(435,s.tag))}return pu(e,l,d),Sl(),!1}if(Ee)return t=Bt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=d,l!==uc&&(e=Error(i(422),{cause:l}),Ss(Xt(e,s)))):(l!==uc&&(t=Error(i(423),{cause:l}),Ss(Xt(t,s))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,l=Xt(l,s),d=Gc(e.stateNode,l,d),wc(e,d),Fe!==4&&(Fe=2)),!1;var f=Error(i(520),{cause:l});if(f=Xt(f,s),Vs===null?Vs=[f]:Vs.push(f),Fe!==4&&(Fe=2),t===null)return!0;l=Xt(l,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,e=d&-d,s.lanes|=e,e=Gc(s.stateNode,l,e),wc(s,e),!1;case 1:if(t=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(rn===null||!rn.has(f))))return s.flags|=65536,d&=-d,s.lanes|=d,d=Jh(d),Xh(d,e,s,l),wc(s,d),!1}s=s.return}while(s!==null);return!1}var Kc=Error(i(461)),rt=!1;function yt(e,t,s,l){t.child=e===null?eh(t,null,s,l):zn(t,e.child,s,l)}function Fh(e,t,s,l,d){s=s.render;var f=t.ref;if("ref"in l){var y={};for(var b in l)b!=="ref"&&(y[b]=l[b])}else y=l;return On(t),l=Ac(e,t,s,y,f,d),b=Cc(),e!==null&&!rt?(Ec(e,t,d),Ca(e,t,d)):(Ee&&b&&oc(t),t.flags|=1,yt(e,t,l,d),t.child)}function Zh(e,t,s,l,d){if(e===null){var f=s.type;return typeof f=="function"&&!sc(f)&&f.defaultProps===void 0&&s.compare===null?(t.tag=15,t.type=f,Wh(e,t,f,l,d)):(e=Gi(s.type,null,l,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!eu(e,d)){var y=f.memoizedProps;if(s=s.compare,s=s!==null?s:bs,s(y,l)&&e.ref===t.ref)return Ca(e,t,d)}return t.flags|=1,e=Sa(f,l),e.ref=t.ref,e.return=t,t.child=e}function Wh(e,t,s,l,d){if(e!==null){var f=e.memoizedProps;if(bs(f,l)&&e.ref===t.ref)if(rt=!1,t.pendingProps=l=f,eu(e,d))(e.flags&131072)!==0&&(rt=!0);else return t.lanes=e.lanes,Ca(e,t,d)}return Yc(e,t,s,l,d)}function eg(e,t,s,l){var d=l.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=t.child=e.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,t.child=null;return tg(e,t,f,s,l)}if((s&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ji(t,f!==null?f.cachePool:null),f!==null?nh(t,f):_c(),rh(t);else return l=t.lanes=536870912,tg(e,t,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Ji(t,f.cachePool),nh(t,f),en(),t.memoizedState=null):(e!==null&&Ji(t,null),_c(),en());return yt(e,t,d,s),t.child}function Ls(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function tg(e,t,s,l,d){var f=yc();return f=f===null?null:{parent:at._currentValue,pool:f},t.memoizedState={baseLanes:s,cachePool:f},e!==null&&Ji(t,null),_c(),rh(t),e!==null&&gr(e,t,l,!0),t.childLanes=d,null}function dl(e,t){return t=hl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function ag(e,t,s){return zn(t,e.child,null,s),e=dl(t,t.pendingProps),e.flags|=2,$t(t),t.memoizedState=null,e}function fv(e,t,s){var l=t.pendingProps,d=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ee){if(l.mode==="hidden")return e=dl(t,l),t.lanes=536870912,Ls(null,e);if(Nc(t),(e=Ge)?(e=gm(e,Wt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ka!==null?{id:ha,overflow:ga}:null,retryLane:536870912,hydrationErrors:null},s=Bf(e),s.return=t,t.child=s,mt=t,Ge=null)):e=null,e===null)throw Qa(t);return t.lanes=536870912,null}return dl(t,l)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if(Nc(t),d)if(t.flags&256)t.flags&=-257,t=ag(e,t,s);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(rt||gr(e,t,s,!1),d=(s&e.childLanes)!==0,rt||d){if(l=Pe,l!==null&&(y=Gd(l,s),y!==0&&y!==f.retryLane))throw f.retryLane=y,An(e,y),Lt(l,e,y),Kc;Sl(),t=ag(e,t,s)}else e=f.treeContext,Ge=ta(y.nextSibling),mt=t,Ee=!0,Ya=null,Wt=!1,e!==null&&Pf(t,e),t=dl(t,l),t.flags|=4096;return t}return e=Sa(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function fl(e,t){var s=t.ref;if(s===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(e===null||e.ref!==s)&&(t.flags|=4194816)}}function Yc(e,t,s,l,d){return On(t),s=Ac(e,t,s,l,void 0,d),l=Cc(),e!==null&&!rt?(Ec(e,t,d),Ca(e,t,d)):(Ee&&l&&oc(t),t.flags|=1,yt(e,t,s,d),t.child)}function ng(e,t,s,l,d,f){return On(t),t.updateQueue=null,s=ih(t,l,s,d),sh(e),l=Cc(),e!==null&&!rt?(Ec(e,t,f),Ca(e,t,f)):(Ee&&l&&oc(t),t.flags|=1,yt(e,t,s,f),t.child)}function rg(e,t,s,l,d){if(On(t),t.stateNode===null){var f=ur,y=s.contextType;typeof y=="object"&&y!==null&&(f=pt(y)),f=new s(l,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Hc,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=l,f.state=t.memoizedState,f.refs={},bc(t),y=s.contextType,f.context=typeof y=="object"&&y!==null?pt(y):ur,f.state=t.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Ic(t,s,y,l),f.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Hc.enqueueReplaceState(f,f.state,null),Es(t,l,f,d),Cs(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){f=t.stateNode;var b=t.memoizedProps,k=Mn(s,b);f.props=k;var M=f.context,V=s.contextType;y=ur,typeof V=="object"&&V!==null&&(y=pt(V));var K=s.getDerivedStateFromProps;V=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,V||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||M!==y)&&Hh(t,f,l,y),Xa=!1;var q=t.memoizedState;f.state=q,Es(t,l,f,d),Cs(),M=t.memoizedState,b||q!==M||Xa?(typeof K=="function"&&(Ic(t,s,K,l),M=t.memoizedState),(k=Xa||Ih(t,s,k,l,q,M,y))?(V||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=M),f.props=l,f.state=M,f.context=y,l=k):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{f=t.stateNode,xc(e,t),y=t.memoizedProps,V=Mn(s,y),f.props=V,K=t.pendingProps,q=f.context,M=s.contextType,k=ur,typeof M=="object"&&M!==null&&(k=pt(M)),b=s.getDerivedStateFromProps,(M=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==K||q!==k)&&Hh(t,f,l,k),Xa=!1,q=t.memoizedState,f.state=q,Es(t,l,f,d),Cs();var $=t.memoizedState;y!==K||q!==$||Xa||e!==null&&e.dependencies!==null&&Yi(e.dependencies)?(typeof b=="function"&&(Ic(t,s,b,l),$=t.memoizedState),(V=Xa||Ih(t,s,V,l,q,$,k)||e!==null&&e.dependencies!==null&&Yi(e.dependencies))?(M||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,$,k),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,$,k)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=$),f.props=l,f.state=$,f.context=k,l=V):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),l=!1)}return f=l,fl(e,t),l=(t.flags&128)!==0,f||l?(f=t.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&l?(t.child=zn(t,e.child,null,d),t.child=zn(t,null,s,d)):yt(e,t,s,d),t.memoizedState=f.state,e=t.child):e=Ca(e,t,d),e}function sg(e,t,s,l){return En(),t.flags|=256,yt(e,t,s,l),t.child}var Qc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jc(e){return{baseLanes:e,cachePool:Qf()}}function Xc(e,t,s){return e=e!==null?e.childLanes&~s:0,t&&(e|=Pt),e}function ig(e,t,s){var l=t.pendingProps,d=!1,f=(t.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(We.current&2)!==0),y&&(d=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ee){if(d?Wa(t):en(),(e=Ge)?(e=gm(e,Wt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ka!==null?{id:ha,overflow:ga}:null,retryLane:536870912,hydrationErrors:null},s=Bf(e),s.return=t,t.child=s,mt=t,Ge=null)):e=null,e===null)throw Qa(t);return Ru(e)?t.lanes=32:t.lanes=536870912,null}var b=l.children;return l=l.fallback,d?(en(),d=t.mode,b=hl({mode:"hidden",children:b},d),l=Cn(l,d,s,null),b.return=t,l.return=t,b.sibling=l,t.child=b,l=t.child,l.memoizedState=Jc(s),l.childLanes=Xc(e,y,s),t.memoizedState=Qc,Ls(null,l)):(Wa(t),Fc(t,b))}var k=e.memoizedState;if(k!==null&&(b=k.dehydrated,b!==null)){if(f)t.flags&256?(Wa(t),t.flags&=-257,t=Zc(e,t,s)):t.memoizedState!==null?(en(),t.child=e.child,t.flags|=128,t=null):(en(),b=l.fallback,d=t.mode,l=hl({mode:"visible",children:l.children},d),b=Cn(b,d,s,null),b.flags|=2,l.return=t,b.return=t,l.sibling=b,t.child=l,zn(t,e.child,null,s),l=t.child,l.memoizedState=Jc(s),l.childLanes=Xc(e,y,s),t.memoizedState=Qc,t=Ls(null,l));else if(Wa(t),Ru(b)){if(y=b.nextSibling&&b.nextSibling.dataset,y)var M=y.dgst;y=M,l=Error(i(419)),l.stack="",l.digest=y,Ss({value:l,source:null,stack:null}),t=Zc(e,t,s)}else if(rt||gr(e,t,s,!1),y=(s&e.childLanes)!==0,rt||y){if(y=Pe,y!==null&&(l=Gd(y,s),l!==0&&l!==k.retryLane))throw k.retryLane=l,An(e,l),Lt(y,e,l),Kc;Ou(b)||Sl(),t=Zc(e,t,s)}else Ou(b)?(t.flags|=192,t.child=e.child,t=null):(e=k.treeContext,Ge=ta(b.nextSibling),mt=t,Ee=!0,Ya=null,Wt=!1,e!==null&&Pf(t,e),t=Fc(t,l.children),t.flags|=4096);return t}return d?(en(),b=l.fallback,d=t.mode,k=e.child,M=k.sibling,l=Sa(k,{mode:"hidden",children:l.children}),l.subtreeFlags=k.subtreeFlags&65011712,M!==null?b=Sa(M,b):(b=Cn(b,d,s,null),b.flags|=2),b.return=t,l.return=t,l.sibling=b,t.child=l,Ls(null,l),l=t.child,b=e.child.memoizedState,b===null?b=Jc(s):(d=b.cachePool,d!==null?(k=at._currentValue,d=d.parent!==k?{parent:k,pool:k}:d):d=Qf(),b={baseLanes:b.baseLanes|s,cachePool:d}),l.memoizedState=b,l.childLanes=Xc(e,y,s),t.memoizedState=Qc,Ls(e.child,l)):(Wa(t),s=e.child,e=s.sibling,s=Sa(s,{mode:"visible",children:l.children}),s.return=t,s.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=s,t.memoizedState=null,s)}function Fc(e,t){return t=hl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function hl(e,t){return e=qt(22,e,null,t),e.lanes=0,e}function Zc(e,t,s){return zn(t,e.child,null,s),e=Fc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lg(e,t,s){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),hc(e.return,t,s)}function Wc(e,t,s,l,d,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:d,treeForkCount:f}:(y.isBackwards=t,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=s,y.tailMode=d,y.treeForkCount=f)}function og(e,t,s){var l=t.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var y=We.current,b=(y&2)!==0;if(b?(y=y&1|2,t.flags|=128):y&=1,F(We,y),yt(e,t,l,s),l=Ee?ws:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lg(e,s,t);else if(e.tag===19)lg(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(s=t.child,d=null;s!==null;)e=s.alternate,e!==null&&tl(e)===null&&(d=s),s=s.sibling;s=d,s===null?(d=t.child,t.child=null):(d=s.sibling,s.sibling=null),Wc(t,!1,d,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&tl(e)===null){t.child=d;break}e=d.sibling,d.sibling=s,s=d,d=e}Wc(t,!0,s,null,f,l);break;case"together":Wc(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function Ca(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),nn|=t.lanes,(s&t.childLanes)===0)if(e!==null){if(gr(e,t,s,!1),(s&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,s=Sa(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Sa(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function eu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Yi(e)))}function hv(e,t,s){switch(t.tag){case 3:X(t,t.stateNode.containerInfo),Ja(t,at,e.memoizedState.cache),En();break;case 27:case 5:je(t);break;case 4:X(t,t.stateNode.containerInfo);break;case 10:Ja(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Nc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Wa(t),t.flags|=128,null):(s&t.child.childLanes)!==0?ig(e,t,s):(Wa(t),e=Ca(e,t,s),e!==null?e.sibling:null);Wa(t);break;case 19:var d=(e.flags&128)!==0;if(l=(s&t.childLanes)!==0,l||(gr(e,t,s,!1),l=(s&t.childLanes)!==0),d){if(l)return og(e,t,s);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),F(We,We.current),l)break;return null;case 22:return t.lanes=0,eg(e,t,s,t.pendingProps);case 24:Ja(t,at,e.memoizedState.cache)}return Ca(e,t,s)}function cg(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps)rt=!0;else{if(!eu(e,s)&&(t.flags&128)===0)return rt=!1,hv(e,t,s);rt=(e.flags&131072)!==0}else rt=!1,Ee&&(t.flags&1048576)!==0&&Vf(t,ws,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Dn(t.elementType),t.type=e,typeof e=="function")sc(e)?(l=Mn(e,l),t.tag=1,t=rg(null,t,e,l,s)):(t.tag=0,t=Yc(null,t,e,l,s));else{if(e!=null){var d=e.$$typeof;if(d===B){t.tag=11,t=Fh(null,t,e,l,s);break e}else if(d===G){t.tag=14,t=Zh(null,t,e,l,s);break e}}throw t=He(e)||e,Error(i(306,t,""))}}return t;case 0:return Yc(e,t,t.type,t.pendingProps,s);case 1:return l=t.type,d=Mn(l,t.pendingProps),rg(e,t,l,d,s);case 3:e:{if(X(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var f=t.memoizedState;d=f.element,xc(e,t),Es(t,l,null,s);var y=t.memoizedState;if(l=y.cache,Ja(t,at,l),l!==f.cache&&gc(t,[at],s,!0),Cs(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=sg(e,t,l,s);break e}else if(l!==d){d=Xt(Error(i(424)),t),Ss(d),t=sg(e,t,l,s);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ge=ta(e.firstChild),mt=t,Ee=!0,Ya=null,Wt=!0,s=eh(t,null,l,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(En(),l===d){t=Ca(e,t,s);break e}yt(e,t,l,s)}t=t.child}return t;case 26:return fl(e,t),e===null?(s=xm(t.type,null,t.pendingProps,null))?t.memoizedState=s:Ee||(s=t.type,e=t.pendingProps,l=El(Se.current).createElement(s),l[gt]=t,l[Ct]=e,vt(l,s,e),dt(l),t.stateNode=l):t.memoizedState=xm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return je(t),e===null&&Ee&&(l=t.stateNode=ym(t.type,t.pendingProps,Se.current),mt=t,Wt=!0,d=Ge,cn(t.type)?(Du=d,Ge=ta(l.firstChild)):Ge=d),yt(e,t,t.pendingProps.children,s),fl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ee&&((d=l=Ge)&&(l=Iv(l,t.type,t.pendingProps,Wt),l!==null?(t.stateNode=l,mt=t,Ge=ta(l.firstChild),Wt=!1,d=!0):d=!1),d||Qa(t)),je(t),d=t.type,f=t.pendingProps,y=e!==null?e.memoizedProps:null,l=f.children,Cu(d,f)?l=null:y!==null&&Cu(d,y)&&(t.flags|=32),t.memoizedState!==null&&(d=Ac(e,t,rv,null,null,s),Js._currentValue=d),fl(e,t),yt(e,t,l,s),t.child;case 6:return e===null&&Ee&&((e=s=Ge)&&(s=Hv(s,t.pendingProps,Wt),s!==null?(t.stateNode=s,mt=t,Ge=null,e=!0):e=!1),e||Qa(t)),null;case 13:return ig(e,t,s);case 4:return X(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=zn(t,null,l,s):yt(e,t,l,s),t.child;case 11:return Fh(e,t,t.type,t.pendingProps,s);case 7:return yt(e,t,t.pendingProps,s),t.child;case 8:return yt(e,t,t.pendingProps.children,s),t.child;case 12:return yt(e,t,t.pendingProps.children,s),t.child;case 10:return l=t.pendingProps,Ja(t,t.type,l.value),yt(e,t,l.children,s),t.child;case 9:return d=t.type._context,l=t.pendingProps.children,On(t),d=pt(d),l=l(d),t.flags|=1,yt(e,t,l,s),t.child;case 14:return Zh(e,t,t.type,t.pendingProps,s);case 15:return Wh(e,t,t.type,t.pendingProps,s);case 19:return og(e,t,s);case 31:return fv(e,t,s);case 22:return eg(e,t,s,t.pendingProps);case 24:return On(t),l=pt(at),e===null?(d=yc(),d===null&&(d=Pe,f=mc(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=s),d=f),t.memoizedState={parent:l,cache:d},bc(t),Ja(t,at,d)):((e.lanes&s)!==0&&(xc(e,t),Es(t,null,null,s),Cs()),d=e.memoizedState,f=t.memoizedState,d.parent!==l?(d={parent:l,cache:l},t.memoizedState=d,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=d),Ja(t,at,l)):(l=f.cache,Ja(t,at,l),l!==d.cache&&gc(t,[at],s,!0))),yt(e,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Ea(e){e.flags|=4}function tu(e,t,s,l,d){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(Ug())e.flags|=8192;else throw Ln=Fi,vc}else e.flags&=-16777217}function ug(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Nm(t))if(Ug())e.flags|=8192;else throw Ln=Fi,vc}function gl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Pd():536870912,e.lanes|=t,kr|=t)}function zs(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(t)for(var d=e.child;d!==null;)s|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)s|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=l,e.childLanes=s,t}function gv(e,t,s){var l=t.pendingProps;switch(cc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return Ke(t),null;case 3:return s=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Na(at),W(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(hr(t)?Ea(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,dc())),Ke(t),null;case 26:var d=t.type,f=t.memoizedState;return e===null?(Ea(t),f!==null?(Ke(t),ug(t,f)):(Ke(t),tu(t,d,null,l,s))):f?f!==e.memoizedState?(Ea(t),Ke(t),ug(t,f)):(Ke(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ea(t),Ke(t),tu(t,d,e,l,s)),null;case 27:if(Ye(t),s=Se.current,d=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Ea(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return Ke(t),null}e=te.current,hr(t)?If(t):(e=ym(d,l,s),t.stateNode=e,Ea(t))}return Ke(t),null;case 5:if(Ye(t),d=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Ea(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return Ke(t),null}if(f=te.current,hr(t))If(t);else{var y=El(Se.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?y.createElement(d,{is:l.is}):y.createElement(d)}}f[gt]=t,f[Ct]=l;e:for(y=t.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}t.stateNode=f;e:switch(vt(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ea(t)}}return Ke(t),tu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,s),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Ea(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=Se.current,hr(t)){if(e=t.stateNode,s=t.memoizedProps,l=null,d=mt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}e[gt]=t,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||im(e.nodeValue,s)),e||Qa(t,!0)}else e=El(e).createTextNode(l),e[gt]=t,t.stateNode=e}return Ke(t),null;case 31:if(s=t.memoizedState,e===null||e.memoizedState!==null){if(l=hr(t),s!==null){if(e===null){if(!l)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[gt]=t}else En(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ke(t),e=!1}else s=dc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return t.flags&256?($t(t),t):($t(t),null);if((t.flags&128)!==0)throw Error(i(558))}return Ke(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=hr(t),l!==null&&l.dehydrated!==null){if(e===null){if(!d)throw Error(i(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[gt]=t}else En(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ke(t),d=!1}else d=dc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return t.flags&256?($t(t),t):($t(t),null)}return $t(t),(t.flags&128)!==0?(t.lanes=s,t):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=t.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),s!==e&&s&&(t.child.flags|=8192),gl(t,t.updateQueue),Ke(t),null);case 4:return W(),e===null&&_u(t.stateNode.containerInfo),Ke(t),null;case 10:return Na(t.type),Ke(t),null;case 19:if(Y(We),l=t.memoizedState,l===null)return Ke(t),null;if(d=(t.flags&128)!==0,f=l.rendering,f===null)if(d)zs(l,!1);else{if(Fe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=tl(e),f!==null){for(t.flags|=128,zs(l,!1),e=f.updateQueue,t.updateQueue=e,gl(t,e),t.subtreeFlags=0,e=s,s=t.child;s!==null;)qf(s,e),s=s.sibling;return F(We,We.current&1|2),Ee&&_a(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&ht()>bl&&(t.flags|=128,d=!0,zs(l,!1),t.lanes=4194304)}else{if(!d)if(e=tl(f),e!==null){if(t.flags|=128,d=!0,e=e.updateQueue,t.updateQueue=e,gl(t,e),zs(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ee)return Ke(t),null}else 2*ht()-l.renderingStartTime>bl&&s!==536870912&&(t.flags|=128,d=!0,zs(l,!1),t.lanes=4194304);l.isBackwards?(f.sibling=t.child,t.child=f):(e=l.last,e!==null?e.sibling=f:t.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=ht(),e.sibling=null,s=We.current,F(We,d?s&1|2:s&1),Ee&&_a(t,l.treeForkCount),e):(Ke(t),null);case 22:case 23:return $t(t),jc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(s&536870912)!==0&&(t.flags&128)===0&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),s=t.updateQueue,s!==null&&gl(t,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==s&&(t.flags|=2048),e!==null&&Y(Rn),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Na(at),Ke(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function mv(e,t){switch(cc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Na(at),W(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ye(t),null;case 31:if(t.memoizedState!==null){if($t(t),t.alternate===null)throw Error(i(340));En()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if($t(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));En()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Y(We),null;case 4:return W(),null;case 10:return Na(t.type),null;case 22:case 23:return $t(t),jc(),e!==null&&Y(Rn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Na(at),null;case 25:return null;default:return null}}function dg(e,t){switch(cc(t),t.tag){case 3:Na(at),W();break;case 26:case 27:case 5:Ye(t);break;case 4:W();break;case 31:t.memoizedState!==null&&$t(t);break;case 13:$t(t);break;case 19:Y(We);break;case 10:Na(t.type);break;case 22:case 23:$t(t),jc(),e!==null&&Y(Rn);break;case 24:Na(at)}}function Us(e,t){try{var s=t.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var d=l.next;s=d;do{if((s.tag&e)===e){l=void 0;var f=s.create,y=s.inst;l=f(),y.destroy=l}s=s.next}while(s!==d)}}catch(b){ze(t,t.return,b)}}function tn(e,t,s){try{var l=t.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&e)===e){var y=l.inst,b=y.destroy;if(b!==void 0){y.destroy=void 0,d=t;var k=s,M=b;try{M()}catch(V){ze(d,k,V)}}}l=l.next}while(l!==f)}}catch(V){ze(t,t.return,V)}}function fg(e){var t=e.updateQueue;if(t!==null){var s=e.stateNode;try{ah(t,s)}catch(l){ze(e,e.return,l)}}}function hg(e,t,s){s.props=Mn(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){ze(e,t,l)}}function Ms(e,t){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(d){ze(e,t,d)}}function ma(e,t){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(d){ze(e,t,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){ze(e,t,d)}else s.current=null}function gg(e){var t=e.type,s=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(d){ze(e,e.return,d)}}function au(e,t,s){try{var l=e.stateNode;Mv(l,e.type,s,t),l[Ct]=t}catch(d){ze(e,e.return,d)}}function mg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&cn(e.type)||e.tag===4}function nu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&cn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ru(e,t,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,t):(t=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,t.appendChild(e),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=xa));else if(l!==4&&(l===27&&cn(e.type)&&(s=e.stateNode,t=null),e=e.child,e!==null))for(ru(e,t,s),e=e.sibling;e!==null;)ru(e,t,s),e=e.sibling}function ml(e,t,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(l!==4&&(l===27&&cn(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(ml(e,t,s),e=e.sibling;e!==null;)ml(e,t,s),e=e.sibling}function pg(e){var t=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,d=t.attributes;d.length;)t.removeAttributeNode(d[0]);vt(t,l,s),t[gt]=e,t[Ct]=s}catch(f){ze(e,e.return,f)}}var Ta=!1,st=!1,su=!1,yg=typeof WeakSet=="function"?WeakSet:Set,ft=null;function pv(e,t){if(e=e.containerInfo,ku=Ul,e=Ef(e),Zo(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var y=0,b=-1,k=-1,M=0,V=0,K=e,q=null;t:for(;;){for(var $;K!==s||d!==0&&K.nodeType!==3||(b=y+d),K!==f||l!==0&&K.nodeType!==3||(k=y+l),K.nodeType===3&&(y+=K.nodeValue.length),($=K.firstChild)!==null;)q=K,K=$;for(;;){if(K===e)break t;if(q===s&&++M===d&&(b=y),q===f&&++V===l&&(k=y),($=K.nextSibling)!==null)break;K=q,q=K.parentNode}K=$}s=b===-1||k===-1?null:{start:b,end:k}}else s=null}s=s||{start:0,end:0}}else s=null;for(Au={focusedElem:e,selectionRange:s},Ul=!1,ft=t;ft!==null;)if(t=ft,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ft=e;else for(;ft!==null;){switch(t=ft,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)d=e[s],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=t,d=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ee=Mn(s.type,d);e=l.getSnapshotBeforeUpdate(ee,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(oe){ze(s,s.return,oe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,s=e.nodeType,s===9)Tu(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Tu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,ft=e;break}ft=t.return}}function vg(e,t,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Ra(e,s),l&4&&Us(5,s);break;case 1:if(Ra(e,s),l&4)if(e=s.stateNode,t===null)try{e.componentDidMount()}catch(y){ze(s,s.return,y)}else{var d=Mn(s.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(d,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){ze(s,s.return,y)}}l&64&&fg(s),l&512&&Ms(s,s.return);break;case 3:if(Ra(e,s),l&64&&(e=s.updateQueue,e!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{ah(e,t)}catch(y){ze(s,s.return,y)}}break;case 27:t===null&&l&4&&pg(s);case 26:case 5:Ra(e,s),t===null&&l&4&&gg(s),l&512&&Ms(s,s.return);break;case 12:Ra(e,s);break;case 31:Ra(e,s),l&4&&wg(e,s);break;case 13:Ra(e,s),l&4&&Sg(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Nv.bind(null,s),Gv(e,s))));break;case 22:if(l=s.memoizedState!==null||Ta,!l){t=t!==null&&t.memoizedState!==null||st,d=Ta;var f=st;Ta=l,(st=t)&&!f?Da(e,s,(s.subtreeFlags&8772)!==0):Ra(e,s),Ta=d,st=f}break;case 30:break;default:Ra(e,s)}}function bg(e){var t=e.alternate;t!==null&&(e.alternate=null,bg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&zo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Qe=null,Tt=!1;function Oa(e,t,s){for(s=s.child;s!==null;)xg(e,t,s),s=s.sibling}function xg(e,t,s){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Ia,s)}catch{}switch(s.tag){case 26:st||ma(s,t),Oa(e,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:st||ma(s,t);var l=Qe,d=Tt;cn(s.type)&&(Qe=s.stateNode,Tt=!1),Oa(e,t,s),Ks(s.stateNode),Qe=l,Tt=d;break;case 5:st||ma(s,t);case 6:if(l=Qe,d=Tt,Qe=null,Oa(e,t,s),Qe=l,Tt=d,Qe!==null)if(Tt)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(s.stateNode)}catch(f){ze(s,t,f)}else try{Qe.removeChild(s.stateNode)}catch(f){ze(s,t,f)}break;case 18:Qe!==null&&(Tt?(e=Qe,fm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Lr(e)):fm(Qe,s.stateNode));break;case 4:l=Qe,d=Tt,Qe=s.stateNode.containerInfo,Tt=!0,Oa(e,t,s),Qe=l,Tt=d;break;case 0:case 11:case 14:case 15:tn(2,s,t),st||tn(4,s,t),Oa(e,t,s);break;case 1:st||(ma(s,t),l=s.stateNode,typeof l.componentWillUnmount=="function"&&hg(s,t,l)),Oa(e,t,s);break;case 21:Oa(e,t,s);break;case 22:st=(l=st)||s.memoizedState!==null,Oa(e,t,s),st=l;break;default:Oa(e,t,s)}}function wg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Lr(e)}catch(s){ze(t,t.return,s)}}}function Sg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Lr(e)}catch(s){ze(t,t.return,s)}}function yv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new yg),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new yg),t;default:throw Error(i(435,e.tag))}}function pl(e,t){var s=yv(e);t.forEach(function(l){if(!s.has(l)){s.add(l);var d=kv.bind(null,e,l);l.then(d,d)}})}function Ot(e,t){var s=t.deletions;if(s!==null)for(var l=0;l<s.length;l++){var d=s[l],f=e,y=t,b=y;e:for(;b!==null;){switch(b.tag){case 27:if(cn(b.type)){Qe=b.stateNode,Tt=!1;break e}break;case 5:Qe=b.stateNode,Tt=!1;break e;case 3:case 4:Qe=b.stateNode.containerInfo,Tt=!0;break e}b=b.return}if(Qe===null)throw Error(i(160));xg(f,y,d),Qe=null,Tt=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)_g(t,e),t=t.sibling}var ia=null;function _g(e,t){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ot(t,e),Rt(e),l&4&&(tn(3,e,e.return),Us(3,e),tn(5,e,e.return));break;case 1:Ot(t,e),Rt(e),l&512&&(st||s===null||ma(s,s.return)),l&64&&Ta&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var d=ia;if(Ot(t,e),Rt(e),l&512&&(st||s===null||ma(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){e:{l=e.type,s=e.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[us]||f[gt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),vt(f,l,s),f[gt]=e,dt(f),l=f;break e;case"link":var y=_m("link","href",d).get(l+(s.href||""));if(y){for(var b=0;b<y.length;b++)if(f=y[b],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(b,1);break t}}f=d.createElement(l),vt(f,l,s),d.head.appendChild(f);break;case"meta":if(y=_m("meta","content",d).get(l+(s.content||""))){for(b=0;b<y.length;b++)if(f=y[b],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(b,1);break t}}f=d.createElement(l),vt(f,l,s),d.head.appendChild(f);break;default:throw Error(i(468,l))}f[gt]=e,dt(f),l=f}e.stateNode=l}else jm(d,e.type,e.stateNode);else e.stateNode=Sm(d,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?jm(d,e.type,e.stateNode):Sm(d,l,e.memoizedProps)):l===null&&e.stateNode!==null&&au(e,e.memoizedProps,s.memoizedProps)}break;case 27:Ot(t,e),Rt(e),l&512&&(st||s===null||ma(s,s.return)),s!==null&&l&4&&au(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Ot(t,e),Rt(e),l&512&&(st||s===null||ma(s,s.return)),e.flags&32){d=e.stateNode;try{nr(d,"")}catch(ee){ze(e,e.return,ee)}}l&4&&e.stateNode!=null&&(d=e.memoizedProps,au(e,d,s!==null?s.memoizedProps:d)),l&1024&&(su=!0);break;case 6:if(Ot(t,e),Rt(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(ee){ze(e,e.return,ee)}}break;case 3:if(Rl=null,d=ia,ia=Tl(t.containerInfo),Ot(t,e),ia=d,Rt(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Lr(t.containerInfo)}catch(ee){ze(e,e.return,ee)}su&&(su=!1,jg(e));break;case 4:l=ia,ia=Tl(e.stateNode.containerInfo),Ot(t,e),Rt(e),ia=l;break;case 12:Ot(t,e),Rt(e);break;case 31:Ot(t,e),Rt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,pl(e,l)));break;case 13:Ot(t,e),Rt(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(vl=ht()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,pl(e,l)));break;case 22:d=e.memoizedState!==null;var k=s!==null&&s.memoizedState!==null,M=Ta,V=st;if(Ta=M||d,st=V||k,Ot(t,e),st=V,Ta=M,Rt(e),l&8192)e:for(t=e.stateNode,t._visibility=d?t._visibility&-2:t._visibility|1,d&&(s===null||k||Ta||st||qn(e)),s=null,t=e;;){if(t.tag===5||t.tag===26){if(s===null){k=s=t;try{if(f=k.stateNode,d)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{b=k.stateNode;var K=k.memoizedProps.style,q=K!=null&&K.hasOwnProperty("display")?K.display:null;b.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ee){ze(k,k.return,ee)}}}else if(t.tag===6){if(s===null){k=t;try{k.stateNode.nodeValue=d?"":k.memoizedProps}catch(ee){ze(k,k.return,ee)}}}else if(t.tag===18){if(s===null){k=t;try{var $=k.stateNode;d?hm($,!0):hm(k.stateNode,!1)}catch(ee){ze(k,k.return,ee)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,pl(e,s))));break;case 19:Ot(t,e),Rt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,pl(e,l)));break;case 30:break;case 21:break;default:Ot(t,e),Rt(e)}}function Rt(e){var t=e.flags;if(t&2){try{for(var s,l=e.return;l!==null;){if(mg(l)){s=l;break}l=l.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var d=s.stateNode,f=nu(e);ml(e,f,d);break;case 5:var y=s.stateNode;s.flags&32&&(nr(y,""),s.flags&=-33);var b=nu(e);ml(e,b,y);break;case 3:case 4:var k=s.stateNode.containerInfo,M=nu(e);ru(e,M,k);break;default:throw Error(i(161))}}catch(V){ze(e,e.return,V)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;jg(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ra(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)vg(e,t.alternate,t),t=t.sibling}function qn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:tn(4,t,t.return),qn(t);break;case 1:ma(t,t.return);var s=t.stateNode;typeof s.componentWillUnmount=="function"&&hg(t,t.return,s),qn(t);break;case 27:Ks(t.stateNode);case 26:case 5:ma(t,t.return),qn(t);break;case 22:t.memoizedState===null&&qn(t);break;case 30:qn(t);break;default:qn(t)}e=e.sibling}}function Da(e,t,s){for(s=s&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,d=e,f=t,y=f.flags;switch(f.tag){case 0:case 11:case 15:Da(d,f,s),Us(4,f);break;case 1:if(Da(d,f,s),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(M){ze(l,l.return,M)}if(l=f,d=l.updateQueue,d!==null){var b=l.stateNode;try{var k=d.shared.hiddenCallbacks;if(k!==null)for(d.shared.hiddenCallbacks=null,d=0;d<k.length;d++)th(k[d],b)}catch(M){ze(l,l.return,M)}}s&&y&64&&fg(f),Ms(f,f.return);break;case 27:pg(f);case 26:case 5:Da(d,f,s),s&&l===null&&y&4&&gg(f),Ms(f,f.return);break;case 12:Da(d,f,s);break;case 31:Da(d,f,s),s&&y&4&&wg(d,f);break;case 13:Da(d,f,s),s&&y&4&&Sg(d,f);break;case 22:f.memoizedState===null&&Da(d,f,s),Ms(f,f.return);break;case 30:break;default:Da(d,f,s)}t=t.sibling}}function iu(e,t){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&_s(s))}function lu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_s(e))}function la(e,t,s,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ng(e,t,s,l),t=t.sibling}function Ng(e,t,s,l){var d=t.flags;switch(t.tag){case 0:case 11:case 15:la(e,t,s,l),d&2048&&Us(9,t);break;case 1:la(e,t,s,l);break;case 3:la(e,t,s,l),d&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_s(e)));break;case 12:if(d&2048){la(e,t,s,l),e=t.stateNode;try{var f=t.memoizedProps,y=f.id,b=f.onPostCommit;typeof b=="function"&&b(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(k){ze(t,t.return,k)}}else la(e,t,s,l);break;case 31:la(e,t,s,l);break;case 13:la(e,t,s,l);break;case 23:break;case 22:f=t.stateNode,y=t.alternate,t.memoizedState!==null?f._visibility&2?la(e,t,s,l):qs(e,t):f._visibility&2?la(e,t,s,l):(f._visibility|=2,_r(e,t,s,l,(t.subtreeFlags&10256)!==0||!1)),d&2048&&iu(y,t);break;case 24:la(e,t,s,l),d&2048&&lu(t.alternate,t);break;default:la(e,t,s,l)}}function _r(e,t,s,l,d){for(d=d&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,y=t,b=s,k=l,M=y.flags;switch(y.tag){case 0:case 11:case 15:_r(f,y,b,k,d),Us(8,y);break;case 23:break;case 22:var V=y.stateNode;y.memoizedState!==null?V._visibility&2?_r(f,y,b,k,d):qs(f,y):(V._visibility|=2,_r(f,y,b,k,d)),d&&M&2048&&iu(y.alternate,y);break;case 24:_r(f,y,b,k,d),d&&M&2048&&lu(y.alternate,y);break;default:_r(f,y,b,k,d)}t=t.sibling}}function qs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var s=e,l=t,d=l.flags;switch(l.tag){case 22:qs(s,l),d&2048&&iu(l.alternate,l);break;case 24:qs(s,l),d&2048&&lu(l.alternate,l);break;default:qs(s,l)}t=t.sibling}}var Bs=8192;function jr(e,t,s){if(e.subtreeFlags&Bs)for(e=e.child;e!==null;)kg(e,t,s),e=e.sibling}function kg(e,t,s){switch(e.tag){case 26:jr(e,t,s),e.flags&Bs&&e.memoizedState!==null&&nb(s,ia,e.memoizedState,e.memoizedProps);break;case 5:jr(e,t,s);break;case 3:case 4:var l=ia;ia=Tl(e.stateNode.containerInfo),jr(e,t,s),ia=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Bs,Bs=16777216,jr(e,t,s),Bs=l):jr(e,t,s));break;default:jr(e,t,s)}}function Ag(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function $s(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var l=t[s];ft=l,Eg(l,e)}Ag(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Cg(e),e=e.sibling}function Cg(e){switch(e.tag){case 0:case 11:case 15:$s(e),e.flags&2048&&tn(9,e,e.return);break;case 3:$s(e);break;case 12:$s(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,yl(e)):$s(e);break;default:$s(e)}}function yl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var l=t[s];ft=l,Eg(l,e)}Ag(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:tn(8,t,t.return),yl(t);break;case 22:s=t.stateNode,s._visibility&2&&(s._visibility&=-3,yl(t));break;default:yl(t)}e=e.sibling}}function Eg(e,t){for(;ft!==null;){var s=ft;switch(s.tag){case 0:case 11:case 15:tn(8,s,t);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:_s(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,ft=l;else e:for(s=e;ft!==null;){l=ft;var d=l.sibling,f=l.return;if(bg(l),l===s){ft=null;break e}if(d!==null){d.return=f,ft=d;break e}ft=f}}}var vv={getCacheForType:function(e){var t=pt(at),s=t.data.get(e);return s===void 0&&(s=e(),t.data.set(e,s)),s},cacheSignal:function(){return pt(at).controller.signal}},bv=typeof WeakMap=="function"?WeakMap:Map,Re=0,Pe=null,Ne=null,Ae=0,Le=0,Vt=null,an=!1,Nr=!1,ou=!1,La=0,Fe=0,nn=0,Bn=0,cu=0,Pt=0,kr=0,Vs=null,Dt=null,uu=!1,vl=0,Tg=0,bl=1/0,xl=null,rn=null,lt=0,sn=null,Ar=null,za=0,du=0,fu=null,Og=null,Ps=0,hu=null;function It(){return(Re&2)!==0&&Ae!==0?Ae&-Ae:z.T!==null?bu():Kd()}function Rg(){if(Pt===0)if((Ae&536870912)===0||Ee){var e=wn;wn<<=1,(wn&3932160)===0&&(wn=262144),Pt=e}else Pt=536870912;return e=Bt.current,e!==null&&(e.flags|=32),Pt}function Lt(e,t,s){(e===Pe&&(Le===2||Le===9)||e.cancelPendingCommit!==null)&&(Cr(e,0),ln(e,Ae,Pt,!1)),cs(e,s),((Re&2)===0||e!==Pe)&&(e===Pe&&((Re&2)===0&&(Bn|=s),Fe===4&&ln(e,Ae,Pt,!1)),pa(e))}function Dg(e,t,s){if((Re&6)!==0)throw Error(i(327));var l=!s&&(t&127)===0&&(t&e.expiredLanes)===0||os(e,t),d=l?Sv(e,t):mu(e,t,!0),f=l;do{if(d===0){Nr&&!l&&ln(e,t,0,!1);break}else{if(s=e.current.alternate,f&&!xv(s)){d=mu(e,t,!1),f=!1;continue}if(d===2){if(f=t,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var b=e;d=Vs;var k=b.current.memoizedState.isDehydrated;if(k&&(Cr(b,y).flags|=256),y=mu(b,y,!1),y!==2){if(ou&&!k){b.errorRecoveryDisabledLanes|=f,Bn|=f,d=4;break e}f=Dt,Dt=d,f!==null&&(Dt===null?Dt=f:Dt.push.apply(Dt,f))}d=y}if(f=!1,d!==2)continue}}if(d===1){Cr(e,0),ln(e,t,0,!0);break}e:{switch(l=e,f=d,f){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:ln(l,t,Pt,!an);break e;case 2:Dt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(d=vl+300-ht(),10<d)){if(ln(l,t,Pt,!an),Ti(l,0,!0)!==0)break e;za=t,l.timeoutHandle=um(Lg.bind(null,l,s,Dt,xl,uu,t,Pt,Bn,kr,an,f,"Throttled",-0,0),d);break e}Lg(l,s,Dt,xl,uu,t,Pt,Bn,kr,an,f,null,-0,0)}}break}while(!0);pa(e)}function Lg(e,t,s,l,d,f,y,b,k,M,V,K,q,$){if(e.timeoutHandle=-1,K=t.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xa},kg(t,f,K);var ee=(f&62914560)===f?vl-ht():(f&4194048)===f?Tg-ht():0;if(ee=rb(K,ee),ee!==null){za=f,e.cancelPendingCommit=ee(Pg.bind(null,e,t,f,s,l,d,y,b,k,V,K,null,q,$)),ln(e,f,y,!M);return}}Pg(e,t,f,s,l,d,y,b,k)}function xv(e){for(var t=e;;){var s=t.tag;if((s===0||s===11||s===15)&&t.flags&16384&&(s=t.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var d=s[l],f=d.getSnapshot;d=d.value;try{if(!Mt(f(),d))return!1}catch{return!1}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ln(e,t,s,l){t&=~cu,t&=~Bn,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var d=t;0<d;){var f=31-Nt(d),y=1<<f;l[f]=-1,d&=~y}s!==0&&Id(e,s,t)}function wl(){return(Re&6)===0?(Is(0),!1):!0}function gu(){if(Ne!==null){if(Le===0)var e=Ne.return;else e=Ne,ja=Tn=null,Tc(e),vr=null,Ns=0,e=Ne;for(;e!==null;)dg(e.alternate,e),e=e.return;Ne=null}}function Cr(e,t){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,$v(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),za=0,gu(),Pe=e,Ne=s=Sa(e.current,null),Ae=t,Le=0,Vt=null,an=!1,Nr=os(e,t),ou=!1,kr=Pt=cu=Bn=nn=Fe=0,Dt=Vs=null,uu=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var d=31-Nt(l),f=1<<d;t|=e[d],l&=~f}return La=t,Pi(),s}function zg(e,t){ve=null,z.H=Ds,t===yr||t===Xi?(t=Ff(),Le=3):t===vc?(t=Ff(),Le=4):Le=t===Kc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Vt=t,Ne===null&&(Fe=1,ul(e,Xt(t,e.current)))}function Ug(){var e=Bt.current;return e===null?!0:(Ae&4194048)===Ae?ea===null:(Ae&62914560)===Ae||(Ae&536870912)!==0?e===ea:!1}function Mg(){var e=z.H;return z.H=Ds,e===null?Ds:e}function qg(){var e=z.A;return z.A=vv,e}function Sl(){Fe=4,an||(Ae&4194048)!==Ae&&Bt.current!==null||(Nr=!0),(nn&134217727)===0&&(Bn&134217727)===0||Pe===null||ln(Pe,Ae,Pt,!1)}function mu(e,t,s){var l=Re;Re|=2;var d=Mg(),f=qg();(Pe!==e||Ae!==t)&&(xl=null,Cr(e,t)),t=!1;var y=Fe;e:do try{if(Le!==0&&Ne!==null){var b=Ne,k=Vt;switch(Le){case 8:gu(),y=6;break e;case 3:case 2:case 9:case 6:Bt.current===null&&(t=!0);var M=Le;if(Le=0,Vt=null,Er(e,b,k,M),s&&Nr){y=0;break e}break;default:M=Le,Le=0,Vt=null,Er(e,b,k,M)}}wv(),y=Fe;break}catch(V){zg(e,V)}while(!0);return t&&e.shellSuspendCounter++,ja=Tn=null,Re=l,z.H=d,z.A=f,Ne===null&&(Pe=null,Ae=0,Pi()),y}function wv(){for(;Ne!==null;)Bg(Ne)}function Sv(e,t){var s=Re;Re|=2;var l=Mg(),d=qg();Pe!==e||Ae!==t?(xl=null,bl=ht()+500,Cr(e,t)):Nr=os(e,t);e:do try{if(Le!==0&&Ne!==null){t=Ne;var f=Vt;t:switch(Le){case 1:Le=0,Vt=null,Er(e,t,f,1);break;case 2:case 9:if(Jf(f)){Le=0,Vt=null,$g(t);break}t=function(){Le!==2&&Le!==9||Pe!==e||(Le=7),pa(e)},f.then(t,t);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:Jf(f)?(Le=0,Vt=null,$g(t)):(Le=0,Vt=null,Er(e,t,f,7));break;case 5:var y=null;switch(Ne.tag){case 26:y=Ne.memoizedState;case 5:case 27:var b=Ne;if(y?Nm(y):b.stateNode.complete){Le=0,Vt=null;var k=b.sibling;if(k!==null)Ne=k;else{var M=b.return;M!==null?(Ne=M,_l(M)):Ne=null}break t}}Le=0,Vt=null,Er(e,t,f,5);break;case 6:Le=0,Vt=null,Er(e,t,f,6);break;case 8:gu(),Fe=6;break e;default:throw Error(i(462))}}_v();break}catch(V){zg(e,V)}while(!0);return ja=Tn=null,z.H=l,z.A=d,Re=s,Ne!==null?0:(Pe=null,Ae=0,Pi(),Fe)}function _v(){for(;Ne!==null&&!ji();)Bg(Ne)}function Bg(e){var t=cg(e.alternate,e,La);e.memoizedProps=e.pendingProps,t===null?_l(e):Ne=t}function $g(e){var t=e,s=t.alternate;switch(t.tag){case 15:case 0:t=ng(s,t,t.pendingProps,t.type,void 0,Ae);break;case 11:t=ng(s,t,t.pendingProps,t.type.render,t.ref,Ae);break;case 5:Tc(t);default:dg(s,t),t=Ne=qf(t,La),t=cg(s,t,La)}e.memoizedProps=e.pendingProps,t===null?_l(e):Ne=t}function Er(e,t,s,l){ja=Tn=null,Tc(t),vr=null,Ns=0;var d=t.return;try{if(dv(e,d,t,s,Ae)){Fe=1,ul(e,Xt(s,e.current)),Ne=null;return}}catch(f){if(d!==null)throw Ne=d,f;Fe=1,ul(e,Xt(s,e.current)),Ne=null;return}t.flags&32768?(Ee||l===1?e=!0:Nr||(Ae&536870912)!==0?e=!1:(an=e=!0,(l===2||l===9||l===3||l===6)&&(l=Bt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Vg(t,e)):_l(t)}function _l(e){var t=e;do{if((t.flags&32768)!==0){Vg(t,an);return}e=t.return;var s=gv(t.alternate,t,La);if(s!==null){Ne=s;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);Fe===0&&(Fe=5)}function Vg(e,t){do{var s=mv(e.alternate,e);if(s!==null){s.flags&=32767,Ne=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&(e=e.sibling,e!==null)){Ne=e;return}Ne=e=s}while(e!==null);Fe=6,Ne=null}function Pg(e,t,s,l,d,f,y,b,k){e.cancelPendingCommit=null;do jl();while(lt!==0);if((Re&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(f=t.lanes|t.childLanes,f|=nc,ay(e,s,f,y,b,k),e===Pe&&(Ne=Pe=null,Ae=0),Ar=t,sn=e,za=s,du=f,fu=d,Og=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Av(Pa,function(){return Yg(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,d=P.p,P.p=2,y=Re,Re|=4;try{pv(e,t,s)}finally{Re=y,P.p=d,z.T=l}}lt=1,Ig(),Hg(),Gg()}}function Ig(){if(lt===1){lt=0;var e=sn,t=Ar,s=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||s){s=z.T,z.T=null;var l=P.p;P.p=2;var d=Re;Re|=4;try{_g(t,e);var f=Au,y=Ef(e.containerInfo),b=f.focusedElem,k=f.selectionRange;if(y!==b&&b&&b.ownerDocument&&Cf(b.ownerDocument.documentElement,b)){if(k!==null&&Zo(b)){var M=k.start,V=k.end;if(V===void 0&&(V=M),"selectionStart"in b)b.selectionStart=M,b.selectionEnd=Math.min(V,b.value.length);else{var K=b.ownerDocument||document,q=K&&K.defaultView||window;if(q.getSelection){var $=q.getSelection(),ee=b.textContent.length,oe=Math.min(k.start,ee),Be=k.end===void 0?oe:Math.min(k.end,ee);!$.extend&&oe>Be&&(y=Be,Be=oe,oe=y);var L=Af(b,oe),E=Af(b,Be);if(L&&E&&($.rangeCount!==1||$.anchorNode!==L.node||$.anchorOffset!==L.offset||$.focusNode!==E.node||$.focusOffset!==E.offset)){var U=K.createRange();U.setStart(L.node,L.offset),$.removeAllRanges(),oe>Be?($.addRange(U),$.extend(E.node,E.offset)):(U.setEnd(E.node,E.offset),$.addRange(U))}}}}for(K=[],$=b;$=$.parentNode;)$.nodeType===1&&K.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<K.length;b++){var H=K[b];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}Ul=!!ku,Au=ku=null}finally{Re=d,P.p=l,z.T=s}}e.current=t,lt=2}}function Hg(){if(lt===2){lt=0;var e=sn,t=Ar,s=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||s){s=z.T,z.T=null;var l=P.p;P.p=2;var d=Re;Re|=4;try{vg(e,t.alternate,t)}finally{Re=d,P.p=l,z.T=s}}lt=3}}function Gg(){if(lt===4||lt===3){lt=0,ss();var e=sn,t=Ar,s=za,l=Og;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?lt=5:(lt=0,Ar=sn=null,Kg(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(rn=null),Do(s),t=t.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Ia,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=z.T,d=P.p,P.p=2,z.T=null;try{for(var f=e.onRecoverableError,y=0;y<l.length;y++){var b=l[y];f(b.value,{componentStack:b.stack})}}finally{z.T=t,P.p=d}}(za&3)!==0&&jl(),pa(e),d=e.pendingLanes,(s&261930)!==0&&(d&42)!==0?e===hu?Ps++:(Ps=0,hu=e):Ps=0,Is(0)}}function Kg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,_s(t)))}function jl(){return Ig(),Hg(),Gg(),Yg()}function Yg(){if(lt!==5)return!1;var e=sn,t=du;du=0;var s=Do(za),l=z.T,d=P.p;try{P.p=32>s?32:s,z.T=null,s=fu,fu=null;var f=sn,y=za;if(lt=0,Ar=sn=null,za=0,(Re&6)!==0)throw Error(i(331));var b=Re;if(Re|=4,Cg(f.current),Ng(f,f.current,y,s),Re=b,Is(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Ia,f)}catch{}return!0}finally{P.p=d,z.T=l,Kg(e,t)}}function Qg(e,t,s){t=Xt(s,t),t=Gc(e.stateNode,t,2),e=Za(e,t,2),e!==null&&(cs(e,2),pa(e))}function ze(e,t,s){if(e.tag===3)Qg(e,e,s);else for(;t!==null;){if(t.tag===3){Qg(t,e,s);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(rn===null||!rn.has(l))){e=Xt(s,e),s=Jh(2),l=Za(t,s,2),l!==null&&(Xh(s,l,t,e),cs(l,2),pa(l));break}}t=t.return}}function pu(e,t,s){var l=e.pingCache;if(l===null){l=e.pingCache=new bv;var d=new Set;l.set(t,d)}else d=l.get(t),d===void 0&&(d=new Set,l.set(t,d));d.has(s)||(ou=!0,d.add(s),e=jv.bind(null,e,t,s),t.then(e,e))}function jv(e,t,s){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Pe===e&&(Ae&s)===s&&(Fe===4||Fe===3&&(Ae&62914560)===Ae&&300>ht()-vl?(Re&2)===0&&Cr(e,0):cu|=s,kr===Ae&&(kr=0)),pa(e)}function Jg(e,t){t===0&&(t=Pd()),e=An(e,t),e!==null&&(cs(e,t),pa(e))}function Nv(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Jg(e,s)}function kv(e,t){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,d=e.memoizedState;d!==null&&(s=d.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),Jg(e,s)}function Av(e,t){return Jn(e,t)}var Nl=null,Tr=null,yu=!1,kl=!1,vu=!1,on=0;function pa(e){e!==Tr&&e.next===null&&(Tr===null?Nl=Tr=e:Tr=Tr.next=e),kl=!0,yu||(yu=!0,Ev())}function Is(e,t){if(!vu&&kl){vu=!0;do for(var s=!1,l=Nl;l!==null;){if(e!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var y=l.suspendedLanes,b=l.pingedLanes;f=(1<<31-Nt(42|e)+1)-1,f&=d&~(y&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Wg(l,f))}else f=Ae,f=Ti(l,l===Pe?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||os(l,f)||(s=!0,Wg(l,f));l=l.next}while(s);vu=!1}}function Cv(){Xg()}function Xg(){kl=yu=!1;var e=0;on!==0&&Bv()&&(e=on);for(var t=ht(),s=null,l=Nl;l!==null;){var d=l.next,f=Fg(l,t);f===0?(l.next=null,s===null?Nl=d:s.next=d,d===null&&(Tr=s)):(s=l,(e!==0||(f&3)!==0)&&(kl=!0)),l=d}lt!==0&&lt!==5||Is(e),on!==0&&(on=0)}function Fg(e,t){for(var s=e.suspendedLanes,l=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-Nt(f),b=1<<y,k=d[y];k===-1?((b&s)===0||(b&l)!==0)&&(d[y]=ty(b,t)):k<=t&&(e.expiredLanes|=b),f&=~b}if(t=Pe,s=Ae,s=Ti(e,e===t?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===t&&(Le===2||Le===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&rs(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||os(e,s)){if(t=s&-s,t===e.callbackPriority)return t;switch(l!==null&&rs(l),Do(s)){case 2:case 8:s=xn;break;case 32:s=Pa;break;case 268435456:s=ls;break;default:s=Pa}return l=Zg.bind(null,e),s=Jn(s,l),e.callbackPriority=t,e.callbackNode=s,t}return l!==null&&l!==null&&rs(l),e.callbackPriority=2,e.callbackNode=null,2}function Zg(e,t){if(lt!==0&&lt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(jl()&&e.callbackNode!==s)return null;var l=Ae;return l=Ti(e,e===Pe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Dg(e,l,t),Fg(e,ht()),e.callbackNode!=null&&e.callbackNode===s?Zg.bind(null,e):null)}function Wg(e,t){if(jl())return null;Dg(e,t,!0)}function Ev(){Vv(function(){(Re&6)!==0?Jn(Eo,Cv):Xg()})}function bu(){if(on===0){var e=mr;e===0&&(e=Xn,Xn<<=1,(Xn&261888)===0&&(Xn=256)),on=e}return on}function em(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Li(""+e)}function tm(e,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,e.id&&s.setAttribute("form",e.id),t.parentNode.insertBefore(s,t),e=new FormData(e),s.parentNode.removeChild(s),e}function Tv(e,t,s,l,d){if(t==="submit"&&s&&s.stateNode===d){var f=em((d[Ct]||null).action),y=l.submitter;y&&(t=(t=y[Ct]||null)?em(t.formAction):y.getAttribute("formAction"),t!==null&&(f=t,y=null));var b=new qi("action","action",null,l,d);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(on!==0){var k=y?tm(d,y):new FormData(d);Bc(s,{pending:!0,data:k,method:d.method,action:f},null,k)}}else typeof f=="function"&&(b.preventDefault(),k=y?tm(d,y):new FormData(d),Bc(s,{pending:!0,data:k,method:d.method,action:f},f,k))},currentTarget:d}]})}}for(var xu=0;xu<ac.length;xu++){var wu=ac[xu],Ov=wu.toLowerCase(),Rv=wu[0].toUpperCase()+wu.slice(1);sa(Ov,"on"+Rv)}sa(Rf,"onAnimationEnd"),sa(Df,"onAnimationIteration"),sa(Lf,"onAnimationStart"),sa("dblclick","onDoubleClick"),sa("focusin","onFocus"),sa("focusout","onBlur"),sa(Qy,"onTransitionRun"),sa(Jy,"onTransitionStart"),sa(Xy,"onTransitionCancel"),sa(zf,"onTransitionEnd"),tr("onMouseEnter",["mouseout","mouseover"]),tr("onMouseLeave",["mouseout","mouseover"]),tr("onPointerEnter",["pointerout","pointerover"]),tr("onPointerLeave",["pointerout","pointerover"]),_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_n("onBeforeInput",["compositionend","keypress","textInput","paste"]),_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hs));function am(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],d=l.event;l=l.listeners;e:{var f=void 0;if(t)for(var y=l.length-1;0<=y;y--){var b=l[y],k=b.instance,M=b.currentTarget;if(b=b.listener,k!==f&&d.isPropagationStopped())break e;f=b,d.currentTarget=M;try{f(d)}catch(V){Vi(V)}d.currentTarget=null,f=k}else for(y=0;y<l.length;y++){if(b=l[y],k=b.instance,M=b.currentTarget,b=b.listener,k!==f&&d.isPropagationStopped())break e;f=b,d.currentTarget=M;try{f(d)}catch(V){Vi(V)}d.currentTarget=null,f=k}}}}function ke(e,t){var s=t[Lo];s===void 0&&(s=t[Lo]=new Set);var l=e+"__bubble";s.has(l)||(nm(t,e,2,!1),s.add(l))}function Su(e,t,s){var l=0;t&&(l|=4),nm(s,e,l,t)}var Al="_reactListening"+Math.random().toString(36).slice(2);function _u(e){if(!e[Al]){e[Al]=!0,Jd.forEach(function(s){s!=="selectionchange"&&(Dv.has(s)||Su(s,!1,e),Su(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Al]||(t[Al]=!0,Su("selectionchange",!1,t))}}function nm(e,t,s,l){switch(Rm(t)){case 2:var d=lb;break;case 8:d=ob;break;default:d=qu}s=d.bind(null,t,s,e),d=void 0,!Io||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),l?d!==void 0?e.addEventListener(t,s,{capture:!0,passive:d}):e.addEventListener(t,s,!0):d!==void 0?e.addEventListener(t,s,{passive:d}):e.addEventListener(t,s,!1)}function ju(e,t,s,l,d){var f=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var b=l.stateNode.containerInfo;if(b===d)break;if(y===4)for(y=l.return;y!==null;){var k=y.tag;if((k===3||k===4)&&y.stateNode.containerInfo===d)return;y=y.return}for(;b!==null;){if(y=Zn(b),y===null)return;if(k=y.tag,k===5||k===6||k===26||k===27){l=f=y;continue e}b=b.parentNode}}l=l.return}of(function(){var M=f,V=Vo(s),K=[];e:{var q=Uf.get(e);if(q!==void 0){var $=qi,ee=e;switch(e){case"keypress":if(Ui(s)===0)break e;case"keydown":case"keyup":$=ky;break;case"focusin":ee="focus",$=Yo;break;case"focusout":ee="blur",$=Yo;break;case"beforeblur":case"afterblur":$=Yo;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=df;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=gy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Ey;break;case Rf:case Df:case Lf:$=yy;break;case zf:$=Oy;break;case"scroll":case"scrollend":$=fy;break;case"wheel":$=Dy;break;case"copy":case"cut":case"paste":$=by;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=hf;break;case"toggle":case"beforetoggle":$=zy}var oe=(t&4)!==0,Be=!oe&&(e==="scroll"||e==="scrollend"),L=oe?q!==null?q+"Capture":null:q;oe=[];for(var E=M,U;E!==null;){var H=E;if(U=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||U===null||L===null||(H=fs(E,L),H!=null&&oe.push(Gs(E,H,U))),Be)break;E=E.return}0<oe.length&&(q=new $(q,ee,null,s,V),K.push({event:q,listeners:oe}))}}if((t&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",q&&s!==$o&&(ee=s.relatedTarget||s.fromElement)&&(Zn(ee)||ee[Fn]))break e;if(($||q)&&(q=V.window===V?V:(q=V.ownerDocument)?q.defaultView||q.parentWindow:window,$?(ee=s.relatedTarget||s.toElement,$=M,ee=ee?Zn(ee):null,ee!==null&&(Be=c(ee),oe=ee.tag,ee!==Be||oe!==5&&oe!==27&&oe!==6)&&(ee=null)):($=null,ee=M),$!==ee)){if(oe=df,H="onMouseLeave",L="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(oe=hf,H="onPointerLeave",L="onPointerEnter",E="pointer"),Be=$==null?q:ds($),U=ee==null?q:ds(ee),q=new oe(H,E+"leave",$,s,V),q.target=Be,q.relatedTarget=U,H=null,Zn(V)===M&&(oe=new oe(L,E+"enter",ee,s,V),oe.target=U,oe.relatedTarget=Be,H=oe),Be=H,$&&ee)t:{for(oe=Lv,L=$,E=ee,U=0,H=L;H;H=oe(H))U++;H=0;for(var ie=E;ie;ie=oe(ie))H++;for(;0<U-H;)L=oe(L),U--;for(;0<H-U;)E=oe(E),H--;for(;U--;){if(L===E||E!==null&&L===E.alternate){oe=L;break t}L=oe(L),E=oe(E)}oe=null}else oe=null;$!==null&&rm(K,q,$,oe,!1),ee!==null&&Be!==null&&rm(K,Be,ee,oe,!0)}}e:{if(q=M?ds(M):window,$=q.nodeName&&q.nodeName.toLowerCase(),$==="select"||$==="input"&&q.type==="file")var Te=wf;else if(bf(q))if(Sf)Te=Gy;else{Te=Iy;var ne=Py}else $=q.nodeName,!$||$.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?M&&Bo(M.elementType)&&(Te=wf):Te=Hy;if(Te&&(Te=Te(e,M))){xf(K,Te,s,V);break e}ne&&ne(e,q,M),e==="focusout"&&M&&q.type==="number"&&M.memoizedProps.value!=null&&qo(q,"number",q.value)}switch(ne=M?ds(M):window,e){case"focusin":(bf(ne)||ne.contentEditable==="true")&&(lr=ne,Wo=M,xs=null);break;case"focusout":xs=Wo=lr=null;break;case"mousedown":ec=!0;break;case"contextmenu":case"mouseup":case"dragend":ec=!1,Tf(K,s,V);break;case"selectionchange":if(Yy)break;case"keydown":case"keyup":Tf(K,s,V)}var xe;if(Jo)e:{switch(e){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else ir?yf(e,s)&&(Ce="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ce="onCompositionStart");Ce&&(gf&&s.locale!=="ko"&&(ir||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&ir&&(xe=cf()):(Ga=V,Ho="value"in Ga?Ga.value:Ga.textContent,ir=!0)),ne=Cl(M,Ce),0<ne.length&&(Ce=new ff(Ce,e,null,s,V),K.push({event:Ce,listeners:ne}),xe?Ce.data=xe:(xe=vf(s),xe!==null&&(Ce.data=xe)))),(xe=My?qy(e,s):By(e,s))&&(Ce=Cl(M,"onBeforeInput"),0<Ce.length&&(ne=new ff("onBeforeInput","beforeinput",null,s,V),K.push({event:ne,listeners:Ce}),ne.data=xe)),Tv(K,e,M,s,V)}am(K,t)})}function Gs(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Cl(e,t){for(var s=t+"Capture",l=[];e!==null;){var d=e,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=fs(e,s),d!=null&&l.unshift(Gs(e,d,f)),d=fs(e,t),d!=null&&l.push(Gs(e,d,f))),e.tag===3)return l;e=e.return}return[]}function Lv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function rm(e,t,s,l,d){for(var f=t._reactName,y=[];s!==null&&s!==l;){var b=s,k=b.alternate,M=b.stateNode;if(b=b.tag,k!==null&&k===l)break;b!==5&&b!==26&&b!==27||M===null||(k=M,d?(M=fs(s,f),M!=null&&y.unshift(Gs(s,M,k))):d||(M=fs(s,f),M!=null&&y.push(Gs(s,M,k)))),s=s.return}y.length!==0&&e.push({event:t,listeners:y})}var zv=/\r\n?/g,Uv=/\u0000|\uFFFD/g;function sm(e){return(typeof e=="string"?e:""+e).replace(zv,`
`).replace(Uv,"")}function im(e,t){return t=sm(t),sm(e)===t}function qe(e,t,s,l,d,f){switch(s){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||nr(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&nr(e,""+l);break;case"className":Ri(e,"class",l);break;case"tabIndex":Ri(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ri(e,s,l);break;case"style":sf(e,l,f);break;case"data":if(t!=="object"){Ri(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Li(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(t!=="input"&&qe(e,t,"name",d.name,d,null),qe(e,t,"formEncType",d.formEncType,d,null),qe(e,t,"formMethod",d.formMethod,d,null),qe(e,t,"formTarget",d.formTarget,d,null)):(qe(e,t,"encType",d.encType,d,null),qe(e,t,"method",d.method,d,null),qe(e,t,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Li(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=xa);break;case"onScroll":l!=null&&ke("scroll",e);break;case"onScrollEnd":l!=null&&ke("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(s=l.__html,s!=null){if(d.children!=null)throw Error(i(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=Li(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":ke("beforetoggle",e),ke("toggle",e),Oi(e,"popover",l);break;case"xlinkActuate":ba(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ba(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ba(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ba(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ba(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ba(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ba(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ba(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ba(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Oi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=uy.get(s)||s,Oi(e,s,l))}}function Nu(e,t,s,l,d,f){switch(s){case"style":sf(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(s=l.__html,s!=null){if(d.children!=null)throw Error(i(60));e.innerHTML=s}}break;case"children":typeof l=="string"?nr(e,l):(typeof l=="number"||typeof l=="bigint")&&nr(e,""+l);break;case"onScroll":l!=null&&ke("scroll",e);break;case"onScrollEnd":l!=null&&ke("scrollend",e);break;case"onClick":l!=null&&(e.onclick=xa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xd.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),t=s.slice(2,d?s.length-7:void 0),f=e[Ct]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(t,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(t,l,d);break e}s in e?e[s]=l:l===!0?e.setAttribute(s,""):Oi(e,s,l)}}}function vt(e,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",e),ke("load",e);var l=!1,d=!1,f;for(f in s)if(s.hasOwnProperty(f)){var y=s[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:qe(e,t,f,y,s,null)}}d&&qe(e,t,"srcSet",s.srcSet,s,null),l&&qe(e,t,"src",s.src,s,null);return;case"input":ke("invalid",e);var b=f=y=d=null,k=null,M=null;for(l in s)if(s.hasOwnProperty(l)){var V=s[l];if(V!=null)switch(l){case"name":d=V;break;case"type":y=V;break;case"checked":k=V;break;case"defaultChecked":M=V;break;case"value":f=V;break;case"defaultValue":b=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(137,t));break;default:qe(e,t,l,V,s,null)}}tf(e,f,b,k,M,y,d,!1);return;case"select":ke("invalid",e),l=y=f=null;for(d in s)if(s.hasOwnProperty(d)&&(b=s[d],b!=null))switch(d){case"value":f=b;break;case"defaultValue":y=b;break;case"multiple":l=b;default:qe(e,t,d,b,s,null)}t=f,s=y,e.multiple=!!l,t!=null?ar(e,!!l,t,!1):s!=null&&ar(e,!!l,s,!0);return;case"textarea":ke("invalid",e),f=d=l=null;for(y in s)if(s.hasOwnProperty(y)&&(b=s[y],b!=null))switch(y){case"value":l=b;break;case"defaultValue":d=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:qe(e,t,y,b,s,null)}nf(e,l,d,f);return;case"option":for(k in s)if(s.hasOwnProperty(k)&&(l=s[k],l!=null))switch(k){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:qe(e,t,k,l,s,null)}return;case"dialog":ke("beforetoggle",e),ke("toggle",e),ke("cancel",e),ke("close",e);break;case"iframe":case"object":ke("load",e);break;case"video":case"audio":for(l=0;l<Hs.length;l++)ke(Hs[l],e);break;case"image":ke("error",e),ke("load",e);break;case"details":ke("toggle",e);break;case"embed":case"source":case"link":ke("error",e),ke("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in s)if(s.hasOwnProperty(M)&&(l=s[M],l!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:qe(e,t,M,l,s,null)}return;default:if(Bo(t)){for(V in s)s.hasOwnProperty(V)&&(l=s[V],l!==void 0&&Nu(e,t,V,l,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(l=s[b],l!=null&&qe(e,t,b,l,s,null))}function Mv(e,t,s,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,y=null,b=null,k=null,M=null,V=null;for($ in s){var K=s[$];if(s.hasOwnProperty($)&&K!=null)switch($){case"checked":break;case"value":break;case"defaultValue":k=K;default:l.hasOwnProperty($)||qe(e,t,$,null,l,K)}}for(var q in l){var $=l[q];if(K=s[q],l.hasOwnProperty(q)&&($!=null||K!=null))switch(q){case"type":f=$;break;case"name":d=$;break;case"checked":M=$;break;case"defaultChecked":V=$;break;case"value":y=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,t));break;default:$!==K&&qe(e,t,q,$,l,K)}}Mo(e,y,b,k,M,V,f,d);return;case"select":$=y=b=q=null;for(f in s)if(k=s[f],s.hasOwnProperty(f)&&k!=null)switch(f){case"value":break;case"multiple":$=k;default:l.hasOwnProperty(f)||qe(e,t,f,null,l,k)}for(d in l)if(f=l[d],k=s[d],l.hasOwnProperty(d)&&(f!=null||k!=null))switch(d){case"value":q=f;break;case"defaultValue":b=f;break;case"multiple":y=f;default:f!==k&&qe(e,t,d,f,l,k)}t=b,s=y,l=$,q!=null?ar(e,!!s,q,!1):!!l!=!!s&&(t!=null?ar(e,!!s,t,!0):ar(e,!!s,s?[]:"",!1));return;case"textarea":$=q=null;for(b in s)if(d=s[b],s.hasOwnProperty(b)&&d!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:qe(e,t,b,null,l,d)}for(y in l)if(d=l[y],f=s[y],l.hasOwnProperty(y)&&(d!=null||f!=null))switch(y){case"value":q=d;break;case"defaultValue":$=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==f&&qe(e,t,y,d,l,f)}af(e,q,$);return;case"option":for(var ee in s)if(q=s[ee],s.hasOwnProperty(ee)&&q!=null&&!l.hasOwnProperty(ee))switch(ee){case"selected":e.selected=!1;break;default:qe(e,t,ee,null,l,q)}for(k in l)if(q=l[k],$=s[k],l.hasOwnProperty(k)&&q!==$&&(q!=null||$!=null))switch(k){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:qe(e,t,k,q,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in s)q=s[oe],s.hasOwnProperty(oe)&&q!=null&&!l.hasOwnProperty(oe)&&qe(e,t,oe,null,l,q);for(M in l)if(q=l[M],$=s[M],l.hasOwnProperty(M)&&q!==$&&(q!=null||$!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,t));break;default:qe(e,t,M,q,l,$)}return;default:if(Bo(t)){for(var Be in s)q=s[Be],s.hasOwnProperty(Be)&&q!==void 0&&!l.hasOwnProperty(Be)&&Nu(e,t,Be,void 0,l,q);for(V in l)q=l[V],$=s[V],!l.hasOwnProperty(V)||q===$||q===void 0&&$===void 0||Nu(e,t,V,q,l,$);return}}for(var L in s)q=s[L],s.hasOwnProperty(L)&&q!=null&&!l.hasOwnProperty(L)&&qe(e,t,L,null,l,q);for(K in l)q=l[K],$=s[K],!l.hasOwnProperty(K)||q===$||q==null&&$==null||qe(e,t,K,q,l,$)}function lm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var d=s[l],f=d.transferSize,y=d.initiatorType,b=d.duration;if(f&&b&&lm(y)){for(y=0,b=d.responseEnd,l+=1;l<s.length;l++){var k=s[l],M=k.startTime;if(M>b)break;var V=k.transferSize,K=k.initiatorType;V&&lm(K)&&(k=k.responseEnd,y+=V*(k<b?1:(b-M)/(k-M)))}if(--l,t+=8*(f+y)/(d.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ku=null,Au=null;function El(e){return e.nodeType===9?e:e.ownerDocument}function om(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Cu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Eu=null;function Bv(){var e=window.event;return e&&e.type==="popstate"?e===Eu?!1:(Eu=e,!0):(Eu=null,!1)}var um=typeof setTimeout=="function"?setTimeout:void 0,$v=typeof clearTimeout=="function"?clearTimeout:void 0,dm=typeof Promise=="function"?Promise:void 0,Vv=typeof queueMicrotask=="function"?queueMicrotask:typeof dm<"u"?function(e){return dm.resolve(null).then(e).catch(Pv)}:um;function Pv(e){setTimeout(function(){throw e})}function cn(e){return e==="head"}function fm(e,t){var s=t,l=0;do{var d=s.nextSibling;if(e.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(d),Lr(t);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Ks(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Ks(s);for(var f=s.firstChild;f;){var y=f.nextSibling,b=f.nodeName;f[us]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=y}}else s==="body"&&Ks(e.ownerDocument.body);s=d}while(s);Lr(t)}function hm(e,t){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?t?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(t?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function Tu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Tu(s),zo(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Iv(e,t,s,l){for(;e.nodeType===1;){var d=s;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[us])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=ta(e.nextSibling),e===null)break}return null}function Hv(e,t,s){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=ta(e.nextSibling),e===null))return null;return e}function gm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ta(e.nextSibling),e===null))return null;return e}function Ou(e){return e.data==="$?"||e.data==="$~"}function Ru(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Gv(e,t){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||s.readyState!=="loading")t();else{var l=function(){t(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function ta(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Du=null;function mm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(t===0)return ta(e.nextSibling);t--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||t++}e=e.nextSibling}return null}function pm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(t===0)return e;t--}else s!=="/$"&&s!=="/&"||t++}e=e.previousSibling}return null}function ym(e,t,s){switch(t=El(s),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Ks(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);zo(e)}var aa=new Map,vm=new Set;function Tl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ua=P.d;P.d={f:Kv,r:Yv,D:Qv,C:Jv,L:Xv,m:Fv,X:Wv,S:Zv,M:eb};function Kv(){var e=Ua.f(),t=wl();return e||t}function Yv(e){var t=Wn(e);t!==null&&t.tag===5&&t.type==="form"?zh(t):Ua.r(e)}var Or=typeof document>"u"?null:document;function bm(e,t,s){var l=Or;if(l&&typeof t=="string"&&t){var d=Qt(t);d='link[rel="'+e+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),vm.has(d)||(vm.add(d),e={rel:e,crossOrigin:s,href:t},l.querySelector(d)===null&&(t=l.createElement("link"),vt(t,"link",e),dt(t),l.head.appendChild(t)))}}function Qv(e){Ua.D(e),bm("dns-prefetch",e,null)}function Jv(e,t){Ua.C(e,t),bm("preconnect",e,t)}function Xv(e,t,s){Ua.L(e,t,s);var l=Or;if(l&&e&&t){var d='link[rel="preload"][as="'+Qt(t)+'"]';t==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+Qt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+Qt(s.imageSizes)+'"]')):d+='[href="'+Qt(e)+'"]';var f=d;switch(t){case"style":f=Rr(e);break;case"script":f=Dr(e)}aa.has(f)||(e=w({rel:"preload",href:t==="image"&&s&&s.imageSrcSet?void 0:e,as:t},s),aa.set(f,e),l.querySelector(d)!==null||t==="style"&&l.querySelector(Ys(f))||t==="script"&&l.querySelector(Qs(f))||(t=l.createElement("link"),vt(t,"link",e),dt(t),l.head.appendChild(t)))}}function Fv(e,t){Ua.m(e,t);var s=Or;if(s&&e){var l=t&&typeof t.as=="string"?t.as:"script",d='link[rel="modulepreload"][as="'+Qt(l)+'"][href="'+Qt(e)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Dr(e)}if(!aa.has(f)&&(e=w({rel:"modulepreload",href:e},t),aa.set(f,e),s.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Qs(f)))return}l=s.createElement("link"),vt(l,"link",e),dt(l),s.head.appendChild(l)}}}function Zv(e,t,s){Ua.S(e,t,s);var l=Or;if(l&&e){var d=er(l).hoistableStyles,f=Rr(e);t=t||"default";var y=d.get(f);if(!y){var b={loading:0,preload:null};if(y=l.querySelector(Ys(f)))b.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":t},s),(s=aa.get(f))&&Lu(e,s);var k=y=l.createElement("link");dt(k),vt(k,"link",e),k._p=new Promise(function(M,V){k.onload=M,k.onerror=V}),k.addEventListener("load",function(){b.loading|=1}),k.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Ol(y,t,l)}y={type:"stylesheet",instance:y,count:1,state:b},d.set(f,y)}}}function Wv(e,t){Ua.X(e,t);var s=Or;if(s&&e){var l=er(s).hoistableScripts,d=Dr(e),f=l.get(d);f||(f=s.querySelector(Qs(d)),f||(e=w({src:e,async:!0},t),(t=aa.get(d))&&zu(e,t),f=s.createElement("script"),dt(f),vt(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function eb(e,t){Ua.M(e,t);var s=Or;if(s&&e){var l=er(s).hoistableScripts,d=Dr(e),f=l.get(d);f||(f=s.querySelector(Qs(d)),f||(e=w({src:e,async:!0,type:"module"},t),(t=aa.get(d))&&zu(e,t),f=s.createElement("script"),dt(f),vt(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function xm(e,t,s,l){var d=(d=Se.current)?Tl(d):null;if(!d)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(t=Rr(s.href),s=er(d).hoistableStyles,l=s.get(t),l||(l={type:"style",instance:null,count:0,state:null},s.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Rr(s.href);var f=er(d).hoistableStyles,y=f.get(e);if(y||(d=d.ownerDocument||d,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=d.querySelector(Ys(e)))&&!f._p&&(y.instance=f,y.state.loading=5),aa.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},aa.set(e,s),f||tb(d,e,s,y.state))),t&&l===null)throw Error(i(528,""));return y}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=s.async,s=s.src,typeof s=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Dr(s),s=er(d).hoistableScripts,l=s.get(t),l||(l={type:"script",instance:null,count:0,state:null},s.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Rr(e){return'href="'+Qt(e)+'"'}function Ys(e){return'link[rel="stylesheet"]['+e+"]"}function wm(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function tb(e,t,s,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),vt(t,"link",s),dt(t),e.head.appendChild(t))}function Dr(e){return'[src="'+Qt(e)+'"]'}function Qs(e){return"script[async]"+e}function Sm(e,t,s){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Qt(s.href)+'"]');if(l)return t.instance=l,dt(l),l;var d=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),dt(l),vt(l,"style",d),Ol(l,s.precedence,e),t.instance=l;case"stylesheet":d=Rr(s.href);var f=e.querySelector(Ys(d));if(f)return t.state.loading|=4,t.instance=f,dt(f),f;l=wm(s),(d=aa.get(d))&&Lu(l,d),f=(e.ownerDocument||e).createElement("link"),dt(f);var y=f;return y._p=new Promise(function(b,k){y.onload=b,y.onerror=k}),vt(f,"link",l),t.state.loading|=4,Ol(f,s.precedence,e),t.instance=f;case"script":return f=Dr(s.src),(d=e.querySelector(Qs(f)))?(t.instance=d,dt(d),d):(l=s,(d=aa.get(f))&&(l=w({},s),zu(l,d)),e=e.ownerDocument||e,d=e.createElement("script"),dt(d),vt(d,"link",l),e.head.appendChild(d),t.instance=d);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Ol(l,s.precedence,e));return t.instance}function Ol(e,t,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,y=0;y<l.length;y++){var b=l[y];if(b.dataset.precedence===t)f=b;else if(f!==d)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=s.nodeType===9?s.head:s,t.insertBefore(e,t.firstChild))}function Lu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function zu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Rl=null;function _m(e,t,s){if(Rl===null){var l=new Map,d=Rl=new Map;d.set(s,l)}else d=Rl,l=d.get(s),l||(l=new Map,d.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),d=0;d<s.length;d++){var f=s[d];if(!(f[us]||f[gt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(t)||"";y=e+y;var b=l.get(y);b?b.push(f):l.set(y,[f])}}return l}function jm(e,t,s){e=e.ownerDocument||e,e.head.insertBefore(s,t==="title"?e.querySelector("head > title"):null)}function ab(e,t,s){if(s===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Nm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function nb(e,t,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=Rr(l.href),f=t.querySelector(Ys(d));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Dl.bind(e),t.then(e,e)),s.state.loading|=4,s.instance=f,dt(f);return}f=t.ownerDocument||t,l=wm(l),(d=aa.get(d))&&Lu(l,d),f=f.createElement("link"),dt(f);var y=f;y._p=new Promise(function(b,k){y.onload=b,y.onerror=k}),vt(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Dl.bind(e),t.addEventListener("load",s),t.addEventListener("error",s))}}var Uu=0;function rb(e,t){return e.stylesheets&&e.count===0&&zl(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&zl(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&Uu===0&&(Uu=62500*qv());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&zl(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Uu?50:800)+t);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function Dl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ll=null;function zl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ll=new Map,t.forEach(sb,e),Ll=null,Dl.call(e))}function sb(e,t){if(!(t.state.loading&4)){var s=Ll.get(e);if(s)var l=s.get(null);else{s=new Map,Ll.set(e,s);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var y=d[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),l=y)}l&&s.set(null,l)}d=t.instance,y=d.getAttribute("data-precedence"),f=s.get(y)||l,f===l&&s.set(null,d),s.set(y,d),this.count++,l=Dl.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),t.state.loading|=4}}var Js={$$typeof:C,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function ib(e,t,s,l,d,f,y,b,k){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oo(0),this.hiddenUpdates=Oo(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function km(e,t,s,l,d,f,y,b,k,M,V,K){return e=new ib(e,t,s,y,k,M,V,K,b),t=1,f===!0&&(t|=24),f=qt(3,null,null,t),e.current=f,f.stateNode=e,t=mc(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:t},bc(f),e}function Am(e){return e?(e=ur,e):ur}function Cm(e,t,s,l,d,f){d=Am(d),l.context===null?l.context=d:l.pendingContext=d,l=Fa(t),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Za(e,l,t),s!==null&&(Lt(s,e,t),As(s,e,t))}function Em(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Mu(e,t){Em(e,t),(e=e.alternate)&&Em(e,t)}function Tm(e){if(e.tag===13||e.tag===31){var t=An(e,67108864);t!==null&&Lt(t,e,67108864),Mu(e,67108864)}}function Om(e){if(e.tag===13||e.tag===31){var t=It();t=Ro(t);var s=An(e,t);s!==null&&Lt(s,e,t),Mu(e,t)}}var Ul=!0;function lb(e,t,s,l){var d=z.T;z.T=null;var f=P.p;try{P.p=2,qu(e,t,s,l)}finally{P.p=f,z.T=d}}function ob(e,t,s,l){var d=z.T;z.T=null;var f=P.p;try{P.p=8,qu(e,t,s,l)}finally{P.p=f,z.T=d}}function qu(e,t,s,l){if(Ul){var d=Bu(l);if(d===null)ju(e,t,l,Ml,s),Dm(e,l);else if(ub(d,e,t,s,l))l.stopPropagation();else if(Dm(e,l),t&4&&-1<cb.indexOf(e)){for(;d!==null;){var f=Wn(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Sn(f.pendingLanes);if(y!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;y;){var k=1<<31-Nt(y);b.entanglements[1]|=k,y&=~k}pa(f),(Re&6)===0&&(bl=ht()+500,Is(0))}}break;case 31:case 13:b=An(f,2),b!==null&&Lt(b,f,2),wl(),Mu(f,2)}if(f=Bu(l),f===null&&ju(e,t,l,Ml,s),f===d)break;d=f}d!==null&&l.stopPropagation()}else ju(e,t,l,null,s)}}function Bu(e){return e=Vo(e),$u(e)}var Ml=null;function $u(e){if(Ml=null,e=Zn(e),e!==null){var t=c(e);if(t===null)e=null;else{var s=t.tag;if(s===13){if(e=h(t),e!==null)return e;e=null}else if(s===31){if(e=g(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ml=e,null}function Rm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ni()){case Eo:return 2;case xn:return 8;case Pa:case is:return 32;case ls:return 268435456;default:return 32}default:return 32}}var Vu=!1,un=null,dn=null,fn=null,Xs=new Map,Fs=new Map,hn=[],cb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dm(e,t){switch(e){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":dn=null;break;case"mouseover":case"mouseout":fn=null;break;case"pointerover":case"pointerout":Xs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fs.delete(t.pointerId)}}function Zs(e,t,s,l,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},t!==null&&(t=Wn(t),t!==null&&Tm(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function ub(e,t,s,l,d){switch(t){case"focusin":return un=Zs(un,e,t,s,l,d),!0;case"dragenter":return dn=Zs(dn,e,t,s,l,d),!0;case"mouseover":return fn=Zs(fn,e,t,s,l,d),!0;case"pointerover":var f=d.pointerId;return Xs.set(f,Zs(Xs.get(f)||null,e,t,s,l,d)),!0;case"gotpointercapture":return f=d.pointerId,Fs.set(f,Zs(Fs.get(f)||null,e,t,s,l,d)),!0}return!1}function Lm(e){var t=Zn(e.target);if(t!==null){var s=c(t);if(s!==null){if(t=s.tag,t===13){if(t=h(s),t!==null){e.blockedOn=t,Yd(e.priority,function(){Om(s)});return}}else if(t===31){if(t=g(s),t!==null){e.blockedOn=t,Yd(e.priority,function(){Om(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ql(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Bu(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);$o=l,s.target.dispatchEvent(l),$o=null}else return t=Wn(s),t!==null&&Tm(t),e.blockedOn=s,!1;t.shift()}return!0}function zm(e,t,s){ql(e)&&s.delete(t)}function db(){Vu=!1,un!==null&&ql(un)&&(un=null),dn!==null&&ql(dn)&&(dn=null),fn!==null&&ql(fn)&&(fn=null),Xs.forEach(zm),Fs.forEach(zm)}function Bl(e,t){e.blockedOn===t&&(e.blockedOn=null,Vu||(Vu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,db)))}var $l=null;function Um(e){$l!==e&&($l=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){$l===e&&($l=null);for(var t=0;t<e.length;t+=3){var s=e[t],l=e[t+1],d=e[t+2];if(typeof l!="function"){if($u(l||s)===null)continue;break}var f=Wn(s);f!==null&&(e.splice(t,3),t-=3,Bc(f,{pending:!0,data:d,method:s.method,action:l},l,d))}}))}function Lr(e){function t(k){return Bl(k,e)}un!==null&&Bl(un,e),dn!==null&&Bl(dn,e),fn!==null&&Bl(fn,e),Xs.forEach(t),Fs.forEach(t);for(var s=0;s<hn.length;s++){var l=hn[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<hn.length&&(s=hn[0],s.blockedOn===null);)Lm(s),s.blockedOn===null&&hn.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var d=s[l],f=s[l+1],y=d[Ct]||null;if(typeof f=="function")y||Um(s);else if(y){var b=null;if(f&&f.hasAttribute("formAction")){if(d=f,y=f[Ct]||null)b=y.formAction;else if($u(d)!==null)continue}else b=y.action;typeof b=="function"?s[l+1]=b:(s.splice(l,3),l-=3),Um(s)}}}function Mm(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return d=y})},focusReset:"manual",scroll:"manual"})}function t(){d!==null&&(d(),d=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),d!==null&&(d(),d=null)}}}function Pu(e){this._internalRoot=e}Vl.prototype.render=Pu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var s=t.current,l=It();Cm(s,l,e,t,null,null)},Vl.prototype.unmount=Pu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cm(e.current,2,null,e,null,null),wl(),t[Fn]=null}};function Vl(e){this._internalRoot=e}Vl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Kd();e={blockedOn:null,target:e,priority:t};for(var s=0;s<hn.length&&t!==0&&t<hn[s].priority;s++);hn.splice(s,0,e),s===0&&Lm(e)}};var qm=a.version;if(qm!=="19.2.3")throw Error(i(527,qm,"19.2.3"));P.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=p(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var fb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pl.isDisabled&&Pl.supportsFiber)try{Ia=Pl.inject(fb),wt=Pl}catch{}}return ei.createRoot=function(e,t){if(!o(e))throw Error(i(299));var s=!1,l="",d=Gh,f=Kh,y=Yh;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(d=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError)),t=km(e,1,!1,null,null,s,l,null,d,f,y,Mm),e[Fn]=t.current,_u(e),new Pu(t)},ei.hydrateRoot=function(e,t,s){if(!o(e))throw Error(i(299));var l=!1,d="",f=Gh,y=Kh,b=Yh,k=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.formState!==void 0&&(k=s.formState)),t=km(e,1,!0,t,s??null,l,d,k,f,y,b,Mm),t.context=Am(null),s=t.current,l=It(),l=Ro(l),d=Fa(l),d.callback=null,Za(s,d,l),s=l,t.current.lanes=s,cs(t,s),pa(t),e[Fn]=t.current,_u(e),new Vl(t)},ei.version="19.2.3",ei}var Qm;function _b(){if(Qm)return Gu.exports;Qm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(a){console.error(a)}}return n(),Gu.exports=Sb(),Gu.exports}var jb=_b();const Jm=n=>Symbol.iterator in n,Xm=n=>"entries"in n,Fm=(n,a)=>{const r=n instanceof Map?n:new Map(n.entries()),i=a instanceof Map?a:new Map(a.entries());if(r.size!==i.size)return!1;for(const[o,c]of r)if(!i.has(o)||!Object.is(c,i.get(o)))return!1;return!0},Nb=(n,a)=>{const r=n[Symbol.iterator](),i=a[Symbol.iterator]();let o=r.next(),c=i.next();for(;!o.done&&!c.done;){if(!Object.is(o.value,c.value))return!1;o=r.next(),c=i.next()}return!!o.done&&!!c.done};function kb(n,a){return Object.is(n,a)?!0:typeof n!="object"||n===null||typeof a!="object"||a===null||Object.getPrototypeOf(n)!==Object.getPrototypeOf(a)?!1:Jm(n)&&Jm(a)?Xm(n)&&Xm(a)?Fm(n,a):Nb(n,a):Fm({entries:()=>Object.entries(n)},{entries:()=>Object.entries(a)})}function Qn(n){const a=Qr.useRef(void 0);return r=>{const i=n(r);return kb(a.current,i)?a.current:a.current=i}}const Zm=n=>{let a;const r=new Set,i=(p,v)=>{const w=typeof p=="function"?p(a):p;if(!Object.is(w,a)){const x=a;a=v??(typeof w!="object"||w===null)?w:Object.assign({},a,w),r.forEach(_=>_(a,x))}},o=()=>a,g={setState:i,getState:o,getInitialState:()=>m,subscribe:p=>(r.add(p),()=>r.delete(p))},m=a=n(i,o,g);return g},Ab=(n=>n?Zm(n):Zm),Cb=n=>n;function Eb(n,a=Cb){const r=Qr.useSyncExternalStore(n.subscribe,Qr.useCallback(()=>a(n.getState()),[n,a]),Qr.useCallback(()=>a(n.getInitialState()),[n,a]));return Qr.useDebugValue(r),r}const Wm=n=>{const a=Ab(n),r=i=>Eb(a,i);return Object.assign(r,a),r},Tb=(n=>n?Wm(n):Wm),Ob="souq_iraq_theme_preference";function Rb(){return"light"}function Db(n){typeof window>"u"||localStorage.setItem(Ob,"light")}function Lb(n){typeof document>"u"||(document.documentElement.classList.remove("dark"),document.documentElement.style.colorScheme="light")}const ud="cat718818@gmail.com";function zb(n){return(n??"").trim().toLowerCase()===ud}function Ub(){if(typeof window>"u")return"ar";const n=localStorage.getItem("iraq_marketplace_language");return n==="en"||n==="ar"?n:"ar"}const se=Tb((n,a)=>({currentPage:"home",selectedSellerId:null,selectedProductId:null,searchQuery:"",selectedCategory:"all",selectedLocation:"all",priceRange:[0,2e6],favorites:[],pageHistory:[],authNextPage:null,navigate:(r,i)=>{const o=a();if(["sellerDashboard"].includes(r)&&!o.isAuthenticated){const m=i?.sellerId??o.selectedSellerId,p=i?.productId??o.selectedProductId;if(o.currentPage==="profile"&&o.authNextPage===r&&o.selectedSellerId===m&&o.selectedProductId===p)return;n({currentPage:"profile",authNextPage:r,selectedSellerId:m,selectedProductId:p,pageHistory:[...o.pageHistory,o.currentPage]});return}if(r==="sellerDashboard"&&!zb(o.user?.email)){typeof window<"u"&&window.alert(o.language==="ar"?`ما عندك صلاحية تفتح لوحة التحكم. لازم تسجل دخول بهذا البريد فقط: ${ud}`:`You don't have access to the dashboard. Sign in with: ${ud}`),n({currentPage:"profile",authNextPage:null,pageHistory:[...o.pageHistory,o.currentPage]});return}const h=i?.sellerId??o.selectedSellerId,g=i?.productId??o.selectedProductId;o.currentPage===r&&o.selectedSellerId===h&&o.selectedProductId===g||n({currentPage:r,selectedSellerId:h,selectedProductId:g,pageHistory:[...o.pageHistory,o.currentPage]})},goBack:()=>{const i=[...a().pageHistory],o=i.pop()||"home";n({currentPage:o,pageHistory:i})},setSearchQuery:r=>n({searchQuery:r}),setSelectedCategory:r=>n({selectedCategory:r}),setSelectedLocation:r=>n({selectedLocation:r}),setPriceRange:r=>n({priceRange:r}),toggleFavorite:r=>{const i=a(),o=i.favorites.includes(r)?i.favorites.filter(c=>c!==r):[...i.favorites,r];n({favorites:o})},user:null,isAuthenticated:!1,isAdmin:!1,authToken:null,language:Ub(),themePreference:Rb(),securitySettings:{maxLoginAttempts:5,lockoutDuration:15,sessionTimeout:15,requireStrongPassword:!0,enableTwoFactor:!1},unreadNotificationsCount:0,setUnreadNotificationsCount:r=>n({unreadNotificationsCount:Math.max(0,r)}),clearUnreadNotifications:()=>n({unreadNotificationsCount:0}),incrementUnreadNotifications:()=>n({unreadNotificationsCount:a().unreadNotificationsCount+1}),setUser:r=>n({user:r,isAdmin:r?.role==="admin"}),setAuthenticated:r=>{a().isAuthenticated!==r&&n({isAuthenticated:r})},setAuthToken:r=>{a().authToken!==r&&n({authToken:r})},setAuthNextPage:r=>{a().authNextPage!==r&&n({authNextPage:r})},consumeAuthNextPage:()=>{const r=a().authNextPage;return r&&n({authNextPage:null}),r},logout:()=>n({user:null,isAuthenticated:!1,isAdmin:!1,authToken:null,authNextPage:null}),isAdminUser:()=>a().user?.role==="admin",setLanguage:r=>{a().language!==r&&(n({language:r}),typeof window<"u"&&(localStorage.setItem("iraq_marketplace_language",r),document.documentElement.dir=r==="ar"?"rtl":"ltr",document.documentElement.lang=r,window.location.reload()))},setThemePreference:r=>{a().themePreference!==r&&(n({themePreference:r}),Db())},updateSecuritySettings:r=>n(i=>({securitySettings:{...i.securitySettings,...r}})),viewCounts:{},setViewCount:(r,i)=>{a().viewCounts[r]!==i&&n(o=>({viewCounts:{...o.viewCounts,[r]:i}}))},incrementViewCount:r=>n(i=>({viewCounts:{...i.viewCounts,[r]:(i.viewCounts[r]||0)+1}})),getViewCount:r=>a().viewCounts[r]||0,verificationRequests:[],addVerificationRequest:r=>n(i=>({verificationRequests:[...i.verificationRequests,r]})),updateVerificationStatus:(r,i,o)=>n(c=>({verificationRequests:c.verificationRequests.map(h=>h.productId===r?{...h,status:i,verifiedAt:o}:h)})),getVerificationStatus:r=>a().verificationRequests.find(i=>i.productId===r),sellerDashboardId:null,showAddProductForm:!1,setSellerDashboardId:r=>n({sellerDashboardId:r}),setShowAddProductForm:r=>n({showAddProductForm:r})}));const W0=(...n)=>n.filter((a,r,i)=>!!a&&a.trim()!==""&&i.indexOf(a)===r).join(" ").trim();const Mb=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const qb=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,r,i)=>i?i.toUpperCase():r.toLowerCase());const e0=n=>{const a=qb(n);return a.charAt(0).toUpperCase()+a.slice(1)};var Bb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $b=n=>{for(const a in n)if(a.startsWith("aria-")||a==="role"||a==="title")return!0;return!1};const Vb=T.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:h,...g},m)=>T.createElement("svg",{ref:m,...Bb,width:a,height:a,stroke:n,strokeWidth:i?Number(r)*24/Number(a):r,className:W0("lucide",o),...!c&&!$b(g)&&{"aria-hidden":"true"},...g},[...h.map(([p,v])=>T.createElement(p,v)),...Array.isArray(c)?c:[c]]));const ce=(n,a)=>{const r=T.forwardRef(({className:i,...o},c)=>T.createElement(Vb,{ref:c,iconNode:a,className:W0(`lucide-${Mb(e0(n))}`,`lucide-${n}`,i),...o}));return r.displayName=e0(n),r};const Pb=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ad=ce("arrow-left",Pb);const Ib=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Hb=ce("bell",Ib);const Gb=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ep=ce("calendar",Gb);const Kb=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],tp=ce("camera",Kb);const Yb=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],t0=ce("chart-column",Yb);const Qb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Cd=ce("check",Qb);const Jb=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Xb=ce("chevron-down",Jb);const Fb=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],eo=ce("chevron-right",Fb);const Zb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],to=ce("circle-alert",Zb);const Wb=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Kn=ce("circle-check-big",Wb);const ex=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],tx=ce("circle-check",ex);const ax=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],nx=ce("circle-question-mark",ax);const rx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ap=ce("circle-x",rx);const sx=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ed=ce("clock",sx);const ix=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],lx=ce("external-link",ix);const ox=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Zr=ce("eye",ox);const cx=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ju=ce("file-text",cx);const ux=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],dx=ce("flame",ux);const fx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],hx=ce("globe",fx);const gx=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],ci=ce("heart",gx);const mx=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],px=ce("house",mx);const yx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],vx=ce("info",yx);const bx=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],np=ce("instagram",bx);const xx=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],wx=ce("key-round",xx);const Sx=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Td=ce("loader-circle",Sx);const _x=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],a0=ce("log-out",_x);const jx=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],vo=ce("map-pin",jx);const Nx=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],rp=ce("message-circle",Nx);const kx=[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]],Ax=ce("music-2",kx);const Cx=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ui=ce("package",Cx);const Ex=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Tx=ce("pen",Ex);const Ox=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ao=ce("plus",Ox);const Rx=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Od=ce("search",Rx);const Dx=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],n0=ce("settings",Dx);const Lx=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],sp=ce("share-2",Lx);const zx=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ba=ce("shield-check",zx);const Ux=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],r0=ce("shield",Ux);const Mx=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Rd=ce("shopping-bag",Mx);const qx=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Bx=ce("shopping-cart",qx);const $x=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],Vx=ce("sliders-horizontal",$x);const Px=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ix=ce("sparkles",Px);const Hx=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],fa=ce("star",Hx);const Gx=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],Xu=ce("store",Gx);const Kx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Yx=ce("trash-2",Kx);const Qx=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Dd=ce("trending-up",Qx);const Jx=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],s0=ce("triangle-alert",Jx);const Xx=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Ld=ce("truck",Xx);const Fx=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Zx=ce("upload",Fx);const Wx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],dd=ce("user",Wx);const e1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],di=ce("x",e1);const t1=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],a1=ce("zap",t1),no=[{id:"all",name:"All",nameAr:"الكل",icon:"🏪",color:"bg-emerald-100 text-emerald-700"},{id:"fashion",name:"Fashion",nameAr:"أزياء",icon:"👗",color:"bg-pink-100 text-pink-700"},{id:"electronics",name:"Electronics",nameAr:"إلكترونيات",icon:"📱",color:"bg-blue-100 text-blue-700"},{id:"beauty",name:"Beauty",nameAr:"تجميل",icon:"💄",color:"bg-purple-100 text-purple-700"},{id:"home",name:"Home",nameAr:"منزل",icon:"🏠",color:"bg-amber-100 text-amber-700"},{id:"food",name:"Food",nameAr:"طعام",icon:"🍽️",color:"bg-orange-100 text-orange-700"},{id:"sports",name:"Sports",nameAr:"رياضة",icon:"⚽",color:"bg-emerald-100 text-emerald-700"},{id:"kids",name:"Kids",nameAr:"أطفال",icon:"🧸",color:"bg-red-100 text-red-700"}],ip=[{id:"all",name:"All Iraq",nameAr:"كل العراق"},{id:"baghdad",name:"Baghdad",nameAr:"بغداد"},{id:"basra",name:"Basra",nameAr:"البصرة"},{id:"erbil",name:"Erbil",nameAr:"أربيل"},{id:"sulaymaniyah",name:"Sulaymaniyah",nameAr:"السليمانية"},{id:"najaf",name:"Najaf",nameAr:"النجف"},{id:"karbala",name:"Karbala",nameAr:"كربلاء"},{id:"mosul",name:"Mosul",nameAr:"الموصل"},{id:"kirkuk",name:"Kirkuk",nameAr:"كركوك"}];function n1(n){return`data:image/svg+xml;charset=utf-8,${encodeURIComponent(n)}`}function r1(n){let a=0;for(let r=0;r<n.length;r++)a=a*31+n.charCodeAt(r)|0;return Math.abs(a)%360}function s1(n){const a=n.trim().replace(/\s+/g," ");if(!a)return"S";const r=a.split(" ").filter(Boolean);return r.length===1?r[0].slice(0,2).toUpperCase():`${r[0][0]}${r[1][0]}`.toUpperCase()}function zd(n){const a=r1(n.id),r=(a+40)%360,i=Math.max(0,Math.min(n.rounded??24,Math.min(n.width,n.height)/2)),o=Math.max(14,Math.floor(Math.min(n.width,n.height)/8)),c=Math.max(12,Math.floor(o*.55)),h=n.subtitle?.trim();return n1(`<svg xmlns="http://www.w3.org/2000/svg" width="${n.width}" height="${n.height}" viewBox="0 0 ${n.width} ${n.height}">
      <defs>
        <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
          <stop offset="0%" stop-color="hsl(${a} 75% 55%)"/>
          <stop offset="100%" stop-color="hsl(${r} 75% 45%)"/>
        </linearGradient>
        <filter id="s" x="-20%" y="-20%" width="140%" height="140%">
          <feDropShadow dx="0" dy="6" stdDeviation="8" flood-color="#000" flood-opacity="0.25"/>
        </filter>
      </defs>
      <rect width="${n.width}" height="${n.height}" rx="${i}" fill="url(#g)"/>
      <g filter="url(#s)">
        <rect x="${Math.floor(n.width*.06)}" y="${Math.floor(n.height*.12)}" width="${Math.floor(n.width*.88)}" height="${Math.floor(n.height*.76)}" rx="${Math.max(12,Math.floor(i*.6))}" fill="rgba(255,255,255,0.12)"/>
      </g>
      <text x="50%" y="${h?"48%":"55%"}" text-anchor="middle" dominant-baseline="middle"
        font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial" font-weight="800"
        font-size="${o}" fill="rgba(255,255,255,0.95)">${n.label}</text>
      ${h?`<text x="50%" y="66%" text-anchor="middle" dominant-baseline="middle"
        font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial" font-weight="600"
        font-size="${c}" fill="rgba(255,255,255,0.85)">${h}</text>`:""}
    </svg>`)}function zr(n,a){return zd({id:`seller-avatar:${a}:${n}`,width:150,height:150,label:s1(n),rounded:32})}function Ur(n,a){return zd({id:`seller-cover:${a}:${n}`,width:800,height:300,label:n,subtitle:"Souq Iraq",rounded:28})}function At(n,a){return zd({id:`product:${a}:${n}`,width:400,height:400,label:n,subtitle:"IQD",rounded:36})}let Wr=[{id:"s1",name:"Noor Fashion",nameAr:"نور فاشن",avatar:zr("Noor Fashion","s1"),coverImage:Ur("Noor Fashion","s1"),bio:"Premium women's fashion from Turkey & Dubai. Shipping all over Iraq 🇮🇶",location:"baghdad",locationAr:"بغداد",whatsapp:"9647701234567",instagram:"noorfashion_iq",tiktok:"noorfashion",isVerified:!0,rating:4.8,totalRatings:234,totalSales:1520,joinedDate:"2023-06-15",categories:["fashion"],viewCount:15600,deliveryInfo:"توصيل لكل العراق",productCount:3},{id:"s2",name:"Tech Zone IQ",nameAr:"تك زون",avatar:zr("Tech Zone IQ","s2"),coverImage:Ur("Tech Zone IQ","s2"),bio:"Latest smartphones, accessories & gadgets. Original products with warranty ✅",location:"erbil",locationAr:"أربيل",whatsapp:"9647702345678",instagram:"techzone_iq",tiktok:"techzoneiq",isVerified:!0,rating:4.6,totalRatings:189,totalSales:980,joinedDate:"2023-08-20",categories:["electronics"],viewCount:12300,deliveryInfo:"توصيل لكل العراق",productCount:3},{id:"s3",name:"Bella Beauty",nameAr:"بيلا بيوتي",avatar:zr("Bella Beauty","s3"),coverImage:Ur("Bella Beauty","s3"),bio:"Korean & French skincare products. 100% original. Free samples with every order 🎁",location:"basra",locationAr:"البصرة",whatsapp:"9647703456789",instagram:"bellabeauty_iq",tiktok:"bellabeautyiq",isVerified:!0,rating:4.9,totalRatings:312,totalSales:2100,joinedDate:"2023-03-10",categories:["beauty"],viewCount:21400,deliveryInfo:"توصيل لكل العراق",productCount:3},{id:"s4",name:"Iraqi Home Decor",nameAr:"ديكور عراقي",avatar:zr("Iraqi Home Decor","s4"),coverImage:Ur("Iraqi Home Decor","s4"),bio:"Transform your home with our curated collection of modern & traditional decor 🏡",location:"najaf",locationAr:"النجف",whatsapp:"9647704567890",instagram:"",tiktok:"",isVerified:!1,rating:4.3,totalRatings:87,totalSales:450,joinedDate:"2024-01-05",categories:["home"],viewCount:5600,deliveryInfo:"توصيل لكل العراق",productCount:2},{id:"s5",name:"Mama's Kitchen",nameAr:"مطبخ ماما",avatar:zr("Mama's Kitchen","s5"),coverImage:Ur("Mama's Kitchen","s5"),bio:"Homemade Iraqi sweets & pastries. Daily fresh. Delivery in Baghdad only 🍰",location:"baghdad",locationAr:"بغداد",whatsapp:"9647705678901",instagram:"mamaskitchen_iq",tiktok:"mamaskitcheniq",isVerified:!0,rating:4.7,totalRatings:156,totalSales:890,joinedDate:"2023-11-01",categories:["food"],viewCount:9800,deliveryInfo:"توصيل لكل العراق",productCount:2},{id:"s6",name:"Sport Planet",nameAr:"سبورت بلانيت",avatar:zr("Sport Planet","s6"),coverImage:Ur("Sport Planet","s6"),bio:"Your one-stop shop for sports gear, gym equipment & activewear 💪",location:"sulaymaniyah",locationAr:"السليمانية",whatsapp:"9647706789012",instagram:"",tiktok:"",isVerified:!1,rating:4.4,totalRatings:67,totalSales:340,joinedDate:"2024-02-15",categories:["sports"],viewCount:4200,deliveryInfo:"توصيل لكل العراق",productCount:2}],Si=[{id:"p1",sellerId:"s1",name:"Turkish Abaya Collection",nameAr:"عبايات تركية",description:"Premium Turkish abayas with elegant embroidery. Available in multiple colors and sizes.",descriptionAr:"عبايات تركية فاخرة مع تطريز أنيق. متوفرة بعدة ألوان ومقاسات.",price:65e3,originalPrice:85e3,currency:"IQD",images:[At("Turkish Abaya Collection","p1")],category:"fashion",categoryAr:"أزياء",inStock:!0,viewCount:1230,createdAt:"2024-03-01",tags:["abaya","turkish","women"],isVerified:!0,verificationStatus:"verified",verifiedAt:"2024-03-05"},{id:"p2",sellerId:"s1",name:"Designer Handbag",nameAr:"حقيبة يد فاخرة",description:"Luxury designer-inspired handbag. High quality leather finish.",descriptionAr:"حقيبة يد فاخرة. تشطيب جلد عالي الجودة.",price:45e3,currency:"IQD",images:[At("Designer Handbag","p2")],category:"fashion",categoryAr:"أزياء",inStock:!0,viewCount:890,createdAt:"2024-03-05",tags:["bag","leather","women"],isVerified:!0,verificationStatus:"verified",verifiedAt:"2024-03-08"},{id:"p3",sellerId:"s1",name:"Summer Dress Set",nameAr:"طقم فستان صيفي",description:"Light and breezy summer dress set. Perfect for Iraqi summer weather.",descriptionAr:"طقم فستان صيفي خفيف ومنعش. مثالي لصيف العراق.",price:35e3,originalPrice:42e3,currency:"IQD",images:[At("Summer Dress Set","p3")],category:"fashion",categoryAr:"أزياء",inStock:!0,viewCount:2100,createdAt:"2024-03-10",tags:["dress","summer","women"],isVerified:!0,verificationStatus:"verified",verifiedAt:"2024-03-12"},{id:"p4",sellerId:"s2",name:"iPhone 15 Pro Max",nameAr:"آيفون 15 برو ماكس",description:"Brand new iPhone 15 Pro Max 256GB. Original with 1 year warranty.",descriptionAr:"آيفون 15 برو ماكس 256 جيجا جديد. أصلي مع ضمان سنة.",price:185e4,currency:"IQD",images:[At("iPhone 15 Pro Max","p4")],category:"electronics",categoryAr:"إلكترونيات",inStock:!0,viewCount:5400,createdAt:"2024-03-02",tags:["iphone","apple","smartphone"],isVerified:!0,verificationStatus:"verified",verifiedAt:"2024-03-04"},{id:"p5",sellerId:"s2",name:"Samsung Galaxy Buds",nameAr:"سماعات سامسونج",description:"Samsung Galaxy Buds2 Pro. Active noise cancellation. Original.",descriptionAr:"سماعات سامسونج جالاكسي بادز2 برو. إلغاء ضوضاء فعال. أصلي.",price:175e3,originalPrice:21e4,currency:"IQD",images:[At("Samsung Galaxy Buds","p5")],category:"electronics",categoryAr:"إلكترونيات",inStock:!0,viewCount:1800,createdAt:"2024-03-08",tags:["samsung","earbuds","audio"],isVerified:!0,verificationStatus:"verified",verifiedAt:"2024-03-10"},{id:"p6",sellerId:"s2",name:"Apple Watch Series 9",nameAr:"ساعة أبل سيريز 9",description:"Apple Watch Series 9 GPS. Health & fitness tracking. Multiple bands.",descriptionAr:"ساعة أبل سيريز 9 GPS. تتبع الصحة واللياقة. أحزمة متعددة.",price:65e4,currency:"IQD",images:[At("Apple Watch Series 9","p6")],category:"electronics",categoryAr:"إلكترونيات",inStock:!1,viewCount:3200,createdAt:"2024-02-28",tags:["apple","watch","smartwatch"],isVerified:!0,verificationStatus:"verified",verifiedAt:"2024-03-02"},{id:"p7",sellerId:"s3",name:"Korean Skincare Set",nameAr:"مجموعة عناية كورية",description:"10-step Korean skincare routine set. Includes cleanser, toner, serum & more.",descriptionAr:"مجموعة عناية كورية من 10 خطوات. تشمل منظف وتونر وسيروم والمزيد.",price:85e3,originalPrice:12e4,currency:"IQD",images:[At("Korean Skincare Set","p7")],category:"beauty",categoryAr:"تجميل",inStock:!0,viewCount:4300,createdAt:"2024-03-03",tags:["skincare","korean","set"],isVerified:!0,verificationStatus:"verified",verifiedAt:"2024-03-06"},{id:"p8",sellerId:"s3",name:"MAC Lipstick Collection",nameAr:"مجموعة أحمر شفاه ماك",description:"Original MAC lipstick set. 6 trending shades. Long-lasting formula.",descriptionAr:"مجموعة أحمر شفاه ماك أصلية. 6 ألوان رائجة. تركيبة تدوم طويلاً.",price:55e3,currency:"IQD",images:[At("MAC Lipstick Collection","p8")],category:"beauty",categoryAr:"تجميل",inStock:!0,viewCount:2900,createdAt:"2024-03-07",tags:["mac","lipstick","makeup"],isVerified:!0,verificationStatus:"verified",verifiedAt:"2024-03-09"},{id:"p9",sellerId:"s3",name:"Hair Care Bundle",nameAr:"حزمة العناية بالشعر",description:"Complete hair care bundle with shampoo, conditioner, and hair mask.",descriptionAr:"حزمة كاملة للعناية بالشعر مع شامبو وبلسم وماسك شعر.",price:42e3,originalPrice:58e3,currency:"IQD",images:[At("Hair Care Bundle","p9")],category:"beauty",categoryAr:"تجميل",inStock:!0,viewCount:1600,createdAt:"2024-03-12",tags:["hair","shampoo","care"],isVerified:!0,verificationStatus:"verified",verifiedAt:"2024-03-14"},{id:"p10",sellerId:"s4",name:"Modern Table Lamp",nameAr:"مصباح طاولة عصري",description:"Elegant modern table lamp with USB charging port. LED warm light.",descriptionAr:"مصباح طاولة عصري أنيق مع منفذ شحن USB. إضاءة LED دافئة.",price:28e3,currency:"IQD",images:[At("Modern Table Lamp","p10")],category:"home",categoryAr:"منزل",inStock:!0,viewCount:780,createdAt:"2024-03-04",tags:["lamp","modern","decor"],isVerified:!1,verificationStatus:"none"},{id:"p11",sellerId:"s4",name:"Decorative Cushion Set",nameAr:"طقم وسائد ديكور",description:"Set of 4 premium decorative cushions. Traditional Iraqi patterns.",descriptionAr:"طقم من 4 وسائد ديكور فاخرة. نقوش عراقية تقليدية.",price:38e3,originalPrice:5e4,currency:"IQD",images:[At("Decorative Cushion Set","p11")],category:"home",categoryAr:"منزل",inStock:!0,viewCount:560,createdAt:"2024-03-09",tags:["cushion","traditional","decor"],isVerified:!1,verificationStatus:"pending"},{id:"p12",sellerId:"s5",name:"Iraqi Kleicha Box",nameAr:"علبة كليجة عراقية",description:"Homemade Iraqi Kleicha with dates & walnuts. 1kg box. Daily fresh.",descriptionAr:"كليجة عراقية منزلية بالتمر والجوز. علبة 1 كيلو. طازجة يومياً.",price:25e3,currency:"IQD",images:[At("Iraqi Kleicha Box","p12")],category:"food",categoryAr:"طعام",inStock:!0,viewCount:3400,createdAt:"2024-03-06",tags:["kleicha","sweets","iraqi"],isVerified:!0,verificationStatus:"verified",verifiedAt:"2024-03-08"},{id:"p13",sellerId:"s5",name:"Baklava Premium Box",nameAr:"علبة بقلاوة فاخرة",description:"Premium handmade baklava with pistachios. Perfect gift box.",descriptionAr:"بقلاوة يدوية فاخرة بالفستق. علبة هدايا مثالية.",price:35e3,originalPrice:4e4,currency:"IQD",images:[At("Baklava Premium Box","p13")],category:"food",categoryAr:"طعام",inStock:!0,viewCount:2100,createdAt:"2024-03-11",tags:["baklava","sweets","pistachio"],isVerified:!0,verificationStatus:"verified",verifiedAt:"2024-03-13"},{id:"p14",sellerId:"s6",name:"Yoga Mat Premium",nameAr:"بساط يوغا فاخر",description:"Non-slip premium yoga mat. 6mm thick. Carrying strap included.",descriptionAr:"بساط يوغا فاخر مانع للانزلاق. سمك 6 ملم. مع حزام حمل.",price:22e3,currency:"IQD",images:[At("Yoga Mat Premium","p14")],category:"sports",categoryAr:"رياضة",inStock:!0,viewCount:450,createdAt:"2024-03-13",tags:["yoga","mat","fitness"],isVerified:!1,verificationStatus:"none"},{id:"p15",sellerId:"s6",name:"Dumbbell Set 20kg",nameAr:"طقم دمبل 20 كغ",description:"Adjustable dumbbell set 20kg. Chrome plated. With carry case.",descriptionAr:"طقم دمبل قابل للتعديل 20 كغ. مطلي بالكروم. مع حقيبة حمل.",price:55e3,originalPrice:7e4,currency:"IQD",images:[At("Dumbbell Set 20kg","p15")],category:"sports",categoryAr:"رياضة",inStock:!0,viewCount:670,createdAt:"2024-03-14",tags:["dumbbell","gym","weights"],isVerified:!1,verificationStatus:"none"}],Ud=[{id:"r1",sellerId:"s1",buyerName:"Ahmed M.",rating:5,comment:"Excellent quality! Fast delivery to Baghdad.",verified:!0,date:"2024-03-10"},{id:"r2",sellerId:"s1",buyerName:"Sara K.",rating:4,comment:"Beautiful abaya, exactly as shown. Highly recommend!",verified:!0,date:"2024-03-08"},{id:"r3",sellerId:"s2",buyerName:"Omar H.",rating:5,comment:"Original iPhone, great price. Very trustworthy seller.",verified:!0,date:"2024-03-09"},{id:"r4",sellerId:"s3",buyerName:"Fatima R.",rating:5,comment:"Amazing skincare products! My skin loves them ❤️",verified:!0,date:"2024-03-11"},{id:"r5",sellerId:"s3",buyerName:"Zainab A.",rating:5,comment:"Best beauty store in Iraq! Always original products.",verified:!0,date:"2024-03-07"},{id:"r6",sellerId:"s5",buyerName:"Mustafa T.",rating:5,comment:"The kleicha tastes like my grandmother's recipe! 😍",verified:!0,date:"2024-03-12"},{id:"r7",sellerId:"s4",buyerName:"Layla S.",rating:4,comment:"Good quality cushions. Delivery took 3 days.",verified:!0,date:"2024-03-13"},{id:"r8",sellerId:"s2",buyerName:"Ali N.",rating:4,comment:"Galaxy Buds work perfectly. Good packaging.",verified:!0,date:"2024-03-14"}];function Ma(n){n.sellers&&(Wr=n.sellers),n.products&&(Si=n.products),n.ratings&&(Ud=n.ratings)}function Kt(n){return n.toLocaleString("en-US")+" IQD"}function bo(n){const a=Wr.find(o=>o.id===n);if(!a)return;const{average:r,count:i}=$a(n);return{...a,rating:r,totalRatings:i}}function ro(n){return Si.filter(a=>a.sellerId===n)}function lp(n){return Ud.filter(a=>a.sellerId===n)}function $a(n){const a=lp(n),r=a.length;if(r===0)return{average:0,count:0};const i=a.reduce((c,h)=>c+h.rating,0);return{average:Math.round(i/r*10)/10,count:r}}function na(n){return Si.find(a=>a.id===n)}function i1(n,a){const r=encodeURIComponent(`Hi, I am interested in: ${a}

Sent from Souq Iraq 🇮🇶`);return`https://wa.me/${n}?text=${r}`}function l1(n,a){const r=encodeURIComponent(a);return`https://wa.me/${n}?text=${r}`}function so(n,a){return a==="ar"?`${n.toLocaleString("ar-IQ")} دينار`:`${n.toLocaleString("en-US")} IQD`}function o1(n){const{seller:a,products:r,totalPrice:i}=n;let o=`مرحباً، أريد طلب المنتجات التالية من ${a.nameAr}:

`;return r.forEach((c,h)=>{const{product:g,quantity:m}=c,p=g.price*m;o+=`${h+1}. ${g.nameAr} - الكمية: ${m} - السعر: ${so(p,"ar")}
`}),o+=`
المجموع الكلي: ${so(i,"ar")}

`,o+=`شكراً!

`,o+="تم الإرسال من تطبيق سوق العراق 🇮🇶",o}function c1(n){const{seller:a,products:r,totalPrice:i}=n;let o=`Hello, I would like to order the following products from ${a.name}:

`;return r.forEach((c,h)=>{const{product:g,quantity:m}=c,p=g.price*m;o+=`${h+1}. ${g.name} - Quantity: ${m} - Price: ${so(p,"en")}
`}),o+=`
Total: ${so(i,"en")}

`,o+=`Thank you!

`,o+="Sent from Souq Iraq 🇮🇶",o}function u1(n){return n.language==="ar"?o1(n):c1(n)}function op(n,a){const r=l1(n,a);window.open(r,"_blank")}const cp="souq_iraq_cart";function va(){try{const n=localStorage.getItem(cp);if(n)return JSON.parse(n)}catch(n){console.error("Error reading cart from storage:",n)}return{items:[],updatedAt:new Date().toISOString()}}function xo(n){try{n.updatedAt=new Date().toISOString(),localStorage.setItem(cp,JSON.stringify(n))}catch(a){console.error("Error saving cart to storage:",a)}}function d1(n,a=1){const r=va(),i=na(n);if(!i)throw new Error("Product not found");const o=r.items.findIndex(c=>c.productId===n);return o>=0?r.items[o].quantity+=a:r.items.push({productId:n,quantity:a,sellerId:i.sellerId,addedAt:new Date().toISOString()}),xo(r),r}function f1(n){const a=va();return a.items=a.items.filter(r=>r.productId!==n),xo(a),a}function h1(n,a){const r=va(),i=r.items.findIndex(o=>o.productId===n);return i>=0&&(a<=0?r.items.splice(i,1):r.items[i].quantity=a),xo(r),r}function g1(){const n={items:[],updatedAt:new Date().toISOString()};return xo(n),n}function m1(){return va().items.reduce((a,r)=>a+r.quantity,0)}function p1(){return va().items.reduce((a,r)=>{const i=na(r.productId);return a+(i?i.price*r.quantity:0)},0)}function up(){const n=va(),a=new Map;return n.items.forEach(r=>{const i=na(r.productId),o=bo(r.sellerId);if(!i||!o)return;a.has(r.sellerId)||a.set(r.sellerId,{seller:o,items:[],total:0});const c=a.get(r.sellerId);c.items.push({product:i,quantity:r.quantity}),c.total+=i.price*r.quantity}),Array.from(a.values())}function dp(n){const r=up().map(c=>({seller:c.seller,products:c.items,totalPrice:c.total,language:n}));let i=0;return{sellersData:r,openNextSeller:()=>{if(i>=r.length)return!1;const c=r[i],h=u1(c);return op(c.seller.whatsapp,h),i++,i<r.length}}}function y1(n){return va().items.some(r=>r.productId===n)}function v1(n){return va().items.find(i=>i.productId===n)?.quantity||0}const fp=T.createContext(void 0);function b1({children:n}){const[a,r]=T.useState({items:[],updatedAt:new Date().toISOString()}),[i,o]=T.useState(!0),c=se(D=>D.language),{isAuthenticated:h,navigate:g,setAuthNextPage:m}=se(Qn(D=>({isAuthenticated:D.isAuthenticated,navigate:D.navigate,setAuthNextPage:D.setAuthNextPage}))),p=T.useCallback(()=>h?!0:(m("cart"),g("profile"),!1),[h,g,m]);T.useEffect(()=>{const D=va();r(D),o(!1)},[]);const v=T.useCallback(()=>{const D=va();r(D)},[]),w=T.useCallback((D,G=1)=>{if(!p())return;const pe=d1(D,G);r(pe)},[p]),x=T.useCallback(D=>{if(!p())return;const G=f1(D);r(G)},[p]),_=T.useCallback((D,G)=>{if(!p())return;const pe=h1(D,G);r(pe)},[p]),S=T.useCallback(()=>{if(!p())return;const D=g1();r(D)},[p]),N=T.useCallback(()=>{if(!p())return;const{openNextSeller:D}=dp(c);D()},[p,c]),j=T.useCallback(D=>y1(D),[]),A=T.useCallback(D=>v1(D),[]),R=m1(),C=p1(),B=up(),J={cart:a,itemCount:R,total:C,sellerGroups:B,isLoading:i,addToCart:w,removeFromCart:x,updateQuantity:_,clearCart:S,checkout:N,isInCart:j,getQuantity:A,refreshCart:v};return u.jsx(fp.Provider,{value:J,children:n})}function es(){const n=T.useContext(fp);if(n===void 0)throw new Error("useCart must be used within a CartProvider");return n}function x1(){if(console&&console.warn){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];Yn(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),console.warn(...a)}}const i0={};function fd(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];Yn(a[0])&&i0[a[0]]||(Yn(a[0])&&(i0[a[0]]=new Date),x1(...a))}const hp=(n,a)=>()=>{if(n.isInitialized)a();else{const r=()=>{setTimeout(()=>{n.off("initialized",r)},0),a()};n.on("initialized",r)}},l0=(n,a,r)=>{n.loadNamespaces(a,hp(n,r))},o0=(n,a,r,i)=>{Yn(r)&&(r=[r]),r.forEach(o=>{n.options.ns.indexOf(o)<0&&n.options.ns.push(o)}),n.loadLanguages(a,hp(n,i))},w1=function(n,a){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=a.languages[0],o=a.options?a.options.fallbackLng:!1,c=a.languages[a.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const h=(g,m)=>{const p=a.services.backendConnector.state[`${g}|${m}`];return p===-1||p===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!h(a.isLanguageChangingTo,n)?!1:!!(a.hasResourceBundle(i,n)||!a.services.backendConnector.backend||a.options.resources&&!a.options.partialBundledLanguages||h(i,n)&&(!o||h(c,n)))},S1=function(n,a){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!a.languages||!a.languages.length?(fd("i18n.languages were undefined or empty",a.languages),!0):a.options.ignoreJSONStructure!==void 0?a.hasLoadedNamespace(n,{lng:r.lng,precheck:(o,c)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&o.services.backendConnector.backend&&o.isLanguageChangingTo&&!c(o.isLanguageChangingTo,n))return!1}}):w1(n,a,r)},Yn=n=>typeof n=="string",_1=n=>typeof n=="object"&&n!==null,j1=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,N1={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},k1=n=>N1[n],A1=n=>n.replace(j1,k1);let hd={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:A1};const C1=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};hd={...hd,...n}},E1=()=>hd;let gp;const T1=n=>{gp=n},O1=()=>gp,R1={type:"3rdParty",init(n){C1(n.options.react),T1(n)}},D1=T.createContext();class L1{constructor(){this.usedNamespaces={}}addUsedNamespaces(a){a.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces=()=>Object.keys(this.usedNamespaces)}const z1=(n,a)=>{const r=T.useRef();return T.useEffect(()=>{r.current=n},[n,a]),r.current},mp=(n,a,r,i)=>n.getFixedT(a,r,i),U1=(n,a,r,i)=>T.useCallback(mp(n,a,r,i),[n,a,r,i]),Ut=function(n){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:r}=a,{i18n:i,defaultNS:o}=T.useContext(D1)||{},c=r||i||O1();if(c&&!c.reportNamespaces&&(c.reportNamespaces=new L1),!c){fd("You will need to pass in an i18next instance by using initReactI18next");const B=(D,G)=>Yn(G)?G:_1(G)&&Yn(G.defaultValue)?G.defaultValue:Array.isArray(D)?D[D.length-1]:D,J=[B,{},!1];return J.t=B,J.i18n={},J.ready=!1,J}c.options.react&&c.options.react.wait!==void 0&&fd("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const h={...E1(),...c.options.react,...a},{useSuspense:g,keyPrefix:m}=h;let p=o||c.options&&c.options.defaultNS;p=Yn(p)?[p]:p||["translation"],c.reportNamespaces.addUsedNamespaces&&c.reportNamespaces.addUsedNamespaces(p);const v=(c.isInitialized||c.initializedStoreOnce)&&p.every(B=>S1(B,c,h)),w=U1(c,a.lng||null,h.nsMode==="fallback"?p:p[0],m),x=()=>w,_=()=>mp(c,a.lng||null,h.nsMode==="fallback"?p:p[0],m),[S,N]=T.useState(x);let j=p.join();a.lng&&(j=`${a.lng}${j}`);const A=z1(j),R=T.useRef(!0);T.useEffect(()=>{const{bindI18n:B,bindI18nStore:J}=h;R.current=!0,!v&&!g&&(a.lng?o0(c,a.lng,p,()=>{R.current&&N(_)}):l0(c,p,()=>{R.current&&N(_)})),v&&A&&A!==j&&R.current&&N(_);const D=()=>{R.current&&N(_)};return B&&c&&c.on(B,D),J&&c&&c.store.on(J,D),()=>{R.current=!1,B&&c&&B.split(" ").forEach(G=>c.off(G,D)),J&&c&&J.split(" ").forEach(G=>c.store.off(G,D))}},[c,j]),T.useEffect(()=>{R.current&&v&&N(x)},[c,m,v]);const C=[S,c,v];if(C.t=S,C.i18n=c,C.ready=v,v||!v&&!g)return C;throw new Promise(B=>{a.lng?o0(c,a.lng,p,()=>B()):l0(c,p,()=>B())})},M1=[{page:"home",icon:px,labelKey:"nav.home"},{page:"search",icon:Od,labelKey:"nav.explore"},{page:"favorites",icon:ci,labelKey:"nav.saved"},{page:"cart",icon:Bx,labelKey:"nav.cart",showBadge:!0},{page:"verify",icon:Ba,labelKey:"nav.verify"},{page:"profile",icon:dd,labelKey:"nav.profile"}];function q1(){const{t:n}=Ut(),{currentPage:a,navigate:r,unreadNotificationsCount:i}=se(Qn(c=>({currentPage:c.currentPage,navigate:c.navigate,unreadNotificationsCount:c.unreadNotificationsCount??0}))),{itemCount:o}=es();return u.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-xl border-t border-gray-100 safe-bottom",children:u.jsx("div",{className:"max-w-lg mx-auto flex items-center justify-around px-2 pt-1 pb-1",children:M1.map(({page:c,icon:h,labelKey:g,showBadge:m})=>{const p=a===c,v=c==="profile"&&i>0;return u.jsxs("button",{onClick:()=>r(c),className:`touch-target relative flex flex-col items-center justify-center gap-0.5 px-3 py-1.5 rounded-xl transition-all duration-200 ${p?"text-emerald-600":"text-gray-400 hover:text-gray-600"}`,children:[u.jsxs("div",{className:"relative",children:[u.jsx(h,{size:22,strokeWidth:p?2.5:1.8,className:`transition-transform duration-200 ${p?"scale-110":""}`}),v&&u.jsx("span",{className:"absolute -top-1 -right-1 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-white"}),m&&o>0&&u.jsx("span",{className:"absolute -top-1.5 -right-1.5 w-4 h-4 flex items-center justify-center bg-emerald-500 text-white text-[10px] font-bold rounded-full",children:o>99?"99+":o})]}),u.jsx("span",{className:`text-[10px] font-medium ${p?"font-semibold":""}`,children:n(g)}),p&&u.jsx("div",{className:"absolute -top-0.5 w-8 h-0.5 bg-emerald-500 rounded-full"})]},c)})})})}function pp({src:n,alt:a,className:r=""}){const[i,o]=T.useState(!1),[c,h]=T.useState(!1),g=T.useRef(null);return T.useEffect(()=>{const m=new IntersectionObserver(([p])=>{p.isIntersecting&&(h(!0),m.disconnect())},{rootMargin:"100px"});return g.current&&m.observe(g.current),()=>m.disconnect()},[]),u.jsxs("div",{ref:g,className:`relative ${r}`,children:[!i&&u.jsx("div",{className:"absolute inset-0 skeleton rounded-lg"}),c&&u.jsx("img",{src:n,alt:a,loading:"lazy",onLoad:()=>o(!0),className:`${r} transition-opacity duration-300 ${i?"opacity-100":"opacity-0"}`})]})}const yp="souq_iraq_views",c0="souq_iraq_visitor_id",B1=24;function io(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}function $1(){return new Date().toISOString().split("T")[0]}function vp(n){const a=new Date(n);return(new Date().getTime()-a.getTime())/(1e3*60*60)<B1}function V1(){const n=[];n.push(`${screen.width}x${screen.height}`),n.push(`${screen.colorDepth}`),n.push(`${window.devicePixelRatio||1}`),n.push(Intl.DateTimeFormat().resolvedOptions().timeZone),n.push(navigator.language),n.push(navigator.platform);const a=navigator.userAgent;let r=0;for(let i=0;i<a.length;i++){const o=a.charCodeAt(i);r=(r<<5)-r+o,r=r&r}n.push(r.toString(36));try{const i=document.createElement("canvas"),o=i.getContext("2d");o&&(o.textBaseline="top",o.font="14px Arial",o.fillText("fingerprint",2,2),n.push(i.toDataURL().slice(-50)))}catch{}return n.join("|")}function bp(){try{const n=localStorage.getItem(c0);if(n)return n;const a=V1(),r=Math.random().toString(36).substr(2,9),i=`visitor-${a.hashCode()}-${r}`;return localStorage.setItem(c0,i),i}catch{return`session-${io()}`}}String.prototype.hashCode=function(){let n=0;for(let a=0;a<this.length;a++){const r=this.charCodeAt(a);n=(n<<5)-n+r,n=n&n}return Math.abs(n).toString(36)};function P1(){try{const n="souq_iraq_session_id";let a=sessionStorage.getItem(n);return a||(a=`session-${io()}`,sessionStorage.setItem(n,a)),a}catch{return`temp-session-${io()}`}}function wo(){try{const n=localStorage.getItem(yp);if(n)return JSON.parse(n)}catch{}return{visitorId:bp(),viewRecords:[],viewCounts:{},aggregations:[]}}function I1(n){try{localStorage.setItem(yp,JSON.stringify(n))}catch{console.warn("Views storage could not be saved")}}function So(n){const a=wo(),r=a.visitorId||bp(),i=P1(),o=new Date().toISOString();if(a.viewRecords.find(v=>v.productId===n&&v.viewerId===r&&vp(v.viewedAt)))return{recorded:!1,viewCount:a.viewCounts[n]?.totalViews||0};const h={id:io(),productId:n,viewerId:r,viewedAt:o,sessionId:i};a.viewRecords.push(h),a.viewRecords.length>1e3&&(a.viewRecords=a.viewRecords.slice(-1e3));const g=a.viewCounts[n]||{totalViews:0,todayViews:0,lastUpdated:o},m=$1(),p=g.lastUpdated.split("T")[0]===m;return a.viewCounts[n]={productId:n,totalViews:g.totalViews+1,todayViews:p?g.todayViews+1:1,lastUpdated:o},H1(a,n,m),I1(a),{recorded:!0,viewCount:a.viewCounts[n].totalViews}}function H1(n,a,r){const i=n.aggregations.find(h=>h.productId===a&&h.date===r);i?i.viewCount+=1:n.aggregations.push({productId:a,date:r,viewCount:1,uniqueViewCount:1});const o=new Date;o.setFullYear(o.getFullYear()-1);const c=o.toISOString().split("T")[0];n.aggregations=n.aggregations.filter(h=>h.date>=c)}function G1(n){return wo().viewCounts[n]?.totalViews||0}function u0(n){const a=wo(),r={};for(const i of n)r[i]=a.viewCounts[i]?.totalViews||0;return r}function K1(n){const a=wo(),r=a.visitorId;return a.viewRecords.some(i=>i.productId===n&&i.viewerId===r&&vp(i.viewedAt))}function Md(n,a="en"){return n<1e3?n.toString():n<1e6?`${(n/1e3).toFixed(1)}${a==="ar"?"ألف":"K"}`:n<1e9?`${(n/1e6).toFixed(1)}${a==="ar"?"م":"M"}`:`${(n/1e9).toFixed(1)}${a==="ar"?"مليار":"B"}`}let Fu=[],Wl=null;function Y1(){if(Wl=null,Fu.length===0)return;const n=new Set(Fu.map(a=>a.productId));Fu=[];for(const a of n)So(a)}function d0(){Wl&&(clearTimeout(Wl),Wl=null),Y1()}function Q1({productId:n,initialViewCount:a=0,children:r,threshold:i=.5,rootMargin:o="0px",enabled:c=!0,minVisibleTime:h=300,onViewTracked:g}){const[m,p]=T.useState(a),[v,w]=T.useState(!1),x=T.useRef(null),_=T.useRef(null),S=T.useRef(null),N=T.useRef(!1);T.useEffect(()=>{c&&K1(n)&&(N.current=!0,w(!0))},[n,c]),T.useEffect(()=>()=>{_.current&&(_.current.disconnect(),_.current=null),S.current&&clearTimeout(S.current)},[]);const j=T.useCallback(()=>{if(!c||N.current)return;const R=So(n);R.recorded?(N.current=!0,w(!0),p(C=>C===R.viewCount?C:R.viewCount),g?.(n,R.viewCount)):p(C=>C===R.viewCount?C:R.viewCount)},[n,c,g]),A=T.useCallback(R=>{if(_.current&&(_.current.disconnect(),_.current=null),S.current&&(clearTimeout(S.current),S.current=null),x.current=R,!R||!c)return;const C=new IntersectionObserver(B=>{const[J]=B;J.isIntersecting&&!N.current?h>0?S.current=setTimeout(()=>{N.current||j()},h):j():J.isIntersecting||S.current&&(clearTimeout(S.current),S.current=null)},{threshold:i,rootMargin:o});_.current=C,C.observe(R)},[c,i,o,h,j]);return u.jsx(u.Fragment,{children:r({ref:A,viewCount:m,hasTracked:v})})}const he=n=>typeof n=="string",ti=()=>{let n,a;const r=new Promise((i,o)=>{n=i,a=o});return r.resolve=n,r.reject=a,r},f0=n=>n==null?"":""+n,J1=(n,a,r)=>{n.forEach(i=>{a[i]&&(r[i]=a[i])})},X1=/###/g,h0=n=>n&&n.indexOf("###")>-1?n.replace(X1,"."):n,g0=n=>!n||he(n),ii=(n,a,r)=>{const i=he(a)?a.split("."):a;let o=0;for(;o<i.length-1;){if(g0(n))return{};const c=h0(i[o]);!n[c]&&r&&(n[c]=new r),Object.prototype.hasOwnProperty.call(n,c)?n=n[c]:n={},++o}return g0(n)?{}:{obj:n,k:h0(i[o])}},m0=(n,a,r)=>{const{obj:i,k:o}=ii(n,a,Object);if(i!==void 0||a.length===1){i[o]=r;return}let c=a[a.length-1],h=a.slice(0,a.length-1),g=ii(n,h,Object);for(;g.obj===void 0&&h.length;)c=`${h[h.length-1]}.${c}`,h=h.slice(0,h.length-1),g=ii(n,h,Object),g&&g.obj&&typeof g.obj[`${g.k}.${c}`]<"u"&&(g.obj=void 0);g.obj[`${g.k}.${c}`]=r},F1=(n,a,r,i)=>{const{obj:o,k:c}=ii(n,a,Object);o[c]=o[c]||[],o[c].push(r)},lo=(n,a)=>{const{obj:r,k:i}=ii(n,a);if(r)return r[i]},Z1=(n,a,r)=>{const i=lo(n,r);return i!==void 0?i:lo(a,r)},xp=(n,a,r)=>{for(const i in a)i!=="__proto__"&&i!=="constructor"&&(i in n?he(n[i])||n[i]instanceof String||he(a[i])||a[i]instanceof String?r&&(n[i]=a[i]):xp(n[i],a[i],r):n[i]=a[i]);return n},Mr=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var W1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const ew=n=>he(n)?n.replace(/[&<>"'\/]/g,a=>W1[a]):n;class tw{constructor(a){this.capacity=a,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(a){const r=this.regExpMap.get(a);if(r!==void 0)return r;const i=new RegExp(a);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(a,i),this.regExpQueue.push(a),i}}const aw=[" ",",","?","!",";"],nw=new tw(20),rw=(n,a,r)=>{a=a||"",r=r||"";const i=aw.filter(h=>a.indexOf(h)<0&&r.indexOf(h)<0);if(i.length===0)return!0;const o=nw.getRegExp(`(${i.map(h=>h==="?"?"\\?":h).join("|")})`);let c=!o.test(n);if(!c){const h=n.indexOf(r);h>0&&!o.test(n.substring(0,h))&&(c=!0)}return c},gd=function(n,a){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[a])return n[a];const i=a.split(r);let o=n;for(let c=0;c<i.length;){if(!o||typeof o!="object")return;let h,g="";for(let m=c;m<i.length;++m)if(m!==c&&(g+=r),g+=i[m],h=o[g],h!==void 0){if(["string","number","boolean"].indexOf(typeof h)>-1&&m<i.length-1)continue;c+=m-c+1;break}o=h}return o},oo=n=>n&&n.replace("_","-"),sw={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,a){console&&console[n]&&console[n].apply(console,a)}};class co{constructor(a){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(a,r)}init(a){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=a||sw,this.options=r,this.debug=r.debug}log(){for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return this.forward(r,"log","",!0)}warn(){for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return this.forward(r,"warn","",!0)}error(){for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return this.forward(r,"error","")}deprecate(){for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(a,r,i,o){return o&&!this.debug?null:(he(a[0])&&(a[0]=`${i}${this.prefix} ${a[0]}`),this.logger[r](a))}create(a){return new co(this.logger,{prefix:`${this.prefix}:${a}:`,...this.options})}clone(a){return a=a||this.options,a.prefix=a.prefix||this.prefix,new co(this.logger,a)}}var ya=new co;class _o{constructor(){this.observers={}}on(a,r){return a.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const o=this.observers[i].get(r)||0;this.observers[i].set(r,o+1)}),this}off(a,r){if(this.observers[a]){if(!r){delete this.observers[a];return}this.observers[a].delete(r)}}emit(a){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];this.observers[a]&&Array.from(this.observers[a].entries()).forEach(h=>{let[g,m]=h;for(let p=0;p<m;p++)g(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(h=>{let[g,m]=h;for(let p=0;p<m;p++)g.apply(g,[a,...i])})}}class p0 extends _o{constructor(a){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=a||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(a){this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}removeNamespaces(a){const r=this.options.ns.indexOf(a);r>-1&&this.options.ns.splice(r,1)}getResource(a,r,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const c=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,h=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let g;a.indexOf(".")>-1?g=a.split("."):(g=[a,r],i&&(Array.isArray(i)?g.push(...i):he(i)&&c?g.push(...i.split(c)):g.push(i)));const m=lo(this.data,g);return!m&&!r&&!i&&a.indexOf(".")>-1&&(a=g[0],r=g[1],i=g.slice(2).join(".")),m||!h||!he(i)?m:gd(this.data&&this.data[a]&&this.data[a][r],i,c)}addResource(a,r,i,o){let c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const h=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator;let g=[a,r];i&&(g=g.concat(h?i.split(h):i)),a.indexOf(".")>-1&&(g=a.split("."),o=r,r=g[1]),this.addNamespaces(r),m0(this.data,g,o),c.silent||this.emit("added",a,r,i,o)}addResources(a,r,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const c in i)(he(i[c])||Array.isArray(i[c]))&&this.addResource(a,r,c,i[c],{silent:!0});o.silent||this.emit("added",a,r,i)}addResourceBundle(a,r,i,o,c){let h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},g=[a,r];a.indexOf(".")>-1&&(g=a.split("."),o=i,i=r,r=g[1]),this.addNamespaces(r);let m=lo(this.data,g)||{};h.skipCopy||(i=JSON.parse(JSON.stringify(i))),o?xp(m,i,c):m={...m,...i},m0(this.data,g,m),h.silent||this.emit("added",a,r,i)}removeResourceBundle(a,r){this.hasResourceBundle(a,r)&&delete this.data[a][r],this.removeNamespaces(r),this.emit("removed",a,r)}hasResourceBundle(a,r){return this.getResource(a,r)!==void 0}getResourceBundle(a,r){return r||(r=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(a,r)}:this.getResource(a,r)}getDataByLanguage(a){return this.data[a]}hasLanguageSomeTranslations(a){const r=this.getDataByLanguage(a);return!!(r&&Object.keys(r)||[]).find(o=>r[o]&&Object.keys(r[o]).length>0)}toJSON(){return this.data}}var wp={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,a,r,i,o){return n.forEach(c=>{this.processors[c]&&(a=this.processors[c].process(a,r,i,o))}),a}};const y0={};class uo extends _o{constructor(a){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),J1(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],a,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ya.create("translator")}changeLanguage(a){a&&(this.language=a)}exists(a){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(a==null)return!1;const i=this.resolve(a,r);return i&&i.res!==void 0}extractFromKey(a,r){let i=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const o=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let c=r.ns||this.options.defaultNS||[];const h=i&&a.indexOf(i)>-1,g=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!rw(a,i,o);if(h&&!g){const m=a.match(this.interpolator.nestingRegexp);if(m&&m.length>0)return{key:a,namespaces:he(c)?[c]:c};const p=a.split(i);(i!==o||i===o&&this.options.ns.indexOf(p[0])>-1)&&(c=p.shift()),a=p.join(o)}return{key:a,namespaces:he(c)?[c]:c}}translate(a,r,i){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),a==null)return"";Array.isArray(a)||(a=[String(a)]);const o=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,c=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:h,namespaces:g}=this.extractFromKey(a[a.length-1],r),m=g[g.length-1],p=r.lng||this.language,v=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p&&p.toLowerCase()==="cimode"){if(v){const B=r.nsSeparator||this.options.nsSeparator;return o?{res:`${m}${B}${h}`,usedKey:h,exactUsedKey:h,usedLng:p,usedNS:m,usedParams:this.getUsedParamsDetails(r)}:`${m}${B}${h}`}return o?{res:h,usedKey:h,exactUsedKey:h,usedLng:p,usedNS:m,usedParams:this.getUsedParamsDetails(r)}:h}const w=this.resolve(a,r);let x=w&&w.res;const _=w&&w.usedKey||h,S=w&&w.exactUsedKey||h,N=Object.prototype.toString.apply(x),j=["[object Number]","[object Function]","[object RegExp]"],A=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,R=!this.i18nFormat||this.i18nFormat.handleAsObject,C=!he(x)&&typeof x!="boolean"&&typeof x!="number";if(R&&x&&C&&j.indexOf(N)<0&&!(he(A)&&Array.isArray(x))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const B=this.options.returnedObjectHandler?this.options.returnedObjectHandler(_,x,{...r,ns:g}):`key '${h} (${this.language})' returned an object instead of string.`;return o?(w.res=B,w.usedParams=this.getUsedParamsDetails(r),w):B}if(c){const B=Array.isArray(x),J=B?[]:{},D=B?S:_;for(const G in x)if(Object.prototype.hasOwnProperty.call(x,G)){const pe=`${D}${c}${G}`;J[G]=this.translate(pe,{...r,joinArrays:!1,ns:g}),J[G]===pe&&(J[G]=x[G])}x=J}}else if(R&&he(A)&&Array.isArray(x))x=x.join(A),x&&(x=this.extendTranslation(x,a,r,i));else{let B=!1,J=!1;const D=r.count!==void 0&&!he(r.count),G=uo.hasDefaultValue(r),pe=D?this.pluralResolver.getSuffix(p,r.count,r):"",fe=r.ordinal&&D?this.pluralResolver.getSuffix(p,r.count,{ordinal:!1}):"",ct=D&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),$e=ct&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${pe}`]||r[`defaultValue${fe}`]||r.defaultValue;!this.isValidLookup(x)&&G&&(B=!0,x=$e),this.isValidLookup(x)||(J=!0,x=h);const ut=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&J?void 0:x,He=G&&$e!==x&&this.options.updateMissing;if(J||B||He){if(this.logger.log(He?"updateKey":"missingKey",p,m,h,He?$e:x),c){const Z=this.resolve(h,{...r,keySeparator:!1});Z&&Z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let le=[];const z=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&z&&z[0])for(let Z=0;Z<z.length;Z++)le.push(z[Z]);else this.options.saveMissingTo==="all"?le=this.languageUtils.toResolveHierarchy(r.lng||this.language):le.push(r.lng||this.language);const P=(Z,be,_e)=>{const O=G&&_e!==x?_e:ut;this.options.missingKeyHandler?this.options.missingKeyHandler(Z,m,be,O,He,r):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(Z,m,be,O,He,r),this.emit("missingKey",Z,m,be,x)};this.options.saveMissing&&(this.options.saveMissingPlurals&&D?le.forEach(Z=>{const be=this.pluralResolver.getSuffixes(Z,r);ct&&r[`defaultValue${this.options.pluralSeparator}zero`]&&be.indexOf(`${this.options.pluralSeparator}zero`)<0&&be.push(`${this.options.pluralSeparator}zero`),be.forEach(_e=>{P([Z],h+_e,r[`defaultValue${_e}`]||$e)})}):P(le,h,$e))}x=this.extendTranslation(x,a,r,w,i),J&&x===h&&this.options.appendNamespaceToMissingKey&&(x=`${m}:${h}`),(J||B)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?x=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${m}:${h}`:h,B?x:void 0):x=this.options.parseMissingKeyHandler(x))}return o?(w.res=x,w.usedParams=this.getUsedParamsDetails(r),w):x}extendTranslation(a,r,i,o,c){var h=this;if(this.i18nFormat&&this.i18nFormat.parse)a=this.i18nFormat.parse(a,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const p=he(a)&&(i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let v;if(p){const x=a.match(this.interpolator.nestingRegexp);v=x&&x.length}let w=i.replace&&!he(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(w={...this.options.interpolation.defaultVariables,...w}),a=this.interpolator.interpolate(a,w,i.lng||this.language||o.usedLng,i),p){const x=a.match(this.interpolator.nestingRegexp),_=x&&x.length;v<_&&(i.nest=!1)}!i.lng&&this.options.compatibilityAPI!=="v1"&&o&&o.res&&(i.lng=this.language||o.usedLng),i.nest!==!1&&(a=this.interpolator.nest(a,function(){for(var x=arguments.length,_=new Array(x),S=0;S<x;S++)_[S]=arguments[S];return c&&c[0]===_[0]&&!i.context?(h.logger.warn(`It seems you are nesting recursively key: ${_[0]} in key: ${r[0]}`),null):h.translate(..._,r)},i)),i.interpolation&&this.interpolator.reset()}const g=i.postProcess||this.options.postProcess,m=he(g)?[g]:g;return a!=null&&m&&m.length&&i.applyPostProcessor!==!1&&(a=wp.handle(m,a,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),a}resolve(a){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i,o,c,h,g;return he(a)&&(a=[a]),a.forEach(m=>{if(this.isValidLookup(i))return;const p=this.extractFromKey(m,r),v=p.key;o=v;let w=p.namespaces;this.options.fallbackNS&&(w=w.concat(this.options.fallbackNS));const x=r.count!==void 0&&!he(r.count),_=x&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),S=r.context!==void 0&&(he(r.context)||typeof r.context=="number")&&r.context!=="",N=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);w.forEach(j=>{this.isValidLookup(i)||(g=j,!y0[`${N[0]}-${j}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(g)&&(y0[`${N[0]}-${j}`]=!0,this.logger.warn(`key "${o}" for languages "${N.join(", ")}" won't get resolved as namespace "${g}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),N.forEach(A=>{if(this.isValidLookup(i))return;h=A;const R=[v];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(R,v,A,j,r);else{let B;x&&(B=this.pluralResolver.getSuffix(A,r.count,r));const J=`${this.options.pluralSeparator}zero`,D=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(x&&(R.push(v+B),r.ordinal&&B.indexOf(D)===0&&R.push(v+B.replace(D,this.options.pluralSeparator)),_&&R.push(v+J)),S){const G=`${v}${this.options.contextSeparator}${r.context}`;R.push(G),x&&(R.push(G+B),r.ordinal&&B.indexOf(D)===0&&R.push(G+B.replace(D,this.options.pluralSeparator)),_&&R.push(G+J))}}let C;for(;C=R.pop();)this.isValidLookup(i)||(c=C,i=this.getResource(A,j,C,r))}))})}),{res:i,usedKey:o,exactUsedKey:c,usedLng:h,usedNS:g}}isValidLookup(a){return a!==void 0&&!(!this.options.returnNull&&a===null)&&!(!this.options.returnEmptyString&&a==="")}getResource(a,r,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(a,r,i,o):this.resourceStore.getResource(a,r,i,o)}getUsedParamsDetails(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=a.replace&&!he(a.replace);let o=i?a.replace:a;if(i&&typeof a.count<"u"&&(o.count=a.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!i){o={...o};for(const c of r)delete o[c]}return o}static hasDefaultValue(a){const r="defaultValue";for(const i in a)if(Object.prototype.hasOwnProperty.call(a,i)&&r===i.substring(0,r.length)&&a[i]!==void 0)return!0;return!1}}const Zu=n=>n.charAt(0).toUpperCase()+n.slice(1);class v0{constructor(a){this.options=a,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ya.create("languageUtils")}getScriptPartFromCode(a){if(a=oo(a),!a||a.indexOf("-")<0)return null;const r=a.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(a){if(a=oo(a),!a||a.indexOf("-")<0)return a;const r=a.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(a){if(he(a)&&a.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let o=Intl.getCanonicalLocales(a)[0];if(o&&this.options.lowerCaseLng&&(o=o.toLowerCase()),o)return o}catch{}const r=["hans","hant","latn","cyrl","cans","mong","arab"];let i=a.split("-");return this.options.lowerCaseLng?i=i.map(o=>o.toLowerCase()):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=Zu(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=Zu(i[1].toLowerCase())),r.indexOf(i[2].toLowerCase())>-1&&(i[2]=Zu(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?a.toLowerCase():a}isSupportedCode(a){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(a=this.getLanguagePartFromCode(a)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(a)>-1}getBestMatchFromCodes(a){if(!a)return null;let r;return a.forEach(i=>{if(r)return;const o=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(o))&&(r=o)}),!r&&this.options.supportedLngs&&a.forEach(i=>{if(r)return;const o=this.getLanguagePartFromCode(i);if(this.isSupportedCode(o))return r=o;r=this.options.supportedLngs.find(c=>{if(c===o)return c;if(!(c.indexOf("-")<0&&o.indexOf("-")<0)&&(c.indexOf("-")>0&&o.indexOf("-")<0&&c.substring(0,c.indexOf("-"))===o||c.indexOf(o)===0&&o.length>1))return c})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(a,r){if(!a)return[];if(typeof a=="function"&&(a=a(r)),he(a)&&(a=[a]),Array.isArray(a))return a;if(!r)return a.default||[];let i=a[r];return i||(i=a[this.getScriptPartFromCode(r)]),i||(i=a[this.formatLanguageCode(r)]),i||(i=a[this.getLanguagePartFromCode(r)]),i||(i=a.default),i||[]}toResolveHierarchy(a,r){const i=this.getFallbackCodes(r||this.options.fallbackLng||[],a),o=[],c=h=>{h&&(this.isSupportedCode(h)?o.push(h):this.logger.warn(`rejecting language code not found in supportedLngs: ${h}`))};return he(a)&&(a.indexOf("-")>-1||a.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&c(this.formatLanguageCode(a)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&c(this.getScriptPartFromCode(a)),this.options.load!=="currentOnly"&&c(this.getLanguagePartFromCode(a))):he(a)&&c(this.formatLanguageCode(a)),i.forEach(h=>{o.indexOf(h)<0&&c(this.formatLanguageCode(h))}),o}}let iw=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],lw={1:n=>+(n>1),2:n=>+(n!=1),3:n=>0,4:n=>n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2,5:n=>n==0?0:n==1?1:n==2?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5,6:n=>n==1?0:n>=2&&n<=4?1:2,7:n=>n==1?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2,8:n=>n==1?0:n==2?1:n!=8&&n!=11?2:3,9:n=>+(n>=2),10:n=>n==1?0:n==2?1:n<7?2:n<11?3:4,11:n=>n==1||n==11?0:n==2||n==12?1:n>2&&n<20?2:3,12:n=>+(n%10!=1||n%100==11),13:n=>+(n!==0),14:n=>n==1?0:n==2?1:n==3?2:3,15:n=>n%10==1&&n%100!=11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2,16:n=>n%10==1&&n%100!=11?0:n!==0?1:2,17:n=>n==1||n%10==1&&n%100!=11?0:1,18:n=>n==0?0:n==1?1:2,19:n=>n==1?0:n==0||n%100>1&&n%100<11?1:n%100>10&&n%100<20?2:3,20:n=>n==1?0:n==0||n%100>0&&n%100<20?1:2,21:n=>n%100==1?1:n%100==2?2:n%100==3||n%100==4?3:0,22:n=>n==1?0:n==2?1:(n<0||n>10)&&n%10==0?2:3};const ow=["v1","v2","v3"],cw=["v4"],b0={zero:0,one:1,two:2,few:3,many:4,other:5},uw=()=>{const n={};return iw.forEach(a=>{a.lngs.forEach(r=>{n[r]={numbers:a.nr,plurals:lw[a.fc]}})}),n};class dw{constructor(a){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=a,this.options=r,this.logger=ya.create("pluralResolver"),(!this.options.compatibilityJSON||cw.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=uw(),this.pluralRulesCache={}}addRule(a,r){this.rules[a]=r}clearCache(){this.pluralRulesCache={}}getRule(a){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const i=oo(a==="dev"?"en":a),o=r.ordinal?"ordinal":"cardinal",c=JSON.stringify({cleanedCode:i,type:o});if(c in this.pluralRulesCache)return this.pluralRulesCache[c];let h;try{h=new Intl.PluralRules(i,{type:o})}catch{if(!a.match(/-|_/))return;const m=this.languageUtils.getLanguagePartFromCode(a);h=this.getRule(m,r)}return this.pluralRulesCache[c]=h,h}return this.rules[a]||this.rules[this.languageUtils.getLanguagePartFromCode(a)]}needsPlural(a){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(a,r);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}getPluralFormsOfKey(a,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(a,i).map(o=>`${r}${o}`)}getSuffixes(a){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(a,r);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort((o,c)=>b0[o]-b0[c]).map(o=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${o}`):i.numbers.map(o=>this.getSuffix(a,o,r)):[]}getSuffix(a,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=this.getRule(a,i);return o?this.shouldUseIntlApi()?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${o.select(r)}`:this.getSuffixRetroCompatible(o,r):(this.logger.warn(`no plural rule found for: ${a}`),"")}getSuffixRetroCompatible(a,r){const i=a.noAbs?a.plurals(r):a.plurals(Math.abs(r));let o=a.numbers[i];this.options.simplifyPluralSuffix&&a.numbers.length===2&&a.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));const c=()=>this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString();return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?`_plural_${o.toString()}`:c():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&a.numbers.length===2&&a.numbers[0]===1?c():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}shouldUseIntlApi(){return!ow.includes(this.options.compatibilityJSON)}}const x0=function(n,a,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,c=Z1(n,a,r);return!c&&o&&he(r)&&(c=gd(n,r,i),c===void 0&&(c=gd(a,r,i))),c},Wu=n=>n.replace(/\$/g,"$$$$");class fw{constructor(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ya.create("interpolator"),this.options=a,this.format=a.interpolation&&a.interpolation.format||(r=>r),this.init(a)}init(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};a.interpolation||(a.interpolation={escapeValue:!0});const{escape:r,escapeValue:i,useRawValueToEscape:o,prefix:c,prefixEscaped:h,suffix:g,suffixEscaped:m,formatSeparator:p,unescapeSuffix:v,unescapePrefix:w,nestingPrefix:x,nestingPrefixEscaped:_,nestingSuffix:S,nestingSuffixEscaped:N,nestingOptionsSeparator:j,maxReplaces:A,alwaysFormat:R}=a.interpolation;this.escape=r!==void 0?r:ew,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=c?Mr(c):h||"{{",this.suffix=g?Mr(g):m||"}}",this.formatSeparator=p||",",this.unescapePrefix=v?"":w||"-",this.unescapeSuffix=this.unescapePrefix?"":v||"",this.nestingPrefix=x?Mr(x):_||Mr("$t("),this.nestingSuffix=S?Mr(S):N||Mr(")"),this.nestingOptionsSeparator=j||",",this.maxReplaces=A||1e3,this.alwaysFormat=R!==void 0?R:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const a=(r,i)=>r&&r.source===i?(r.lastIndex=0,r):new RegExp(i,"g");this.regexp=a(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=a(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=a(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(a,r,i,o){let c,h,g;const m=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},p=_=>{if(_.indexOf(this.formatSeparator)<0){const A=x0(r,m,_,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(A,void 0,i,{...o,...r,interpolationkey:_}):A}const S=_.split(this.formatSeparator),N=S.shift().trim(),j=S.join(this.formatSeparator).trim();return this.format(x0(r,m,N,this.options.keySeparator,this.options.ignoreJSONStructure),j,i,{...o,...r,interpolationkey:N})};this.resetRegExp();const v=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler,w=o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:_=>Wu(_)},{regex:this.regexp,safeValue:_=>this.escapeValue?Wu(this.escape(_)):Wu(_)}].forEach(_=>{for(g=0;c=_.regex.exec(a);){const S=c[1].trim();if(h=p(S),h===void 0)if(typeof v=="function"){const j=v(a,c,o);h=he(j)?j:""}else if(o&&Object.prototype.hasOwnProperty.call(o,S))h="";else if(w){h=c[0];continue}else this.logger.warn(`missed to pass in variable ${S} for interpolating ${a}`),h="";else!he(h)&&!this.useRawValueToEscape&&(h=f0(h));const N=_.safeValue(h);if(a=a.replace(c[0],N),w?(_.regex.lastIndex+=h.length,_.regex.lastIndex-=c[0].length):_.regex.lastIndex=0,g++,g>=this.maxReplaces)break}}),a}nest(a,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,c,h;const g=(m,p)=>{const v=this.nestingOptionsSeparator;if(m.indexOf(v)<0)return m;const w=m.split(new RegExp(`${v}[ ]*{`));let x=`{${w[1]}`;m=w[0],x=this.interpolate(x,h);const _=x.match(/'/g),S=x.match(/"/g);(_&&_.length%2===0&&!S||S.length%2!==0)&&(x=x.replace(/'/g,'"'));try{h=JSON.parse(x),p&&(h={...p,...h})}catch(N){return this.logger.warn(`failed parsing options string in nesting for key ${m}`,N),`${m}${v}${x}`}return h.defaultValue&&h.defaultValue.indexOf(this.prefix)>-1&&delete h.defaultValue,m};for(;o=this.nestingRegexp.exec(a);){let m=[];h={...i},h=h.replace&&!he(h.replace)?h.replace:h,h.applyPostProcessor=!1,delete h.defaultValue;let p=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){const v=o[1].split(this.formatSeparator).map(w=>w.trim());o[1]=v.shift(),m=v,p=!0}if(c=r(g.call(this,o[1].trim(),h),h),c&&o[0]===a&&!he(c))return c;he(c)||(c=f0(c)),c||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${a}`),c=""),p&&(c=m.reduce((v,w)=>this.format(v,w,i.lng,{...i,interpolationkey:o[1].trim()}),c.trim())),a=a.replace(o[0],c),this.regexp.lastIndex=0}return a}}const hw=n=>{let a=n.toLowerCase().trim();const r={};if(n.indexOf("(")>-1){const i=n.split("(");a=i[0].toLowerCase().trim();const o=i[1].substring(0,i[1].length-1);a==="currency"&&o.indexOf(":")<0?r.currency||(r.currency=o.trim()):a==="relativetime"&&o.indexOf(":")<0?r.range||(r.range=o.trim()):o.split(";").forEach(h=>{if(h){const[g,...m]=h.split(":"),p=m.join(":").trim().replace(/^'+|'+$/g,""),v=g.trim();r[v]||(r[v]=p),p==="false"&&(r[v]=!1),p==="true"&&(r[v]=!0),isNaN(p)||(r[v]=parseInt(p,10))}})}return{formatName:a,formatOptions:r}},qr=n=>{const a={};return(r,i,o)=>{let c=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(c={...c,[o.interpolationkey]:void 0});const h=i+JSON.stringify(c);let g=a[h];return g||(g=n(oo(i),o),a[h]=g),g(r)}};class gw{constructor(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ya.create("formatter"),this.options=a,this.formats={number:qr((r,i)=>{const o=new Intl.NumberFormat(r,{...i});return c=>o.format(c)}),currency:qr((r,i)=>{const o=new Intl.NumberFormat(r,{...i,style:"currency"});return c=>o.format(c)}),datetime:qr((r,i)=>{const o=new Intl.DateTimeFormat(r,{...i});return c=>o.format(c)}),relativetime:qr((r,i)=>{const o=new Intl.RelativeTimeFormat(r,{...i});return c=>o.format(c,i.range||"day")}),list:qr((r,i)=>{const o=new Intl.ListFormat(r,{...i});return c=>o.format(c)})},this.init(a)}init(a){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=r.interpolation.formatSeparator||","}add(a,r){this.formats[a.toLowerCase().trim()]=r}addCached(a,r){this.formats[a.toLowerCase().trim()]=qr(r)}format(a,r,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const c=r.split(this.formatSeparator);if(c.length>1&&c[0].indexOf("(")>1&&c[0].indexOf(")")<0&&c.find(g=>g.indexOf(")")>-1)){const g=c.findIndex(m=>m.indexOf(")")>-1);c[0]=[c[0],...c.splice(1,g)].join(this.formatSeparator)}return c.reduce((g,m)=>{const{formatName:p,formatOptions:v}=hw(m);if(this.formats[p]){let w=g;try{const x=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},_=x.locale||x.lng||o.locale||o.lng||i;w=this.formats[p](g,_,{...v,...o,...x})}catch(x){this.logger.warn(x)}return w}else this.logger.warn(`there was no format function for ${p}`);return g},a)}}const mw=(n,a)=>{n.pending[a]!==void 0&&(delete n.pending[a],n.pendingCount--)};class pw extends _o{constructor(a,r,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=a,this.store=r,this.services=i,this.languageUtils=i.languageUtils,this.options=o,this.logger=ya.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(i,o.backend,o)}queueLoad(a,r,i,o){const c={},h={},g={},m={};return a.forEach(p=>{let v=!0;r.forEach(w=>{const x=`${p}|${w}`;!i.reload&&this.store.hasResourceBundle(p,w)?this.state[x]=2:this.state[x]<0||(this.state[x]===1?h[x]===void 0&&(h[x]=!0):(this.state[x]=1,v=!1,h[x]===void 0&&(h[x]=!0),c[x]===void 0&&(c[x]=!0),m[w]===void 0&&(m[w]=!0)))}),v||(g[p]=!0)}),(Object.keys(c).length||Object.keys(h).length)&&this.queue.push({pending:h,pendingCount:Object.keys(h).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(c),pending:Object.keys(h),toLoadLanguages:Object.keys(g),toLoadNamespaces:Object.keys(m)}}loaded(a,r,i){const o=a.split("|"),c=o[0],h=o[1];r&&this.emit("failedLoading",c,h,r),!r&&i&&this.store.addResourceBundle(c,h,i,void 0,void 0,{skipCopy:!0}),this.state[a]=r?-1:2,r&&i&&(this.state[a]=0);const g={};this.queue.forEach(m=>{F1(m.loaded,[c],h),mw(m,a),r&&m.errors.push(r),m.pendingCount===0&&!m.done&&(Object.keys(m.loaded).forEach(p=>{g[p]||(g[p]={});const v=m.loaded[p];v.length&&v.forEach(w=>{g[p][w]===void 0&&(g[p][w]=!0)})}),m.done=!0,m.errors.length?m.callback(m.errors):m.callback())}),this.emit("loaded",g),this.queue=this.queue.filter(m=>!m.done)}read(a,r,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,h=arguments.length>5?arguments[5]:void 0;if(!a.length)return h(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:a,ns:r,fcName:i,tried:o,wait:c,callback:h});return}this.readingCalls++;const g=(p,v)=>{if(this.readingCalls--,this.waitingReads.length>0){const w=this.waitingReads.shift();this.read(w.lng,w.ns,w.fcName,w.tried,w.wait,w.callback)}if(p&&v&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,a,r,i,o+1,c*2,h)},c);return}h(p,v)},m=this.backend[i].bind(this.backend);if(m.length===2){try{const p=m(a,r);p&&typeof p.then=="function"?p.then(v=>g(null,v)).catch(g):g(null,p)}catch(p){g(p)}return}return m(a,r,g)}prepareLoading(a,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();he(a)&&(a=this.languageUtils.toResolveHierarchy(a)),he(r)&&(r=[r]);const c=this.queueLoad(a,r,i,o);if(!c.toLoad.length)return c.pending.length||o(),null;c.toLoad.forEach(h=>{this.loadOne(h)})}load(a,r,i){this.prepareLoading(a,r,{},i)}reload(a,r,i){this.prepareLoading(a,r,{reload:!0},i)}loadOne(a){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const i=a.split("|"),o=i[0],c=i[1];this.read(o,c,"read",void 0,void 0,(h,g)=>{h&&this.logger.warn(`${r}loading namespace ${c} for language ${o} failed`,h),!h&&g&&this.logger.log(`${r}loaded namespace ${c} for language ${o}`,g),this.loaded(a,h,g)})}saveMissing(a,r,i,o,c){let h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},g=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${i}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend&&this.backend.create){const m={...h,isUpdate:c},p=this.backend.create.bind(this.backend);if(p.length<6)try{let v;p.length===5?v=p(a,r,i,o,m):v=p(a,r,i,o),v&&typeof v.then=="function"?v.then(w=>g(null,w)).catch(g):g(null,v)}catch(v){g(v)}else p(a,r,i,o,g,m)}!a||!a[0]||this.store.addResource(a[0],r,i,o)}}}const w0=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let a={};if(typeof n[1]=="object"&&(a=n[1]),he(n[1])&&(a.defaultValue=n[1]),he(n[2])&&(a.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const r=n[3]||n[2];Object.keys(r).forEach(i=>{a[i]=r[i]})}return a},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),S0=n=>(he(n.ns)&&(n.ns=[n.ns]),he(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),he(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs&&n.supportedLngs.indexOf("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),n),Il=()=>{},yw=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(r=>{typeof n[r]=="function"&&(n[r]=n[r].bind(n))})};class fi extends _o{constructor(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=S0(a),this.services={},this.logger=ya,this.modules={external:[]},yw(this),r&&!this.isInitialized&&!a.isClone){if(!this.options.initImmediate)return this.init(a,r),this;setTimeout(()=>{this.init(a,r)},0)}}init(){var a=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof r=="function"&&(i=r,r={}),!r.defaultNS&&r.defaultNS!==!1&&r.ns&&(he(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const o=w0();this.options={...o,...this.options,...S0(r)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...o.interpolation,...this.options.interpolation}),r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const c=v=>v?typeof v=="function"?new v:v:null;if(!this.options.isClone){this.modules.logger?ya.init(c(this.modules.logger),this.options):ya.init(null,this.options);let v;this.modules.formatter?v=this.modules.formatter:typeof Intl<"u"&&(v=gw);const w=new v0(this.options);this.store=new p0(this.options.resources,this.options);const x=this.services;x.logger=ya,x.resourceStore=this.store,x.languageUtils=w,x.pluralResolver=new dw(w,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),v&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(x.formatter=c(v),x.formatter.init(x,this.options),this.options.interpolation.format=x.formatter.format.bind(x.formatter)),x.interpolator=new fw(this.options),x.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},x.backendConnector=new pw(c(this.modules.backend),x.resourceStore,x,this.options),x.backendConnector.on("*",function(_){for(var S=arguments.length,N=new Array(S>1?S-1:0),j=1;j<S;j++)N[j-1]=arguments[j];a.emit(_,...N)}),this.modules.languageDetector&&(x.languageDetector=c(this.modules.languageDetector),x.languageDetector.init&&x.languageDetector.init(x,this.options.detection,this.options)),this.modules.i18nFormat&&(x.i18nFormat=c(this.modules.i18nFormat),x.i18nFormat.init&&x.i18nFormat.init(this)),this.translator=new uo(this.services,this.options),this.translator.on("*",function(_){for(var S=arguments.length,N=new Array(S>1?S-1:0),j=1;j<S;j++)N[j-1]=arguments[j];a.emit(_,...N)}),this.modules.external.forEach(_=>{_.init&&_.init(this)})}if(this.format=this.options.interpolation.format,i||(i=Il),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const v=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);v.length>0&&v[0]!=="dev"&&(this.options.lng=v[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(v=>{this[v]=function(){return a.store[v](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(v=>{this[v]=function(){return a.store[v](...arguments),a}});const m=ti(),p=()=>{const v=(w,x)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),m.resolve(x),i(w,x)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return v(null,this.t.bind(this));this.changeLanguage(this.options.lng,v)};return this.options.resources||!this.options.initImmediate?p():setTimeout(p,0),m}loadResources(a){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Il;const o=he(a)?a:this.language;if(typeof a=="function"&&(i=a),!this.options.resources||this.options.partialBundledLanguages){if(o&&o.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const c=[],h=g=>{if(!g||g==="cimode")return;this.services.languageUtils.toResolveHierarchy(g).forEach(p=>{p!=="cimode"&&c.indexOf(p)<0&&c.push(p)})};o?h(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(m=>h(m)),this.options.preload&&this.options.preload.forEach(g=>h(g)),this.services.backendConnector.load(c,this.options.ns,g=>{!g&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(g)})}else i(null)}reloadResources(a,r,i){const o=ti();return typeof a=="function"&&(i=a,a=void 0),typeof r=="function"&&(i=r,r=void 0),a||(a=this.languages),r||(r=this.options.ns),i||(i=Il),this.services.backendConnector.reload(a,r,c=>{o.resolve(),i(c)}),o}use(a){if(!a)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!a.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return a.type==="backend"&&(this.modules.backend=a),(a.type==="logger"||a.log&&a.warn&&a.error)&&(this.modules.logger=a),a.type==="languageDetector"&&(this.modules.languageDetector=a),a.type==="i18nFormat"&&(this.modules.i18nFormat=a),a.type==="postProcessor"&&wp.addPostProcessor(a),a.type==="formatter"&&(this.modules.formatter=a),a.type==="3rdParty"&&this.modules.external.push(a),this}setResolvedLanguage(a){if(!(!a||!this.languages)&&!(["cimode","dev"].indexOf(a)>-1))for(let r=0;r<this.languages.length;r++){const i=this.languages[r];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}}changeLanguage(a,r){var i=this;this.isLanguageChangingTo=a;const o=ti();this.emit("languageChanging",a);const c=m=>{this.language=m,this.languages=this.services.languageUtils.toResolveHierarchy(m),this.resolvedLanguage=void 0,this.setResolvedLanguage(m)},h=(m,p)=>{p?(c(p),this.translator.changeLanguage(p),this.isLanguageChangingTo=void 0,this.emit("languageChanged",p),this.logger.log("languageChanged",p)):this.isLanguageChangingTo=void 0,o.resolve(function(){return i.t(...arguments)}),r&&r(m,function(){return i.t(...arguments)})},g=m=>{!a&&!m&&this.services.languageDetector&&(m=[]);const p=he(m)?m:this.services.languageUtils.getBestMatchFromCodes(m);p&&(this.language||c(p),this.translator.language||this.translator.changeLanguage(p),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(p)),this.loadResources(p,v=>{h(v,p)})};return!a&&this.services.languageDetector&&!this.services.languageDetector.async?g(this.services.languageDetector.detect()):!a&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(g):this.services.languageDetector.detect(g):g(a),o}getFixedT(a,r,i){var o=this;const c=function(h,g){let m;if(typeof g!="object"){for(var p=arguments.length,v=new Array(p>2?p-2:0),w=2;w<p;w++)v[w-2]=arguments[w];m=o.options.overloadTranslationOptionHandler([h,g].concat(v))}else m={...g};m.lng=m.lng||c.lng,m.lngs=m.lngs||c.lngs,m.ns=m.ns||c.ns,m.keyPrefix!==""&&(m.keyPrefix=m.keyPrefix||i||c.keyPrefix);const x=o.options.keySeparator||".";let _;return m.keyPrefix&&Array.isArray(h)?_=h.map(S=>`${m.keyPrefix}${x}${S}`):_=m.keyPrefix?`${m.keyPrefix}${x}${h}`:h,o.t(_,m)};return he(a)?c.lng=a:c.lngs=a,c.ns=r,c.keyPrefix=i,c}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(a){this.options.defaultNS=a}hasLoadedNamespace(a){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=r.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,c=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const h=(g,m)=>{const p=this.services.backendConnector.state[`${g}|${m}`];return p===-1||p===0||p===2};if(r.precheck){const g=r.precheck(this,h);if(g!==void 0)return g}return!!(this.hasResourceBundle(i,a)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||h(i,a)&&(!o||h(c,a)))}loadNamespaces(a,r){const i=ti();return this.options.ns?(he(a)&&(a=[a]),a.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{i.resolve(),r&&r(o)}),i):(r&&r(),Promise.resolve())}loadLanguages(a,r){const i=ti();he(a)&&(a=[a]);const o=this.options.preload||[],c=a.filter(h=>o.indexOf(h)<0&&this.services.languageUtils.isSupportedCode(h));return c.length?(this.options.preload=o.concat(c),this.loadResources(h=>{i.resolve(),r&&r(h)}),i):(r&&r(),Promise.resolve())}dir(a){if(a||(a=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!a)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services&&this.services.languageUtils||new v0(w0());return r.indexOf(i.getLanguagePartFromCode(a))>-1||a.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new fi(a,r)}cloneInstance(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Il;const i=a.forkResourceStore;i&&delete a.forkResourceStore;const o={...this.options,...a,isClone:!0},c=new fi(o);return(a.debug!==void 0||a.prefix!==void 0)&&(c.logger=c.logger.clone(a)),["store","services","language"].forEach(g=>{c[g]=this[g]}),c.services={...this.services},c.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},i&&(c.store=new p0(this.store.data,o),c.services.resourceStore=c.store),c.translator=new uo(c.services,o),c.translator.on("*",function(g){for(var m=arguments.length,p=new Array(m>1?m-1:0),v=1;v<m;v++)p[v-1]=arguments[v];c.emit(g,...p)}),c.init(o,r),c.translator.options=o,c.translator.backendConnector.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const tt=fi.createInstance();tt.createInstance=fi.createInstance;tt.createInstance;tt.dir;tt.init;tt.loadResources;tt.reloadResources;tt.use;tt.changeLanguage;tt.getFixedT;tt.t;tt.exists;tt.setDefaultNamespace;tt.hasLoadedNamespace;tt.loadNamespaces;tt.loadLanguages;function vw(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function hi(n){"@babel/helpers - typeof";return hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},hi(n)}function bw(n,a){if(hi(n)!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,a);if(hi(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function xw(n){var a=bw(n,"string");return hi(a)=="symbol"?a:a+""}function ww(n,a){for(var r=0;r<a.length;r++){var i=a[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,xw(i.key),i)}}function Sw(n,a,r){return a&&ww(n.prototype,a),Object.defineProperty(n,"prototype",{writable:!1}),n}var Sp=[],_w=Sp.forEach,jw=Sp.slice;function Nw(n){return _w.call(jw.call(arguments,1),function(a){if(a)for(var r in a)n[r]===void 0&&(n[r]=a[r])}),n}var _0=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,kw=function(a,r,i){var o=i||{};o.path=o.path||"/";var c=encodeURIComponent(r),h="".concat(a,"=").concat(c);if(o.maxAge>0){var g=o.maxAge-0;if(Number.isNaN(g))throw new Error("maxAge should be a Number");h+="; Max-Age=".concat(Math.floor(g))}if(o.domain){if(!_0.test(o.domain))throw new TypeError("option domain is invalid");h+="; Domain=".concat(o.domain)}if(o.path){if(!_0.test(o.path))throw new TypeError("option path is invalid");h+="; Path=".concat(o.path)}if(o.expires){if(typeof o.expires.toUTCString!="function")throw new TypeError("option expires is invalid");h+="; Expires=".concat(o.expires.toUTCString())}if(o.httpOnly&&(h+="; HttpOnly"),o.secure&&(h+="; Secure"),o.sameSite){var m=typeof o.sameSite=="string"?o.sameSite.toLowerCase():o.sameSite;switch(m){case!0:h+="; SameSite=Strict";break;case"lax":h+="; SameSite=Lax";break;case"strict":h+="; SameSite=Strict";break;case"none":h+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return h},j0={create:function(a,r,i,o){var c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};i&&(c.expires=new Date,c.expires.setTime(c.expires.getTime()+i*60*1e3)),o&&(c.domain=o),document.cookie=kw(a,encodeURIComponent(r),c)},read:function(a){for(var r="".concat(a,"="),i=document.cookie.split(";"),o=0;o<i.length;o++){for(var c=i[o];c.charAt(0)===" ";)c=c.substring(1,c.length);if(c.indexOf(r)===0)return c.substring(r.length,c.length)}return null},remove:function(a){this.create(a,"",-1)}},Aw={name:"cookie",lookup:function(a){var r;if(a.lookupCookie&&typeof document<"u"){var i=j0.read(a.lookupCookie);i&&(r=i)}return r},cacheUserLanguage:function(a,r){r.lookupCookie&&typeof document<"u"&&j0.create(r.lookupCookie,a,r.cookieMinutes,r.cookieDomain,r.cookieOptions)}},Cw={name:"querystring",lookup:function(a){var r;if(typeof window<"u"){var i=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));for(var o=i.substring(1),c=o.split("&"),h=0;h<c.length;h++){var g=c[h].indexOf("=");if(g>0){var m=c[h].substring(0,g);m===a.lookupQuerystring&&(r=c[h].substring(g+1))}}}return r}},ai=null,N0=function(){if(ai!==null)return ai;try{ai=window!=="undefined"&&window.localStorage!==null;var a="i18next.translate.boo";window.localStorage.setItem(a,"foo"),window.localStorage.removeItem(a)}catch{ai=!1}return ai},Ew={name:"localStorage",lookup:function(a){var r;if(a.lookupLocalStorage&&N0()){var i=window.localStorage.getItem(a.lookupLocalStorage);i&&(r=i)}return r},cacheUserLanguage:function(a,r){r.lookupLocalStorage&&N0()&&window.localStorage.setItem(r.lookupLocalStorage,a)}},ni=null,k0=function(){if(ni!==null)return ni;try{ni=window!=="undefined"&&window.sessionStorage!==null;var a="i18next.translate.boo";window.sessionStorage.setItem(a,"foo"),window.sessionStorage.removeItem(a)}catch{ni=!1}return ni},Tw={name:"sessionStorage",lookup:function(a){var r;if(a.lookupSessionStorage&&k0()){var i=window.sessionStorage.getItem(a.lookupSessionStorage);i&&(r=i)}return r},cacheUserLanguage:function(a,r){r.lookupSessionStorage&&k0()&&window.sessionStorage.setItem(r.lookupSessionStorage,a)}},Ow={name:"navigator",lookup:function(a){var r=[];if(typeof navigator<"u"){if(navigator.languages)for(var i=0;i<navigator.languages.length;i++)r.push(navigator.languages[i]);navigator.userLanguage&&r.push(navigator.userLanguage),navigator.language&&r.push(navigator.language)}return r.length>0?r:void 0}},Rw={name:"htmlTag",lookup:function(a){var r,i=a.htmlTag||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(r=i.getAttribute("lang")),r}},Dw={name:"path",lookup:function(a){var r;if(typeof window<"u"){var i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(i instanceof Array)if(typeof a.lookupFromPathIndex=="number"){if(typeof i[a.lookupFromPathIndex]!="string")return;r=i[a.lookupFromPathIndex].replace("/","")}else r=i[0].replace("/","")}return r}},Lw={name:"subdomain",lookup:function(a){var r=typeof a.lookupFromSubdomainIndex=="number"?a.lookupFromSubdomainIndex+1:1,i=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(i)return i[r]}},_p=!1;try{document.cookie,_p=!0}catch{}var jp=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];_p||jp.splice(1,1);function zw(){return{order:jp,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(a){return a}}}var Np=(function(){function n(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};vw(this,n),this.type="languageDetector",this.detectors={},this.init(a,r)}return Sw(n,[{key:"init",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=r||{languageUtils:{}},this.options=Nw(i,this.options||{},zw()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(c){return c.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=o,this.addDetector(Aw),this.addDetector(Cw),this.addDetector(Ew),this.addDetector(Tw),this.addDetector(Ow),this.addDetector(Rw),this.addDetector(Dw),this.addDetector(Lw)}},{key:"addDetector",value:function(r){return this.detectors[r.name]=r,this}},{key:"detect",value:function(r){var i=this;r||(r=this.options.order);var o=[];return r.forEach(function(c){if(i.detectors[c]){var h=i.detectors[c].lookup(i.options);h&&typeof h=="string"&&(h=[h]),h&&(o=o.concat(h))}}),o=o.map(function(c){return i.options.convertDetectedLanguage(c)}),this.services.languageUtils.getBestMatchFromCodes?o:o.length>0?o[0]:null}},{key:"cacheUserLanguage",value:function(r,i){var o=this;i||(i=this.options.caches),i&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(r)>-1||i.forEach(function(c){o.detectors[c]&&o.detectors[c].cacheUserLanguage(r,o.options)}))}}])})();Np.type="languageDetector";const Uw={home:"Home",search:"Search",favorites:"Favorites",profile:"Profile",verify:"Verify",cart:"Cart",explore:"Explore",saved:"Saved"},Mw={title:"Souq Iraq",subtitle:"Smart Marketplace",searchPlaceholder:"Search products, sellers...",hotDeals:"Hot Deals",topSellers:"Top Sellers",trendingNow:"Trending Now",seeAll:"See All",zeroCommission:"Zero Commission",sellForFree:"Sell for Free!",keepProfit:"Keep 100% Profit",joinSellers:"Join 500+ Iraqi sellers today",startSelling:"Start Selling"},qw={productDetails:"Product Details",buyViaWhatsApp:"Buy via WhatsApp",addToCart:"Add to Cart",viewCount:"views",view:"view",viewsCount:"View Count",inStock:"In Stock",outOfStock:"Out of Stock",soldOut:"Sold Out",screenshotWarning:"Screenshots are not allowed",moreFromSeller:"More from this seller",addedToCart:"Added to Cart",productNotFound:"Product not found",off:"OFF",category:"Category",description:"Description"},Bw={title:"Shopping Cart",empty:"Your cart is empty",emptyDescription:"Start shopping to add items to your cart",emptyCart:"Empty Cart",emptyCartMessage:"Start shopping and add products to your cart",continueShopping:"Continue Shopping",completeOrder:"Complete Order",total:"Total",items:"items",sellerOrder:"Order from",sellerTotal:"Seller Total",orderTotal:"Order Total",orderSummary:"Order Summary",remove:"Remove",quantity:"Quantity",subtotal:"Subtotal",delivery:"Delivery",freeDelivery:"Free Delivery",orderViaWhatsApp:"Order via WhatsApp",warning:"Orders are sent individually to each seller",confirmOrder:"Confirm Order",confirmOrderMessage:"WhatsApp will open for each seller ({{count}} sellers) to send your order",inCart:"in cart"},$w={products:"Products",reviews:"Reviews",verified:"Verified Seller",deliveryToAllIraq:"Delivery to all Iraq",totalSales:"Total Sales",rating:"Rating",joined:"Joined",contact:"Contact",follow:"Follow",following:"Following",message:"Message",viewAllProducts:"View All Products",noProducts:"No products available",addProduct:"Add Product",productName:"Product Name",productDescription:"Product Description",productImage:"Product Image",productCategory:"Product Category",productPrice:"Price",myProducts:"My Products",sellerDashboard:"Seller Dashboard",verifiedSellers:"Verified Sellers",unverified:"Unverified",delivery:"Delivery",phone:"Phone",location:"Location",statistics:"Statistics",overview:"Overview",totalProducts:"Total Products",inStock:"In Stock",outOfStock:"Out of Stock",totalViews:"Total Views",verificationStatus:"Verification Status",unverifiedAccount:"Unverified Account",verifyAccount:"Verify your account for extra features",verifiedAccountBenefits:"Your products appear first in search",addNewProduct:"Add New Product",addProductHint:"Add your product easily - just the basics",productAddedSuccess:"Product added successfully!",selectCategory:"Select category",sellerInfoPreSaved:"Seller Info (Pre-saved)",store:"Store",productsCount:"products"},Vw={title:"Search",placeholder:"Search products...",categories:"Categories",locations:"Locations",priceRange:"Price Range",filters:"Filters",clearFilters:"Clear Filters",noResults:"No results found",tryDifferent:"Try a different search term",sortBy:"Sort by",newest:"Newest",popular:"Most Popular",priceLow:"Price: Low to High",priceHigh:"Price: High to Low",allCategories:"All Categories",allLocations:"All Locations"},Pw={title:"Saved Items",empty:"No saved items",emptyDescription:"Save products you like by tapping the heart icon",startShopping:"Start Shopping"},Iw={title:"Profile",guestUser:"Guest User",welcomeSubtitle:"Welcome to Souq Iraq",buyerTab:"Buyer",sellerTab:"Seller",login:"Login",register:"Register",logout:"Logout",signInToContinue:"Sign in to continue",myOrders:"My Orders",myFavorites:"My Favorites",settings:"Settings",help:"Help & Support",about:"About",becomeSeller:"Become a Seller",sellerDashboard:"Seller Dashboard",editProfile:"Edit Profile",changePassword:"Change Password",language:"Language",notifications:"Notifications",appearance:"Appearance",installApp:"Install App",comingSoon:"Coming Soon",systemTheme:"System",lightTheme:"Light",darkTheme:"Dark",addNewProduct:"Add New Product",myProducts:"My Products",analytics:"Analytics",verification:"Verification",privacy:"Privacy Policy",terms:"Terms of Service",version:"Version",signOutTitle:"Sign Out",signOutMessage:"Are you sure you want to sign out? Your cart will be cleared.",storeNameLabel:"Store Name *",storeNamePlaceholder:"e.g., My Fashion Store",whatsAppNumberLabel:"WhatsApp Number *",cityLabel:"City *",cityPlaceholder:"Select your city...",categoryLabel:"Category *",categoryPlaceholder:"Select category...",storeLogoOptionalLabel:"Store Logo (Optional)",tapToUpload:"Tap to upload",welcomeStore:"Welcome, {{storeName}}!",views:"Views",stats:"Stats",rate:"Rate"},Hw={title:"Help & Support",message:"Hello, I need help with the Souq Iraq app."},Gw={title:"Install App",ios:"On iPhone (Safari): Share → Add to Home Screen",android:"On Android (Chrome): Menu → Install app"},Kw={loginTitle:"Welcome Back",loginSubtitle:"Sign in to continue",registerTitle:"Create Account",registerSubtitle:"Join Souq Iraq today",email:"Email",password:"Password",confirmPassword:"Confirm Password",name:"Full Name",nameAr:"Name in Arabic",phone:"Phone Number",rememberMe:"Remember me",forgotPassword:"Forgot Password?",noAccount:"Don't have an account?",hasAccount:"Already have an account?",signUp:"Sign Up",signIn:"Sign In",orContinueWith:"Or continue with",loginSuccess:"Login successful",logoutSuccess:"Logged out successfully",registerSuccess:"Account created successfully",invalidCredentials:"Invalid email or password",emailRequired:"Email is required",passwordRequired:"Password is required",nameRequired:"Name is required",passwordMismatch:"Passwords do not match",weakPassword:"Password is too weak",emailExists:"An account with this email already exists"},Yw={title:"Verification",subtitle:"Verify sellers and products",verifySeller:"Verify Seller",verifyProduct:"Verify Product",verified:"Verified",pending:"Pending",rejected:"Rejected",submitDocuments:"Submit Documents",verificationStatus:"Verification Status",verificationPending:"Your verification is being reviewed",verificationApproved:"Congratulations! You are now verified",verificationRejected:"Your verification was rejected"},Qw={verified:"Verified",pending:"Pending",rejected:"Rejected",notVerified:"Not Verified",requestVerification:"Request Verification",verificationStatus:"Verification Status",verifiedProduct:"Verified Product",pendingReview:"Pending Review",reRequest:"Re-request Verification",productVerified:"Product Verified",verifiedBenefits:"Appears first in search results",requestTitle:"Request Product Verification",requirements:"Requirements",requirementInvoice:"Original purchase invoice",requirementPhotos:"Clear product photos",requirementDescription:"Accurate product description",uploadDocuments:"Upload Documents",dragDrop:"Drag and drop files here",supportedFormats:"PDF, JPG, PNG (max 5MB)",benefitsTitle:"Verification Benefits",benefit1:"Product appears first in search",benefit2:"Increased buyer trust",benefit3:"Distinctive verification badge",submit:"Submit Request",verifiedTitle:"Product Verified",verifiedDescription:"This product has been verified",verifiedOn:"Verified on",pendingTitle:"Pending Review",pendingDescription:"Verification request is being reviewed",rejectedTitle:"Rejected",rejectedDescription:"Verification request was rejected",notVerifiedTitle:"Not Verified",notVerifiedDescription:"Verification has not been requested",reason:"Reason",productVerification:"Product Verification",queueTitle:"Pending Verification Requests",noPending:"No pending requests",reviewRequest:"Review Verification Request",price:"Price",documents:"Documents",requestedOn:"Requested on",reject:"Reject",approve:"Approve",confirmReject:"Confirm Rejection",rejectReasonPlaceholder:"Enter rejection reason..."},Jw={dashboard:"Dashboard",users:"Users",sellers:"Sellers",products:"Products",orders:"Orders",analytics:"Analytics",settings:"Settings",totalUsers:"Total Users",totalSellers:"Total Sellers",totalProducts:"Total Products",totalOrders:"Total Orders",recentActivity:"Recent Activity",pendingVerifications:"Pending Verifications",reports:"Reports"},Xw={loading:"Loading...",error:"An error occurred",retry:"Retry",cancel:"Cancel",confirm:"Confirm",save:"Save",delete:"Delete",edit:"Edit",add:"Add",close:"Close",back:"Back",next:"Next",done:"Done",yes:"Yes",no:"No",ok:"OK",success:"Success",warning:"Warning",info:"Information",currency:"IQD",language:"Language",english:"English",arabic:"Arabic",cart:"Cart",addToCart:"Add to Cart",removeFromCart:"Remove from Cart",checkout:"Checkout",orderTotal:"Order Total",quantity:"Quantity",screenshotWarning:"Take a screenshot of the product and send it to the seller before buying"},Fw={networkError:"Network error. Please check your connection.",serverError:"Server error. Please try again later.",notFound:"Not found",unauthorized:"You are not authorized to access this",forbidden:"Access forbidden",validationError:"Please check your input",sessionExpired:"Your session has expired. Please login again.",rateLimited:"Too many requests. Please wait and try again."},Zw={emptyTitle:"No notifications",emptyDescription:"You're all caught up.",welcome:"Welcome to Souq Iraq!",orderPlaced:"Your order has been placed",orderShipped:"Your order has been shipped",orderDelivered:"Your order has been delivered",newMessage:"You have a new message",priceDrop:"Price drop on your saved item!",backInStock:"Item back in stock!",verificationApproved:"Your verification has been approved"},Ww={nav:Uw,home:Mw,product:qw,cart:Bw,seller:$w,search:Vw,favorites:Pw,profile:Iw,support:Hw,install:Gw,auth:Kw,verify:Yw,verification:Qw,admin:Jw,common:Xw,errors:Fw,notifications:Zw},eS={home:"الرئيسية",search:"بحث",favorites:"المفضلة",profile:"الملف الشخصي",verify:"التحقق",cart:"السلة",explore:"استكشف",saved:"المحفوظات"},tS={title:"سوق العراق",subtitle:"سوق ذكي",searchPlaceholder:"ابحث عن المنتجات والبائعين...",hotDeals:"عروض ساخنة",topSellers:"أفضل البائعين",trendingNow:"الأكثر رواجاً",seeAll:"عرض الكل",zeroCommission:"بدون عمولة",sellForFree:"بع مجاناً!",keepProfit:"احتفظ بـ 100% من الأرباح",joinSellers:"انضم إلى أكثر من 500 بائع عراقي اليوم",startSelling:"ابدأ البيع"},aS={productDetails:"تفاصيل المنتج",buyViaWhatsApp:"شراء عبر واتساب",addToCart:"أضف إلى السلة",viewCount:"مشاهدات",view:"مشاهدة",viewsCount:"عدد المشاهدات",inStock:"متوفر",outOfStock:"غير متوفر",soldOut:"نفذت الكمية",screenshotWarning:"التصوير غير مسموح",moreFromSeller:"المزيد من هذا البائع",addedToCart:"تمت الإضافة للسلة",productNotFound:"المنتج غير موجود",off:"خصم",category:"التصنيف",description:"الوصف"},nS={title:"سلة التسوق",empty:"سلة التسوق فارغة",emptyDescription:"ابدأ التسوق لإضافة منتجات إلى سلتك",emptyCart:"السلة فارغة",emptyCartMessage:"ابدأ التسوق وأضف منتجات إلى سلتك",continueShopping:"متابعة التسوق",completeOrder:"إتمام الطلب",total:"المجموع",items:"منتجات",sellerOrder:"طلب من",sellerTotal:"مجموع البائع",orderTotal:"المجموع الكلي",orderSummary:"ملخص الطلب",remove:"إزالة",quantity:"الكمية",subtotal:"المجموع الفرعي",delivery:"التوصيل",freeDelivery:"توصيل مجاني",orderViaWhatsApp:"اطلب عبر واتساب",warning:"يتم إرسال الطلبات بشكل فردي لكل بائع",confirmOrder:"تأكيد الطلب",confirmOrderMessage:"سيتم فتح واتساب لكل بائع ({{count}} بائعين) لإرسال طلبك",inCart:"في السلة"},rS={products:"المنتجات",reviews:"التقييمات",verified:"بائع موثق",deliveryToAllIraq:"توصيل لكل العراق",totalSales:"إجمالي المبيعات",rating:"التقييم",joined:"تاريخ الانضمام",contact:"تواصل",follow:"متابعة",following:"متابَع",message:"رسالة",viewAllProducts:"عرض جميع المنتجات",noProducts:"لا توجد منتجات",addProduct:"إضافة منتج",productName:"اسم المنتج",productDescription:"وصف المنتج",productImage:"صورة المنتج",productCategory:"قسم المنتج",productPrice:"السعر",myProducts:"منتجاتي",sellerDashboard:"لوحة البائع",verifiedSellers:"البائعون الموثقون",unverified:"غير موثق",delivery:"التوصيل",phone:"الهاتف",location:"الموقع",statistics:"الإحصائيات",overview:"نظرة عامة",totalProducts:"إجمالي المنتجات",inStock:"متوفر",outOfStock:"غير متوفر",totalViews:"إجمالي المشاهدات",verificationStatus:"حالة التحقق",unverifiedAccount:"حساب غير موثق",verifyAccount:"توثيق حسابك للحصول على ميزات إضافية",verifiedAccountBenefits:"منتجاتك تظهر أولاً في البحث",addNewProduct:"إضافة منتج جديد",addProductHint:"أضف منتجك بسهولة - فقط المعلومات الأساسية",productAddedSuccess:"تمت إضافة المنتج بنجاح!",selectCategory:"اختر القسم",sellerInfoPreSaved:"معلومات البائع (محفوظة مسبقاً)",store:"المتجر",productsCount:"منتج"},sS={title:"بحث",placeholder:"ابحث عن المنتجات...",categories:"التصنيفات",locations:"المواقع",priceRange:"نطاق السعر",filters:"التصفية",clearFilters:"مسح التصفية",noResults:"لا توجد نتائج",tryDifferent:"جرب كلمة بحث مختلفة",sortBy:"ترتيب حسب",newest:"الأحدث",popular:"الأكثر شعبية",priceLow:"السعر: من الأقل للأعلى",priceHigh:"السعر: من الأعلى للأقل",allCategories:"جميع التصنيفات",allLocations:"جميع المواقع"},iS={title:"العناصر المحفوظة",empty:"لا توجد عناصر محفوظة",emptyDescription:"احفظ المنتجات التي تعجبك بالنقر على أيقونة القلب",startShopping:"ابدأ التسوق"},lS={title:"الملف الشخصي",guestUser:"مستخدم ضيف",welcomeSubtitle:"مرحباً بك في سوق العراق",buyerTab:"مشتري",sellerTab:"بائع",login:"تسجيل الدخول",register:"إنشاء حساب",logout:"تسجيل الخروج",signInToContinue:"يرجى تسجيل الدخول للمتابعة",myOrders:"طلباتي",myFavorites:"مفضلاتي",settings:"الإعدادات",help:"المساعدة والدعم",about:"حول التطبيق",becomeSeller:"كن بائعاً",sellerDashboard:"لوحة البائع",editProfile:"تعديل الملف الشخصي",changePassword:"تغيير كلمة المرور",language:"اللغة",notifications:"الإشعارات",appearance:"المظهر",installApp:"تثبيت التطبيق",comingSoon:"قيد التطوير",systemTheme:"النظام",lightTheme:"نهاري",darkTheme:"ليلي",addNewProduct:"إضافة منتج جديد",myProducts:"منتجاتي",analytics:"التحليلات",verification:"التحقق",privacy:"سياسة الخصوصية",terms:"شروط الخدمة",storeNameLabel:"اسم المتجر *",storeNamePlaceholder:"مثال: متجر الأزياء",whatsAppNumberLabel:"رقم واتساب *",cityLabel:"المدينة *",cityPlaceholder:"اختر مدينتك...",categoryLabel:"التصنيف *",categoryPlaceholder:"اختر التصنيف...",storeLogoOptionalLabel:"شعار المتجر (اختياري)",tapToUpload:"اضغط للرفع",welcomeStore:"أهلاً، {{storeName}}!",views:"مشاهدات",stats:"إحصائيات",rate:"النسبة",signOutTitle:"تسجيل الخروج",signOutMessage:"هل أنت متأكد أنك تريد تسجيل الخروج؟ سيتم مسح السلة."},oS={title:"المساعدة والدعم",message:"مرحباً، أحتاج مساعدة بخصوص تطبيق سوق العراق."},cS={title:"تثبيت التطبيق",ios:"على iPhone (Safari): مشاركة → إضافة إلى الشاشة الرئيسية",android:"على Android (Chrome): القائمة → تثبيت التطبيق"},uS={loginTitle:"مرحباً بعودتك",loginSubtitle:"سجل دخولك للمتابعة",registerTitle:"إنشاء حساب",registerSubtitle:"انضم إلى سوق العراق اليوم",email:"البريد الإلكتروني",password:"كلمة المرور",confirmPassword:"تأكيد كلمة المرور",name:"الاسم الكامل",nameAr:"الاسم بالعربية",phone:"رقم الهاتف",rememberMe:"تذكرني",forgotPassword:"نسيت كلمة المرور؟",noAccount:"ليس لديك حساب؟",hasAccount:"لديك حساب بالفعل؟",signUp:"إنشاء حساب",signIn:"تسجيل الدخول",orContinueWith:"أو تابع باستخدام",loginSuccess:"تم تسجيل الدخول بنجاح",logoutSuccess:"تم تسجيل الخروج بنجاح",registerSuccess:"تم إنشاء الحساب بنجاح",invalidCredentials:"البريد الإلكتروني أو كلمة المرور غير صحيحة",emailRequired:"البريد الإلكتروني مطلوب",passwordRequired:"كلمة المرور مطلوبة",nameRequired:"الاسم مطلوب",passwordMismatch:"كلمات المرور غير متطابقة",weakPassword:"كلمة المرور ضعيفة جداً",emailExists:"يوجد حساب بهذا البريد الإلكتروني بالفعل"},dS={title:"التحقق",subtitle:"التحقق من البائعين والمنتجات",verifySeller:"التحقق من البائع",verifyProduct:"التحقق من المنتج",verified:"موثق",pending:"قيد المراجعة",rejected:"مرفوض",submitDocuments:"إرسال المستندات",verificationStatus:"حالة التحقق",verificationPending:"التحقق قيد المراجعة",verificationApproved:"تهانينا! تم التحقق من حسابك",verificationRejected:"تم رفض التحقق"},fS={verified:"موثق",pending:"قيد المراجعة",rejected:"مرفوض",notVerified:"غير موثق",requestVerification:"طلب التوثيق",verificationStatus:"حالة التوثيق",verifiedProduct:"منتج موثق",pendingReview:"قيد المراجعة",reRequest:"إعادة طلب التوثيق",productVerified:"المنتج موثق",verifiedBenefits:"يظهر أولاً في نتائج البحث",requestTitle:"طلب توثيق المنتج",requirements:"المتطلبات",requirementInvoice:"فاتورة شراء أصلي",requirementPhotos:"صور واضحة للمنتج",requirementDescription:"وصف دقيق للمنتج",uploadDocuments:"رفع المستندات",dragDrop:"اسحب وأفلت الملفات هنا",supportedFormats:"PDF, JPG, PNG (حد أقصى 5MB)",benefitsTitle:"مميزات التوثيق",benefit1:"ظهور المنتج أولاً في البحث",benefit2:"زيادة ثقة المشترين",benefit3:"علامة توثيق مميزة",submit:"إرسال الطلب",verifiedTitle:"المنتج موثق",verifiedDescription:"هذا المنتج تم التحقق منه",verifiedOn:"تم التوثيق في",pendingTitle:"قيد المراجعة",pendingDescription:"طلب التوثيق قيد المراجعة",rejectedTitle:"تم الرفض",rejectedDescription:"تم رفض طلب التوثيق",notVerifiedTitle:"غير موثق",notVerifiedDescription:"لم يتم طلب التوثيق بعد",reason:"السبب",productVerification:"توثيق المنتج",queueTitle:"طلبات التوثيق المعلقة",noPending:"لا توجد طلبات معلقة",reviewRequest:"مراجعة طلب التوثيق",price:"السعر",documents:"المستندات",requestedOn:"تاريخ الطلب",reject:"رفض",approve:"موافقة",confirmReject:"تأكيد الرفض",rejectReasonPlaceholder:"أدخل سبب الرفض..."},hS={dashboard:"لوحة التحكم",users:"المستخدمين",sellers:"البائعين",products:"المنتجات",orders:"الطلبات",analytics:"التحليلات",settings:"الإعدادات",totalUsers:"إجمالي المستخدمين",totalSellers:"إجمالي البائعين",totalProducts:"إجمالي المنتجات",totalOrders:"إجمالي الطلبات",recentActivity:"النشاط الأخير",pendingVerifications:"التحققات المعلقة",reports:"التقارير"},gS={loading:"جاري التحميل...",error:"حدث خطأ",retry:"إعادة المحاولة",cancel:"إلغاء",confirm:"تأكيد",save:"حفظ",delete:"حذف",edit:"تعديل",add:"إضافة",close:"إغلاق",back:"رجوع",next:"التالي",done:"تم",yes:"نعم",no:"لا",ok:"موافق",success:"نجاح",warning:"تحذير",info:"معلومات",currency:"د.ع",language:"اللغة",english:"الإنجليزية",arabic:"العربية",cart:"السلة",addToCart:"أضف إلى السلة",removeFromCart:"إزالة من السلة",checkout:"إتمام الشراء",orderTotal:"المجموع الكلي",quantity:"الكمية",screenshotWarning:"خذ سكرين للمنتج وأرسله للبائع قبل الشراء"},mS={networkError:"خطأ في الشبكة. يرجى التحقق من اتصالك.",serverError:"خطأ في الخادم. يرجى المحاولة لاحقاً.",notFound:"غير موجود",unauthorized:"غير مصرح لك بالوصول",forbidden:"الوصول محظور",validationError:"يرجى التحقق من المدخلات",sessionExpired:"انتهت جلستك. يرجى تسجيل الدخول مرة أخرى.",rateLimited:"طلبات كثيرة. يرجى الانتظار والمحاولة مرة أخرى."},pS={emptyTitle:"لا توجد إشعارات",emptyDescription:"أنت على اطلاع بكل شيء.",welcome:"مرحباً بك في سوق العراق!",orderPlaced:"تم تقديم طلبك",orderShipped:"تم شحن طلبك",orderDelivered:"تم توصيل طلبك",newMessage:"لديك رسالة جديدة",priceDrop:"انخفاض السعر على منتج محفوظ!",backInStock:"المنتج متوفر الآن!",verificationApproved:"تم الموافقة على التحقق"},yS={nav:eS,home:tS,product:aS,cart:nS,seller:rS,search:sS,favorites:iS,profile:lS,support:oS,install:cS,auth:uS,verify:dS,verification:fS,admin:hS,common:gS,errors:mS,notifications:pS},ca=[{code:"en",name:"English",nativeName:"English",direction:"ltr"},{code:"ar",name:"Arabic",nativeName:"العربية",direction:"rtl"}],kp="ar",vS={en:{translation:Ww},ar:{translation:yS}};tt.use(Np).use(R1).init({resources:vS,fallbackLng:"en",defaultNS:"translation",detection:{order:["localStorage","navigator","htmlTag"],lookupLocalStorage:"iraq_marketplace_language",caches:["localStorage"],htmlTag:document.documentElement},interpolation:{escapeValue:!1},react:{useSuspense:!0,bindI18n:"languageChanged loaded",bindI18nStore:"added removed"},debug:!1,load:"languageOnly",returnObjects:!0,saveMissing:!0,missingKeyHandler:(n,a,r)=>{}});function bS(){const n=tt.language;return ca.find(a=>a.code===n)||ca[0]}function xS(){return bS().direction}async function wS(n){await tt.changeLanguage(n),document.documentElement.dir=xS(),document.documentElement.lang=n,localStorage.setItem("iraq_marketplace_language",n)}function yn(n,a){return tt.t(n,a)}const SS=localStorage.getItem("iraq_marketplace_language"),_S=SS||kp,ed=ca.find(n=>n.code===_S);ed&&(document.documentElement.dir=ed.direction,document.documentElement.lang=ed.code);function vn({product:n,compact:a=!1,trackViews:r=!0}){const i=se(C=>C.navigate),o=se(C=>C.isAuthenticated),c=se(C=>C.setAuthNextPage),h=se(C=>C.toggleFavorite),g=se(C=>C.setViewCount),m=se(C=>C.language),p=se(C=>C.favorites.includes(n.id)),v=se(C=>C.viewCounts[n.id]),{addToCart:w}=es(),x=bo(n.sellerId),_=n.originalPrice?Math.round((n.originalPrice-n.price)/n.originalPrice*100):0,S=v??n.viewCount,N=T.useCallback((C,B)=>{g(C,B)},[g]),j=T.useCallback(()=>{i("product",{productId:n.id})},[i,n.id]),A=C=>{if(!o){sessionStorage.setItem("iraq_marketplace_pending_action",JSON.stringify({type:"add_to_cart",productId:C,quantity:1})),c("cart"),i("profile");return}w(C,1),i("cart")},R=C=>{if(!o){sessionStorage.setItem("iraq_marketplace_pending_action",JSON.stringify({type:"favorite",productId:C})),c("favorites"),i("profile");return}h(C)};return r?u.jsx(Q1,{productId:n.id,initialViewCount:n.viewCount,onViewTracked:N,threshold:.3,minVisibleTime:500,children:({ref:C,viewCount:B})=>u.jsx("div",{ref:C,children:u.jsx(A0,{product:n,compact:a,isFav:p,discount:_,seller:x,language:m,currentViewCount:B||S,onToggleFavorite:R,onAddToCart:A,onOpenProduct:j})})}):u.jsx(A0,{product:n,compact:a,isFav:p,discount:_,seller:x,language:m,currentViewCount:S,onToggleFavorite:R,onAddToCart:A,onOpenProduct:j})}function A0({product:n,compact:a,isFav:r,discount:i,seller:o,language:c,currentViewCount:h,onToggleFavorite:g,onAddToCart:m,onOpenProduct:p}){return u.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-sm border border-gray-100 hover:shadow-md transition-all duration-300 group cursor-pointer ",onClick:p,children:[u.jsxs("div",{className:"relative aspect-square overflow-hidden bg-gray-50",children:[u.jsx(pp,{src:n.images[0],alt:n.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),u.jsxs("div",{className:"absolute top-2 left-2 flex flex-col gap-1",children:[n.isVerified&&u.jsxs("span",{className:"bg-emerald-500 text-white text-[10px] font-bold px-2 py-0.5 rounded-full flex items-center gap-0.5",children:[u.jsx(Kn,{size:10}),yn("verification.verified")]}),i>0&&u.jsxs("span",{className:"bg-red-500 text-white text-[10px] font-bold px-2 py-0.5 rounded-full",children:["-",i,"%"]}),!n.inStock&&u.jsx("span",{className:"bg-gray-800/80 text-white text-[10px] font-bold px-2 py-0.5 rounded-full",children:"Sold Out"})]}),u.jsx("button",{onClick:v=>{v.stopPropagation(),g(n.id)},className:"absolute top-2 right-2 w-8 h-8 flex items-center justify-center rounded-full bg-white/90 backdrop-blur-sm shadow-sm transition-all duration-200 hover:scale-110 active:scale-95",children:u.jsx(ci,{size:16,className:`transition-colors ${r?"fill-red-500 text-red-500":"text-gray-500"}`})}),u.jsxs("div",{className:"absolute bottom-2 right-2 flex items-center gap-1 bg-black/50 backdrop-blur-sm rounded-full px-2 py-0.5",children:[u.jsx(Zr,{size:10,className:"text-white/80"}),u.jsx("span",{className:"text-[10px] text-white/90 font-medium",children:Md(h,c)})]})]}),u.jsxs("div",{className:"p-3",children:[u.jsx("h3",{className:"text-sm font-semibold text-gray-900 line-clamp-1 mb-1",children:n.name}),!a&&o&&u.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[u.jsx("img",{src:o.avatar,alt:o.name,className:"w-4 h-4 rounded-full object-cover"}),u.jsx("span",{className:"text-[11px] text-gray-500 truncate",children:o.name}),o.isVerified&&u.jsx("svg",{className:"w-3 h-3 text-emerald-500 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),!a&&o&&u.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[u.jsx(Ld,{size:10,className:"text-emerald-500"}),u.jsx("span",{className:"text-[10px] text-emerald-600 font-medium",children:o.deliveryInfo||yn("seller.deliveryToAllIraq")})]}),u.jsxs("div",{className:"flex items-end justify-between",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-base font-bold text-emerald-600",children:Kt(n.price)}),n.originalPrice&&u.jsx("span",{className:"block text-[11px] text-gray-400 line-through",children:Kt(n.originalPrice)})]}),u.jsx("button",{type:"button",onClick:v=>{v.stopPropagation(),m(n.id)},disabled:!n.inStock,title:yn("common.addToCart"),className:`w-8 h-8 flex items-center justify-center rounded-full transition-colors ${n.inStock?"bg-emerald-50 text-emerald-600 hover:bg-emerald-100":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:u.jsx(Rd,{size:14})})]})]})]})}function md({isVerified:n,size:a="md",showLabel:r=!1,className:i=""}){const o=se(g=>g.language);if(!n)return r?u.jsxs("span",{className:`inline-flex items-center gap-1 text-gray-400 ${i}`,children:[u.jsx("svg",{className:`${a==="sm"?"w-3 h-3":a==="lg"?"w-5 h-5":"w-4 h-4"}`,viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})}),u.jsx("span",{className:"text-xs",children:o==="ar"?"غير موثق":"Unverified"})]}):null;const c={sm:"text-[10px] px-1.5 py-0.5 gap-0.5",md:"text-xs px-2 py-1 gap-1",lg:"text-sm px-3 py-1.5 gap-1.5"},h={sm:"w-3 h-3",md:"w-3.5 h-3.5",lg:"w-4 h-4"};return u.jsxs("span",{className:`
        inline-flex items-center 
        bg-gradient-to-r from-emerald-500 to-teal-500 
        text-white 
        rounded-full 
        font-semibold
        shadow-sm
        ${c[a]}
        ${i}
      `,children:[u.jsx("svg",{className:h[a],viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),r&&u.jsx("span",{children:yn("seller.verified")})]})}function Ap({seller:n}){const a=se(c=>c.navigate),r=se(c=>c.language),{average:i,count:o}=$a(n.id);return u.jsxs("div",{className:`bg-white rounded-2xl overflow-hidden shadow-sm border hover:shadow-md transition-all duration-300 cursor-pointer active:scale-[0.98] ${n.isVerified?"border-emerald-200 ring-1 ring-emerald-100":"border-gray-100"}`,onClick:()=>a("seller",{sellerId:n.id}),children:[u.jsxs("div",{className:"relative h-20 overflow-hidden",children:[u.jsx("img",{src:n.coverImage,alt:"",className:"w-full h-full object-cover",loading:"lazy"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"}),n.isVerified&&u.jsx("div",{className:"absolute top-2 right-2",children:u.jsx(md,{isVerified:!0,size:"sm"})})]}),u.jsxs("div",{className:"relative px-3 pb-3",children:[u.jsxs("div",{className:"flex items-end gap-2 -mt-5",children:[u.jsx("img",{src:n.avatar,alt:n.name,className:"w-12 h-12 rounded-xl object-cover border-2 border-white shadow-sm"}),u.jsx("div",{className:"flex-1 pt-2 min-w-0",children:u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("h3",{className:"text-sm font-bold text-gray-900 truncate",children:r==="ar"?n.nameAr:n.name}),n.isVerified&&u.jsx("svg",{className:"w-4 h-4 text-emerald-500 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]})})]}),u.jsx("p",{className:"text-[11px] text-gray-500 mt-1.5 line-clamp-2",children:n.bio}),u.jsxs("div",{className:"flex items-center gap-1 mt-1.5",children:[u.jsx(Ld,{size:10,className:"text-emerald-500"}),u.jsx("span",{className:"text-[10px] text-emerald-600 font-medium",children:n.deliveryInfo||yn("seller.deliveryToAllIraq")})]}),u.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(fa,{size:12,className:"text-amber-400 fill-amber-400"}),u.jsx("span",{className:"text-xs font-semibold text-gray-700",children:i.toFixed(1)}),u.jsxs("span",{className:"text-[10px] text-gray-400",children:["(",o,")"]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(vo,{size:11,className:"text-gray-400"}),u.jsx("span",{className:"text-[11px] text-gray-500",children:r==="ar"?n.locationAr:n.location})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Rd,{size:11,className:"text-gray-400"}),u.jsx("span",{className:"text-[11px] text-gray-500",children:n.productCount||n.totalSales})]})]})]})]})}function jS(n){const a=Wr.find(o=>o.id===n);if(!a)return;const{average:r,count:i}=$a(n);return{...a,rating:r,totalRatings:i}}function gi(n){const a=new Set(Wr.filter(r=>r.isVerified).map(r=>r.id));return[...n].sort((r,i)=>{const o=a.has(r.sellerId),c=a.has(i.sellerId);return o&&!c?-1:!o&&c?1:0})}function NS(n,a){if(!jS(n))throw new Error("Seller not found");return{id:`p-${Date.now()}`,sellerId:n,name:a.name,nameAr:a.nameAr,description:a.description,descriptionAr:a.descriptionAr,price:a.price,currency:"IQD",images:[a.image],category:a.category,categoryAr:a.categoryAr,inStock:!0,viewCount:0,createdAt:new Date().toISOString().split("T")[0],tags:[],isVerified:!1,verificationStatus:"none"}}async function kS(n){return new Promise(a=>{setTimeout(()=>{const r=URL.createObjectURL(n);a(r)},1e3)})}function jo(n,a){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&a.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)a.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r}function AS(n,a,r,i){function o(c){return c instanceof r?c:new r(function(h){h(c)})}return new(r||(r=Promise))(function(c,h){function g(v){try{p(i.next(v))}catch(w){h(w)}}function m(v){try{p(i.throw(v))}catch(w){h(w)}}function p(v){v.done?c(v.value):o(v.value).then(g,m)}p((i=i.apply(n,a||[])).next())})}const CS=n=>n?(...a)=>n(...a):(...a)=>fetch(...a);class qd extends Error{constructor(a,r="FunctionsError",i){super(a),this.name=r,this.context=i}}class ES extends qd{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class C0 extends qd{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class E0 extends qd{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var pd;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(pd||(pd={}));class TS{constructor(a,{headers:r={},customFetch:i,region:o=pd.Any}={}){this.url=a,this.headers=r,this.region=o,this.fetch=CS(i)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return AS(this,arguments,void 0,function*(r,i={}){var o;let c,h;try{const{headers:g,method:m,body:p,signal:v,timeout:w}=i;let x={},{region:_}=i;_||(_=this.region);const S=new URL(`${this.url}/${r}`);_&&_!=="any"&&(x["x-region"]=_,S.searchParams.set("forceFunctionRegion",_));let N;p&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",N=p):typeof p=="string"?(x["Content-Type"]="text/plain",N=p):typeof FormData<"u"&&p instanceof FormData?N=p:(x["Content-Type"]="application/json",N=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?N=JSON.stringify(p):N=p;let j=v;w&&(h=new AbortController,c=setTimeout(()=>h.abort(),w),v?(j=h.signal,v.addEventListener("abort",()=>h.abort())):j=h.signal);const A=yield this.fetch(S.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),g),body:N,signal:j}).catch(J=>{throw new ES(J)}),R=A.headers.get("x-relay-error");if(R&&R==="true")throw new C0(A);if(!A.ok)throw new E0(A);let C=((o=A.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),B;return C==="application/json"?B=yield A.json():C==="application/octet-stream"||C==="application/pdf"?B=yield A.blob():C==="text/event-stream"?B=A:C==="multipart/form-data"?B=yield A.formData():B=yield A.text(),{data:B,error:null,response:A}}catch(g){return{data:null,error:g,response:g instanceof E0||g instanceof C0?g.context:void 0}}finally{c&&clearTimeout(c)}})}}var OS=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},RS=class{constructor(n){var a,r,i;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(a=n.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=n.signal,this.isMaybeSingle=(r=n.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(i=n.urlLengthLimit)!==null&&i!==void 0?i:8e3,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,a){return this.headers=new Headers(this.headers),this.headers.set(n,a),this}then(n,a){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let o=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let h=null,g=null,m=null,p=c.status,v=c.statusText;if(c.ok){var w,x;if(r.method!=="HEAD"){var _;const A=await c.text();A===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((_=r.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?g=A:g=JSON.parse(A))}const N=(w=r.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),j=(x=c.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");N&&j&&j.length>1&&(m=parseInt(j[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(g)&&(g.length>1?(h={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,m=null,p=406,v="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{var S;const N=await c.text();try{h=JSON.parse(N),Array.isArray(h)&&c.status===404&&(g=[],h=null,p=200,v="OK")}catch{c.status===404&&N===""?(p=204,v="No Content"):h={message:N}}if(h&&r.isMaybeSingle&&(!(h==null||(S=h.details)===null||S===void 0)&&S.includes("0 rows"))&&(h=null,p=200,v="OK"),h&&r.shouldThrowOnError)throw new OS(h)}return{error:h,data:g,count:m,status:p,statusText:v}});return this.shouldThrowOnError||(o=o.catch(c=>{var h;let g="",m="",p="";const v=c?.cause;if(v){var w,x,_,S;const A=(w=v?.message)!==null&&w!==void 0?w:"",R=(x=v?.code)!==null&&x!==void 0?x:"";g=`${(_=c?.name)!==null&&_!==void 0?_:"FetchError"}: ${c?.message}`,g+=`

Caused by: ${(S=v?.name)!==null&&S!==void 0?S:"Error"}: ${A}`,R&&(g+=` (${R})`),v?.stack&&(g+=`
${v.stack}`)}else{var N;g=(N=c?.stack)!==null&&N!==void 0?N:""}const j=this.url.toString().length;return c?.name==="AbortError"||c?.code==="ABORT_ERR"?(p="",m="Request was aborted (timeout or manual cancellation)",j>this.urlLengthLimit&&(m+=`. Note: Your request URL is ${j} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(v?.name==="HeadersOverflowError"||v?.code==="UND_ERR_HEADERS_OVERFLOW")&&(p="",m="HTTP headers exceeded server limits (typically 16KB)",j>this.urlLengthLimit&&(m+=`. Your request URL is ${j} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(h=c?.name)!==null&&h!==void 0?h:"FetchError"}: ${c?.message}`,details:g,hint:m,code:p},data:null,count:null,status:0,statusText:""}})),o.then(n,a)}returns(){return this}overrideTypes(){return this}},DS=class extends RS{select(n){let a=!1;const r=(n??"*").split("").map(i=>/\s/.test(i)&&!a?"":(i==='"'&&(a=!a),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:a=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){const c=o?`${o}.order`:"order",h=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${h?`${h},`:""}${n}.${a?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:a,referencedTable:r=a}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${n}`),this}range(n,a,{foreignTable:r,referencedTable:i=r}={}){const o=typeof i>"u"?"offset":`${i}.offset`,c=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${n}`),this.url.searchParams.set(c,`${a-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:a=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:c="text"}={}){var h;const g=[n?"analyze":null,a?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),m=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${m}"; options=${g};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const T0=new RegExp("[,()]");var Gr=class extends DS{eq(n,a){return this.url.searchParams.append(n,`eq.${a}`),this}neq(n,a){return this.url.searchParams.append(n,`neq.${a}`),this}gt(n,a){return this.url.searchParams.append(n,`gt.${a}`),this}gte(n,a){return this.url.searchParams.append(n,`gte.${a}`),this}lt(n,a){return this.url.searchParams.append(n,`lt.${a}`),this}lte(n,a){return this.url.searchParams.append(n,`lte.${a}`),this}like(n,a){return this.url.searchParams.append(n,`like.${a}`),this}likeAllOf(n,a){return this.url.searchParams.append(n,`like(all).{${a.join(",")}}`),this}likeAnyOf(n,a){return this.url.searchParams.append(n,`like(any).{${a.join(",")}}`),this}ilike(n,a){return this.url.searchParams.append(n,`ilike.${a}`),this}ilikeAllOf(n,a){return this.url.searchParams.append(n,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(n,a){return this.url.searchParams.append(n,`ilike(any).{${a.join(",")}}`),this}regexMatch(n,a){return this.url.searchParams.append(n,`match.${a}`),this}regexIMatch(n,a){return this.url.searchParams.append(n,`imatch.${a}`),this}is(n,a){return this.url.searchParams.append(n,`is.${a}`),this}isDistinct(n,a){return this.url.searchParams.append(n,`isdistinct.${a}`),this}in(n,a){const r=Array.from(new Set(a)).map(i=>typeof i=="string"&&T0.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}notIn(n,a){const r=Array.from(new Set(a)).map(i=>typeof i=="string"&&T0.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`not.in.(${r})`),this}contains(n,a){return typeof a=="string"?this.url.searchParams.append(n,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(n,`cs.{${a.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(a)}`),this}containedBy(n,a){return typeof a=="string"?this.url.searchParams.append(n,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(n,`cd.{${a.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(a)}`),this}rangeGt(n,a){return this.url.searchParams.append(n,`sr.${a}`),this}rangeGte(n,a){return this.url.searchParams.append(n,`nxl.${a}`),this}rangeLt(n,a){return this.url.searchParams.append(n,`sl.${a}`),this}rangeLte(n,a){return this.url.searchParams.append(n,`nxr.${a}`),this}rangeAdjacent(n,a){return this.url.searchParams.append(n,`adj.${a}`),this}overlaps(n,a){return typeof a=="string"?this.url.searchParams.append(n,`ov.${a}`):this.url.searchParams.append(n,`ov.{${a.join(",")}}`),this}textSearch(n,a,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const c=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${o}fts${c}.${a}`),this}match(n){return Object.entries(n).forEach(([a,r])=>{this.url.searchParams.append(a,`eq.${r}`)}),this}not(n,a,r){return this.url.searchParams.append(n,`not.${a}.${r}`),this}or(n,{foreignTable:a,referencedTable:r=a}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${n})`),this}filter(n,a,r){return this.url.searchParams.append(n,`${a}.${r}`),this}},LS=class{constructor(n,{headers:a={},schema:r,fetch:i,urlLengthLimit:o=8e3}){this.url=n,this.headers=new Headers(a),this.schema=r,this.fetch=i,this.urlLengthLimit=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,a){const{head:r=!1,count:i}=a??{},o=r?"HEAD":"GET";let c=!1;const h=(n??"*").split("").map(p=>/\s/.test(p)&&!c?"":(p==='"'&&(c=!c),p)).join(""),{url:g,headers:m}=this.cloneRequestState();return g.searchParams.set("select",h),i&&m.append("Prefer",`count=${i}`),new Gr({method:o,url:g,headers:m,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(n,{count:a,defaultToNull:r=!0}={}){var i;const o="POST",{url:c,headers:h}=this.cloneRequestState();if(a&&h.append("Prefer",`count=${a}`),r||h.append("Prefer","missing=default"),Array.isArray(n)){const g=n.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(g.length>0){const m=[...new Set(g)].map(p=>`"${p}"`);c.searchParams.set("columns",m.join(","))}}return new Gr({method:o,url:c,headers:h,schema:this.schema,body:n,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(n,{onConflict:a,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){var c;const h="POST",{url:g,headers:m}=this.cloneRequestState();if(m.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),a!==void 0&&g.searchParams.set("on_conflict",a),i&&m.append("Prefer",`count=${i}`),o||m.append("Prefer","missing=default"),Array.isArray(n)){const p=n.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(p.length>0){const v=[...new Set(p)].map(w=>`"${w}"`);g.searchParams.set("columns",v.join(","))}}return new Gr({method:h,url:g,headers:m,schema:this.schema,body:n,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch,urlLengthLimit:this.urlLengthLimit})}update(n,{count:a}={}){var r;const i="PATCH",{url:o,headers:c}=this.cloneRequestState();return a&&c.append("Prefer",`count=${a}`),new Gr({method:i,url:o,headers:c,schema:this.schema,body:n,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:n}={}){var a;const r="DELETE",{url:i,headers:o}=this.cloneRequestState();return n&&o.append("Prefer",`count=${n}`),new Gr({method:r,url:i,headers:o,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};function mi(n){"@babel/helpers - typeof";return mi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},mi(n)}function zS(n,a){if(mi(n)!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,a);if(mi(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(n)}function US(n){var a=zS(n,"string");return mi(a)=="symbol"?a:a+""}function MS(n,a,r){return(a=US(a))in n?Object.defineProperty(n,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[a]=r,n}function O0(n,a){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);a&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function Hl(n){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?O0(Object(r),!0).forEach(function(i){MS(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):O0(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var qS=class Cp{constructor(a,{headers:r={},schema:i,fetch:o,timeout:c,urlLengthLimit:h=8e3}={}){this.url=a,this.headers=new Headers(r),this.schemaName=i,this.urlLengthLimit=h;const g=o??globalThis.fetch;c!==void 0&&c>0?this.fetch=(m,p)=>{const v=new AbortController,w=setTimeout(()=>v.abort(),c),x=p?.signal;if(x){if(x.aborted)return clearTimeout(w),g(m,p);const _=()=>{clearTimeout(w),v.abort()};return x.addEventListener("abort",_,{once:!0}),g(m,Hl(Hl({},p),{},{signal:v.signal})).finally(()=>{clearTimeout(w),x.removeEventListener("abort",_)})}return g(m,Hl(Hl({},p),{},{signal:v.signal})).finally(()=>clearTimeout(w))}:this.fetch=g}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new LS(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(a){return new Cp(this.url,{headers:this.headers,schema:a,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(a,r={},{head:i=!1,get:o=!1,count:c}={}){var h;let g;const m=new URL(`${this.url}/rpc/${a}`);let p;const v=_=>_!==null&&typeof _=="object"&&(!Array.isArray(_)||_.some(v)),w=i&&Object.values(r).some(v);w?(g="POST",p=r):i||o?(g=i?"HEAD":"GET",Object.entries(r).filter(([_,S])=>S!==void 0).map(([_,S])=>[_,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([_,S])=>{m.searchParams.append(_,S)})):(g="POST",p=r);const x=new Headers(this.headers);return w?x.set("Prefer",c?`count=${c},return=minimal`:"return=minimal"):c&&x.set("Prefer",`count=${c}`),new Gr({method:g,url:m,headers:x,schema:this.schemaName,body:p,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch,urlLengthLimit:this.urlLengthLimit})}};class BS{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const i=r.versions;if(i&&i.node){const o=i.node,c=parseInt(o.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let r=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(r+=`

Suggested solution: ${a.workaround}`),new Error(r)}static createWebSocket(a,r){const i=this.getWebSocketConstructor();return new i(a,r)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const $S="2.95.3",VS=`realtime-js/${$S}`,PS="1.0.0",Ep="2.0.0",R0=Ep,yd=1e4,IS=1e3,HS=100;var mn;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(mn||(mn={}));var ot;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(ot||(ot={}));var da;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(da||(da={}));var vd;(function(n){n.websocket="websocket"})(vd||(vd={}));var In;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(In||(In={}));class GS{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,r){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(a));let i=[a.join_ref,a.ref,a.topic,a.event,a.payload];return r(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(a){var r;return this._isArrayBuffer((r=a.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var r,i;const o=(i=(r=a.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(a){var r,i;const o=(i=(r=a.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:{},h=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(a,r,i){var o,c;const h=a.topic,g=(o=a.ref)!==null&&o!==void 0?o:"",m=(c=a.join_ref)!==null&&c!==void 0?c:"",p=a.payload.event,v=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},w=Object.keys(v).length===0?"":JSON.stringify(v);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+g.length+h.length+p.length+w.length,_=new ArrayBuffer(this.HEADER_LENGTH+x);let S=new DataView(_),N=0;S.setUint8(N++,this.KINDS.userBroadcastPush),S.setUint8(N++,m.length),S.setUint8(N++,g.length),S.setUint8(N++,h.length),S.setUint8(N++,p.length),S.setUint8(N++,w.length),S.setUint8(N++,r),Array.from(m,A=>S.setUint8(N++,A.charCodeAt(0))),Array.from(g,A=>S.setUint8(N++,A.charCodeAt(0))),Array.from(h,A=>S.setUint8(N++,A.charCodeAt(0))),Array.from(p,A=>S.setUint8(N++,A.charCodeAt(0))),Array.from(w,A=>S.setUint8(N++,A.charCodeAt(0)));var j=new Uint8Array(_.byteLength+i.byteLength);return j.set(new Uint8Array(_),0),j.set(new Uint8Array(i),_.byteLength),j.buffer}decode(a,r){if(this._isArrayBuffer(a)){let i=this._binaryDecode(a);return r(i)}if(typeof a=="string"){const i=JSON.parse(a),[o,c,h,g,m]=i;return r({join_ref:o,ref:c,topic:h,event:g,payload:m})}return r({})}_binaryDecode(a){const r=new DataView(a),i=r.getUint8(0),o=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(a,r,o)}}_decodeUserBroadcast(a,r,i){const o=r.getUint8(1),c=r.getUint8(2),h=r.getUint8(3),g=r.getUint8(4);let m=this.HEADER_LENGTH+4;const p=i.decode(a.slice(m,m+o));m=m+o;const v=i.decode(a.slice(m,m+c));m=m+c;const w=i.decode(a.slice(m,m+h));m=m+h;const x=a.slice(m,a.byteLength),_=g===this.JSON_ENCODING?JSON.parse(i.decode(x)):x,S={type:this.BROADCAST_EVENT,event:v,payload:_};return h>0&&(S.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(a){var r;return a instanceof ArrayBuffer||((r=a?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(a,r){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([i])=>r.includes(i)))}}class Tp{constructor(a,r){this.callback=a,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ie;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Ie||(Ie={}));const D0=(n,a,r={})=>{var i;const o=(i=r.skipTypes)!==null&&i!==void 0?i:[];return a?Object.keys(a).reduce((c,h)=>(c[h]=KS(h,n,a,o),c),{}):{}},KS=(n,a,r,i)=>{const o=a.find(g=>g.name===n),c=o?.type,h=r[n];return c&&!i.includes(c)?Op(c,h):bd(h)},Op=(n,a)=>{if(n.charAt(0)==="_"){const r=n.slice(1,n.length);return XS(a,r)}switch(n){case Ie.bool:return YS(a);case Ie.float4:case Ie.float8:case Ie.int2:case Ie.int4:case Ie.int8:case Ie.numeric:case Ie.oid:return QS(a);case Ie.json:case Ie.jsonb:return JS(a);case Ie.timestamp:return FS(a);case Ie.abstime:case Ie.date:case Ie.daterange:case Ie.int4range:case Ie.int8range:case Ie.money:case Ie.reltime:case Ie.text:case Ie.time:case Ie.timestamptz:case Ie.timetz:case Ie.tsrange:case Ie.tstzrange:return bd(a);default:return bd(a)}},bd=n=>n,YS=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},QS=n=>{if(typeof n=="string"){const a=parseFloat(n);if(!Number.isNaN(a))return a}return n},JS=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},XS=(n,a)=>{if(typeof n!="string")return n;const r=n.length-1,i=n[r];if(n[0]==="{"&&i==="}"){let c;const h=n.slice(1,r);try{c=JSON.parse("["+h+"]")}catch{c=h?h.split(","):[]}return c.map(g=>Op(a,g))}return n},FS=n=>typeof n=="string"?n.replace(" ","T"):n,Rp=n=>{const a=new URL(n);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class td{constructor(a,r,i={},o=yd){this.channel=a,this.event=r,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,r){var i;return this._hasReceived(a)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:a,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:r}){this.recHooks.filter(i=>i.status===a).forEach(i=>i.callback(r))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var L0;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(L0||(L0={}));class li{constructor(a,r){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:c,onLeave:h,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=li.syncState(this.state,o,c,h),this.pendingDiffs.forEach(m=>{this.state=li.syncDiff(this.state,m,c,h)}),this.pendingDiffs=[],g()}),this.channel._on(i.diff,{},o=>{const{onJoin:c,onLeave:h,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=li.syncDiff(this.state,o,c,h),g())}),this.onJoin((o,c,h)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:h})}),this.onLeave((o,c,h)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,r,i,o){const c=this.cloneDeep(a),h=this.transformState(r),g={},m={};return this.map(c,(p,v)=>{h[p]||(m[p]=v)}),this.map(h,(p,v)=>{const w=c[p];if(w){const x=v.map(j=>j.presence_ref),_=w.map(j=>j.presence_ref),S=v.filter(j=>_.indexOf(j.presence_ref)<0),N=w.filter(j=>x.indexOf(j.presence_ref)<0);S.length>0&&(g[p]=S),N.length>0&&(m[p]=N)}else g[p]=v}),this.syncDiff(c,{joins:g,leaves:m},i,o)}static syncDiff(a,r,i,o){const{joins:c,leaves:h}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(c,(g,m)=>{var p;const v=(p=a[g])!==null&&p!==void 0?p:[];if(a[g]=this.cloneDeep(m),v.length>0){const w=a[g].map(_=>_.presence_ref),x=v.filter(_=>w.indexOf(_.presence_ref)<0);a[g].unshift(...x)}i(g,v,m)}),this.map(h,(g,m)=>{let p=a[g];if(!p)return;const v=m.map(w=>w.presence_ref);p=p.filter(w=>v.indexOf(w.presence_ref)<0),a[g]=p,o(g,p,m),p.length===0&&delete a[g]}),a}static map(a,r){return Object.getOwnPropertyNames(a).map(i=>r(i,a[i]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((r,i)=>{const o=a[i];return"metas"in o?r[i]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):r[i]=o,r},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var z0;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(z0||(z0={}));var oi;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(oi||(oi={}));var qa;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(qa||(qa={}));class Jr{constructor(a,r={config:{}},i){var o,c;if(this.topic=a,this.params=r,this.socket=i,this.bindings={},this.state=ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new td(this,da.join,this.params,this.timeout),this.rejoinTimer=new Tp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ot.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(da.reply,{},(h,g)=>{this._trigger(this._replyEventName(g),h)}),this.presence=new li(this),this.broadcastEndpointURL=Rp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,r=this.timeout){var i,o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==ot.closed){const{config:{broadcast:h,presence:g,private:m}}=this.params,p=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(_=>_.filter))!==null&&o!==void 0?o:[],v=!!this.bindings[oi.PRESENCE]&&this.bindings[oi.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,w={},x={broadcast:h,presence:Object.assign(Object.assign({},g),{enabled:v}),postgres_changes:p,private:m};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(_=>a?.(qa.CHANNEL_ERROR,_)),this._onClose(()=>a?.(qa.CLOSED)),this.updateJoinPayload(Object.assign({config:x},w)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:_})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){a?.(qa.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,j=(S=N?.length)!==null&&S!==void 0?S:0,A=[];for(let R=0;R<j;R++){const C=N[R],{filter:{event:B,schema:J,table:D,filter:G}}=C,pe=_&&_[R];if(pe&&pe.event===B&&Jr.isFilterValueEqual(pe.schema,J)&&Jr.isFilterValueEqual(pe.table,D)&&Jr.isFilterValueEqual(pe.filter,G))A.push(Object.assign(Object.assign({},C),{id:pe.id}));else{this.unsubscribe(),this.state=ot.errored,a?.(qa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,a&&a(qa.SUBSCRIBED);return}}).receive("error",_=>{this.state=ot.errored,a?.(qa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{a?.(qa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,r={}){return await this.send({type:"presence",event:"track",payload:a},r.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,r,i){return this.state===ot.joined&&a===oi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,r,i)}async httpSend(a,r,i={}){var o;if(r==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:r,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);if(g.status===202)return{success:!0};let m=g.statusText;try{const p=await g.json();m=p.error||p.message||m}catch{}return Promise.reject(new Error(m))}async send(a,r={}){var i,o;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:h}=a,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,g,m;const p=this._push(a.type,a,r.timeout||this.timeout);a.type==="broadcast"&&!(!((m=(g=(h=this.params)===null||h===void 0?void 0:h.config)===null||g===void 0?void 0:g.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),p.receive("ok",()=>c("ok")),p.receive("error",()=>c("error")),p.receive("timeout",()=>c("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=ot.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(da.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new td(this,da.leave,{},a),i.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ot.closed,this.bindings={}}async _fetchWithTimeout(a,r,i){const o=new AbortController,c=setTimeout(()=>o.abort(),i),h=await this.socket.fetch(a,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(c),h}_push(a,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new td(this,a,r,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>HS){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(a,r,i){return r}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,r,i){var o,c;const h=a.toLocaleLowerCase(),{close:g,error:m,leave:p,join:v}=da;if(i&&[g,m,p,v].indexOf(h)>=0&&i!==this._joinRef())return;let x=this._onMessage(h,r,i);if(r&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(_=>{var S,N,j;return((S=_.filter)===null||S===void 0?void 0:S.event)==="*"||((j=(N=_.filter)===null||N===void 0?void 0:N.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===h}).map(_=>_.callback(x,i)):(c=this.bindings[h])===null||c===void 0||c.filter(_=>{var S,N,j,A,R,C;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in _){const B=_.id,J=(S=_.filter)===null||S===void 0?void 0:S.event;return B&&((N=r.ids)===null||N===void 0?void 0:N.includes(B))&&(J==="*"||J?.toLocaleLowerCase()===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const B=(R=(A=_?.filter)===null||A===void 0?void 0:A.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return B==="*"||B===((C=r?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===h}).map(_=>{if(typeof x=="object"&&"ids"in x){const S=x.data,{schema:N,table:j,commit_timestamp:A,type:R,errors:C}=S;x=Object.assign(Object.assign({},{schema:N,table:j,commit_timestamp:A,eventType:R,new:{},old:{},errors:C}),this._getPayloadRecords(S))}_.callback(x,i)})}_isClosed(){return this.state===ot.closed}_isJoined(){return this.state===ot.joined}_isJoining(){return this.state===ot.joining}_isLeaving(){return this.state===ot.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,r,i){const o=a.toLocaleLowerCase(),c={type:o,filter:r,callback:i};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(a,r){const i=a.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===i&&Jr.isEqual(o.filter,r))})),this}static isEqual(a,r){if(Object.keys(a).length!==Object.keys(r).length)return!1;for(const i in a)if(a[i]!==r[i])return!1;return!0}static isFilterValueEqual(a,r){return(a??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(da.close,{},a)}_onError(a){this._on(da.error,{},r=>a(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ot.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const r={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(r.new=D0(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(r.old=D0(a.columns,a.old_record)),r}}const ad=()=>{},Gl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ZS=[1e3,2e3,5e3,1e4],WS=1e4,e2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class t2{constructor(a,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=yd,this.transport=null,this.heartbeatIntervalMs=Gl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ad,this.ref=0,this.reconnectTimer=null,this.vsn=R0,this.logger=ad,this.conn=null,this.sendBuffer=[],this.serializer=new GS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...c)=>o(...c):(...c)=>fetch(...c),!(!((i=r?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${a}/${vd.websocket}`,this.httpEndpoint=Rp(a),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=BS.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const r=a.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const r=await a.unsubscribe();return r==="ok"&&this._remove(a),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const a=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,r,i){this.logger(a,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case mn.connecting:return In.Connecting;case mn.open:return In.Open;case mn.closing:return In.Closing;default:return In.Closed}}isConnected(){return this.connectionState()===In.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,r={config:{}}){const i=`realtime:${a}`,o=this.getChannels().find(c=>c.topic===i);if(o)return o;{const c=new Jr(`realtime:${a}`,r,this);return this.channels.push(c),c}}push(a){const{topic:r,event:i,payload:o,ref:c}=a,h=()=>{this.encode(a,g=>{var m;(m=this.conn)===null||m===void 0||m.send(g)})};this.log("push",`${r} ${i} (${c})`,o),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(IS,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Gl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let r=this.channels.find(i=>i.topic===a&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${a}"`),r.unsubscribe())}_remove(a){this.channels=this.channels.filter(r=>r.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",p)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:o,payload:c,ref:h}=r,g=h?`(${h})`:"",m=c.status||"";this.log("receive",`${m} ${i} ${o} ${g}`.trim(),c),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(o,c,h)),this._triggerStateCallbacks("message",r)})}_clearTimer(a){var r;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===mn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===mn.open||this.conn.readyState===mn.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var r;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(a=>a._trigger(da.error))}_appendParams(a,r){if(Object.keys(r).length===0)return a;const i=a.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${a}${i}${o}`}_workerObjectUrl(a){let r;if(a)r=a;else{const i=new Blob([e2],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(a,r=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(a=null){let r,i=!1;if(a)r=a,i=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),r=this.accessTokenValue}else r=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(o=>{const c={access_token:r,version:VS};r&&o.updateJoinPayload(c),o.joinedOnce&&o._isJoined()&&o._push(da.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${a}`,r)})}_triggerStateCallbacks(a,r){try{this.stateChangeCallbacks[a].forEach(i=>{try{i(r)}catch(o){this.log("error",`error in ${a} callback`,o)}})}catch(i){this.log("error",`error triggering ${a} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Tp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Gl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var r,i,o,c,h,g,m,p,v,w,x,_;switch(this.transport=(r=a?.transport)!==null&&r!==void 0?r:null,this.timeout=(i=a?.timeout)!==null&&i!==void 0?i:yd,this.heartbeatIntervalMs=(o=a?.heartbeatIntervalMs)!==null&&o!==void 0?o:Gl.HEARTBEAT_INTERVAL,this.worker=(c=a?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(h=a?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(g=a?.heartbeatCallback)!==null&&g!==void 0?g:ad,this.vsn=(m=a?.vsn)!==null&&m!==void 0?m:R0,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=a?.reconnectAfterMs)!==null&&p!==void 0?p:(S=>ZS[S-1]||WS),this.vsn){case PS:this.encode=(v=a?.encode)!==null&&v!==void 0?v:((S,N)=>N(JSON.stringify(S))),this.decode=(w=a?.decode)!==null&&w!==void 0?w:((S,N)=>N(JSON.parse(S)));break;case Ep:this.encode=(x=a?.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(_=a?.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}var pi=class extends Error{constructor(n,a){super(n),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function a2(n,a,r){const i=new URL(a,n);if(r)for(const[o,c]of Object.entries(r))c!==void 0&&i.searchParams.set(o,c);return i.toString()}async function n2(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function r2(n){const a=n.fetchImpl??globalThis.fetch;return{async request({method:r,path:i,query:o,body:c,headers:h}){const g=a2(n.baseUrl,i,o),m=await n2(n.auth),p=await a(g,{method:r,headers:{...c?{"Content-Type":"application/json"}:{},...m,...h},body:c?JSON.stringify(c):void 0}),v=await p.text(),w=(p.headers.get("content-type")||"").includes("application/json"),x=w&&v?JSON.parse(v):v;if(!p.ok){const _=w?x:void 0,S=_?.error;throw new pi(S?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:S?.type,icebergCode:S?.code,details:_})}return{status:p.status,headers:p.headers,data:x}}}}function Kl(n){return n.join("")}var s2=class{constructor(n,a=""){this.client=n,this.prefix=a}async listNamespaces(n){const a=n?{parent:Kl(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(n,a){const r={namespace:n.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Kl(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Kl(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Kl(n.namespace)}`}),!0}catch(a){if(a instanceof pi&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(n,a){try{return await this.createNamespace(n,a)}catch(r){if(r instanceof pi&&r.status===409)return;throw r}}};function Br(n){return n.join("")}var i2=class{constructor(n,a="",r){this.client=n,this.prefix=a,this.accessDelegation=r}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Br(n.namespace)}/tables`})).data.identifiers}async createTable(n,a){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Br(n.namespace)}/tables`,body:a,headers:r})).data.metadata}async updateTable(n,a){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Br(n.namespace)}/tables/${n.name}`,body:a});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(n,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Br(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(n){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Br(n.namespace)}/tables/${n.name}`,headers:a})).data.metadata}async tableExists(n){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Br(n.namespace)}/tables/${n.name}`,headers:a}),!0}catch(r){if(r instanceof pi&&r.status===404)return!1;throw r}}async createTableIfNotExists(n,a){try{return await this.createTable(n,a)}catch(r){if(r instanceof pi&&r.status===409)return await this.loadTable({namespace:n.namespace,name:a.name});throw r}}},l2=class{constructor(n){let a="v1";n.catalogName&&(a+=`/${n.catalogName}`);const r=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=r2({baseUrl:r,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new s2(this.client,a),this.tableOps=new i2(this.client,a,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,a){return this.namespaceOps.createNamespace(n,a)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,a){return this.tableOps.createTable(n,a)}async updateTable(n,a){return this.tableOps.updateTable(n,a)}async dropTable(n,a){await this.tableOps.dropTable(n,a)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,a){return this.namespaceOps.createNamespaceIfNotExists(n,a)}async createTableIfNotExists(n,a){return this.tableOps.createTableIfNotExists(n,a)}},No=class extends Error{constructor(n,a="storage",r,i){super(n),this.__isStorageError=!0,this.namespace=a,this.name=a==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=i}};function ko(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var Yl=class extends No{constructor(n,a,r,i="storage"){super(n,i,a,r),this.name=i==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=a,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Dp=class extends No{constructor(n,a,r="storage"){super(n,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=a}};const o2=n=>n?(...a)=>n(...a):(...a)=>fetch(...a),c2=n=>{if(typeof n!="object"||n===null)return!1;const a=Object.getPrototypeOf(n);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},xd=n=>{if(Array.isArray(n))return n.map(r=>xd(r));if(typeof n=="function"||n!==Object(n))return n;const a={};return Object.entries(n).forEach(([r,i])=>{const o=r.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));a[o]=xd(i)}),a},u2=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function yi(n){"@babel/helpers - typeof";return yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},yi(n)}function d2(n,a){if(yi(n)!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,a);if(yi(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(n)}function f2(n){var a=d2(n,"string");return yi(a)=="symbol"?a:a+""}function h2(n,a,r){return(a=f2(a))in n?Object.defineProperty(n,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[a]=r,n}function U0(n,a){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);a&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function de(n){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?U0(Object(r),!0).forEach(function(i){h2(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):U0(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}const M0=n=>{var a;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(a=n.error)===null||a===void 0?void 0:a.message)||JSON.stringify(n)},g2=async(n,a,r,i)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!r?.noResolveJson){const o=n,c=o.status||500;if(typeof o.json=="function")o.json().then(h=>{const g=h?.statusCode||h?.code||c+"";a(new Yl(M0(h),c,g,i))}).catch(()=>{if(i==="vectors"){const h=c+"";a(new Yl(o.statusText||`HTTP ${c} error`,c,h,i))}else{const h=c+"";a(new Yl(o.statusText||`HTTP ${c} error`,c,h,i))}});else{const h=c+"";a(new Yl(o.statusText||`HTTP ${c} error`,c,h,i))}}else a(new Dp(M0(n),n,i))},m2=(n,a,r,i)=>{const o={method:n,headers:a?.headers||{}};return n==="GET"||n==="HEAD"||!i?de(de({},o),r):(c2(i)?(o.headers=de({"Content-Type":"application/json"},a?.headers),o.body=JSON.stringify(i)):o.body=i,a?.duplex&&(o.duplex=a.duplex),de(de({},o),r))};async function ri(n,a,r,i,o,c,h){return new Promise((g,m)=>{n(r,m2(a,i,o,c)).then(p=>{if(!p.ok)throw p;if(i?.noResolveJson)return p;if(h==="vectors"){const v=p.headers.get("content-type");if(p.headers.get("content-length")==="0"||p.status===204)return{};if(!v||!v.includes("application/json"))return{}}return p.json()}).then(p=>g(p)).catch(p=>g2(p,m,i,h))})}function Lp(n="storage"){return{get:async(a,r,i,o)=>ri(a,"GET",r,i,o,void 0,n),post:async(a,r,i,o,c)=>ri(a,"POST",r,o,c,i,n),put:async(a,r,i,o,c)=>ri(a,"PUT",r,o,c,i,n),head:async(a,r,i,o)=>ri(a,"HEAD",r,de(de({},i),{},{noResolveJson:!0}),o,void 0,n),remove:async(a,r,i,o,c)=>ri(a,"DELETE",r,o,c,i,n)}}const p2=Lp("storage"),{get:vi,post:ua,put:wd,head:y2,remove:Bd}=p2,Gt=Lp("vectors");var ts=class{constructor(n,a={},r,i="storage"){this.shouldThrowOnError=!1,this.url=n,this.headers=a,this.fetch=o2(r),this.namespace=i}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(n){var a=this;try{return{data:await n(),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(ko(r))return{data:null,error:r};throw r}}},v2=class{constructor(n,a){this.downloadFn=n,this.shouldThrowOnError=a}then(n,a){return this.execute().then(n,a)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ko(a))return{data:null,error:a};throw a}}};let zp;zp=Symbol.toStringTag;var b2=class{constructor(n,a){this.downloadFn=n,this.shouldThrowOnError=a,this[zp]="BlobDownloadBuilder",this.promise=null}asStream(){return new v2(this.downloadFn,this.shouldThrowOnError)}then(n,a){return this.getPromise().then(n,a)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ko(a))return{data:null,error:a};throw a}}};const x2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},q0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var w2=class extends ts{constructor(n,a={},r,i){super(n,a,i,"storage"),this.bucketId=r}async uploadOrUpdate(n,a,r,i){var o=this;return o.handleOperation(async()=>{let c;const h=de(de({},q0),i);let g=de(de({},o.headers),n==="POST"&&{"x-upsert":String(h.upsert)});const m=h.metadata;typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),m&&c.append("metadata",o.encodeMetadata(m)),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.has("cacheControl")||c.append("cacheControl",h.cacheControl),m&&!c.has("metadata")&&c.append("metadata",o.encodeMetadata(m))):(c=r,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType,m&&(g["x-metadata"]=o.toBase64(o.encodeMetadata(m))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!h.duplex&&(h.duplex="half")),i?.headers&&(g=de(de({},g),i.headers));const p=o._removeEmptyFolders(a),v=o._getFinalPath(p),w=await(n=="PUT"?wd:ua)(o.fetch,`${o.url}/object/${v}`,c,de({headers:g},h?.duplex?{duplex:h.duplex}:{}));return{path:p,id:w.Id,fullPath:w.Key}})}async upload(n,a,r){return this.uploadOrUpdate("POST",n,a,r)}async uploadToSignedUrl(n,a,r,i){var o=this;const c=o._removeEmptyFolders(n),h=o._getFinalPath(c),g=new URL(o.url+`/object/upload/sign/${h}`);return g.searchParams.set("token",a),o.handleOperation(async()=>{let m;const p=de({upsert:q0.upsert},i),v=de(de({},o.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&r instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",r)):typeof FormData<"u"&&r instanceof FormData?(m=r,m.append("cacheControl",p.cacheControl)):(m=r,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType),{path:c,fullPath:(await wd(o.fetch,g.toString(),m,{headers:v})).Key}})}async createSignedUploadUrl(n,a){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(n);const o=de({},r.headers);a?.upsert&&(o["x-upsert"]="true");const c=await ua(r.fetch,`${r.url}/object/upload/sign/${i}`,{},{headers:o}),h=new URL(r.url+c.url),g=h.searchParams.get("token");if(!g)throw new No("No token returned by API");return{signedUrl:h.toString(),path:n,token:g}})}async update(n,a,r){return this.uploadOrUpdate("PUT",n,a,r)}async move(n,a,r){var i=this;return i.handleOperation(async()=>await ua(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:n,destinationKey:a,destinationBucket:r?.destinationBucket},{headers:i.headers}))}async copy(n,a,r){var i=this;return i.handleOperation(async()=>({path:(await ua(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:n,destinationKey:a,destinationBucket:r?.destinationBucket},{headers:i.headers})).Key}))}async createSignedUrl(n,a,r){var i=this;return i.handleOperation(async()=>{let o=i._getFinalPath(n),c=await ua(i.fetch,`${i.url}/object/sign/${o}`,de({expiresIn:a},r?.transform?{transform:r.transform}:{}),{headers:i.headers});const h=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${i.url}${c.signedURL}${h}`)}})}async createSignedUrls(n,a,r){var i=this;return i.handleOperation(async()=>{const o=await ua(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:a,paths:n},{headers:i.headers}),c=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o.map(h=>de(de({},h),{},{signedUrl:h.signedURL?encodeURI(`${i.url}${h.signedURL}${c}`):null}))})}download(n,a,r){const i=typeof a?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(a?.transform||{}),c=o?`?${o}`:"",h=this._getFinalPath(n),g=()=>vi(this.fetch,`${this.url}/${i}/${h}${c}`,{headers:this.headers,noResolveJson:!0},r);return new b2(g,this.shouldThrowOnError)}async info(n){var a=this;const r=a._getFinalPath(n);return a.handleOperation(async()=>xd(await vi(a.fetch,`${a.url}/object/info/${r}`,{headers:a.headers})))}async exists(n){var a=this;const r=a._getFinalPath(n);try{return await y2(a.fetch,`${a.url}/object/${r}`,{headers:a.headers}),{data:!0,error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(ko(i)&&i instanceof Dp){const o=i.originalError;if([400,404].includes(o?.status))return{data:!1,error:i}}throw i}}getPublicUrl(n,a){const r=this._getFinalPath(n),i=[],o=a?.download?`download=${a.download===!0?"":a.download}`:"";o!==""&&i.push(o);const c=typeof a?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(a?.transform||{});h!==""&&i.push(h);let g=i.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${g}`)}}}async remove(n){var a=this;return a.handleOperation(async()=>await Bd(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:n},{headers:a.headers}))}async list(n,a,r){var i=this;return i.handleOperation(async()=>{const o=de(de(de({},x2),a),{},{prefix:n||""});return await ua(i.fetch,`${i.url}/object/list/${i.bucketId}`,o,{headers:i.headers},r)})}async listV2(n,a){var r=this;return r.handleOperation(async()=>{const i=de({},n);return await ua(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,i,{headers:r.headers},a)})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const a=[];return n.width&&a.push(`width=${n.width}`),n.height&&a.push(`height=${n.height}`),n.resize&&a.push(`resize=${n.resize}`),n.format&&a.push(`format=${n.format}`),n.quality&&a.push(`quality=${n.quality}`),a.join("&")}};const S2="2.95.3",_i={"X-Client-Info":`storage-js/${S2}`};var _2=class extends ts{constructor(n,a={},r,i){const o=new URL(n);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const c=o.href.replace(/\/$/,""),h=de(de({},_i),a);super(c,h,r,"storage")}async listBuckets(n){var a=this;return a.handleOperation(async()=>{const r=a.listBucketOptionsToQueryString(n);return await vi(a.fetch,`${a.url}/bucket${r}`,{headers:a.headers})})}async getBucket(n){var a=this;return a.handleOperation(async()=>await vi(a.fetch,`${a.url}/bucket/${n}`,{headers:a.headers}))}async createBucket(n,a={public:!1}){var r=this;return r.handleOperation(async()=>await ua(r.fetch,`${r.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:r.headers}))}async updateBucket(n,a){var r=this;return r.handleOperation(async()=>await wd(r.fetch,`${r.url}/bucket/${n}`,{id:n,name:n,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(n){var a=this;return a.handleOperation(async()=>await ua(a.fetch,`${a.url}/bucket/${n}/empty`,{},{headers:a.headers}))}async deleteBucket(n){var a=this;return a.handleOperation(async()=>await Bd(a.fetch,`${a.url}/bucket/${n}`,{},{headers:a.headers}))}listBucketOptionsToQueryString(n){const a={};return n&&("limit"in n&&(a.limit=String(n.limit)),"offset"in n&&(a.offset=String(n.offset)),n.search&&(a.search=n.search),n.sortColumn&&(a.sortColumn=n.sortColumn),n.sortOrder&&(a.sortOrder=n.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},j2=class extends ts{constructor(n,a={},r){const i=n.replace(/\/$/,""),o=de(de({},_i),a);super(i,o,r,"storage")}async createBucket(n){var a=this;return a.handleOperation(async()=>await ua(a.fetch,`${a.url}/bucket`,{name:n},{headers:a.headers}))}async listBuckets(n){var a=this;return a.handleOperation(async()=>{const r=new URLSearchParams;n?.limit!==void 0&&r.set("limit",n.limit.toString()),n?.offset!==void 0&&r.set("offset",n.offset.toString()),n?.sortColumn&&r.set("sortColumn",n.sortColumn),n?.sortOrder&&r.set("sortOrder",n.sortOrder),n?.search&&r.set("search",n.search);const i=r.toString(),o=i?`${a.url}/bucket?${i}`:`${a.url}/bucket`;return await vi(a.fetch,o,{headers:a.headers})})}async deleteBucket(n){var a=this;return a.handleOperation(async()=>await Bd(a.fetch,`${a.url}/bucket/${n}`,{},{headers:a.headers}))}from(n){var a=this;if(!u2(n))throw new No("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new l2({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(r,{get(o,c){const h=o[c];return typeof h!="function"?h:async(...g)=>{try{return{data:await h.apply(o,g),error:null}}catch(m){if(i)throw m;return{data:null,error:m}}}}})}},N2=class extends ts{constructor(n,a={},r){const i=n.replace(/\/$/,""),o=de(de({},_i),{},{"Content-Type":"application/json"},a);super(i,o,r,"vectors")}async createIndex(n){var a=this;return a.handleOperation(async()=>await Gt.post(a.fetch,`${a.url}/CreateIndex`,n,{headers:a.headers})||{})}async getIndex(n,a){var r=this;return r.handleOperation(async()=>await Gt.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:n,indexName:a},{headers:r.headers}))}async listIndexes(n){var a=this;return a.handleOperation(async()=>await Gt.post(a.fetch,`${a.url}/ListIndexes`,n,{headers:a.headers}))}async deleteIndex(n,a){var r=this;return r.handleOperation(async()=>await Gt.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:n,indexName:a},{headers:r.headers})||{})}},k2=class extends ts{constructor(n,a={},r){const i=n.replace(/\/$/,""),o=de(de({},_i),{},{"Content-Type":"application/json"},a);super(i,o,r,"vectors")}async putVectors(n){var a=this;if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return a.handleOperation(async()=>await Gt.post(a.fetch,`${a.url}/PutVectors`,n,{headers:a.headers})||{})}async getVectors(n){var a=this;return a.handleOperation(async()=>await Gt.post(a.fetch,`${a.url}/GetVectors`,n,{headers:a.headers}))}async listVectors(n){var a=this;if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return a.handleOperation(async()=>await Gt.post(a.fetch,`${a.url}/ListVectors`,n,{headers:a.headers}))}async queryVectors(n){var a=this;return a.handleOperation(async()=>await Gt.post(a.fetch,`${a.url}/QueryVectors`,n,{headers:a.headers}))}async deleteVectors(n){var a=this;if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return a.handleOperation(async()=>await Gt.post(a.fetch,`${a.url}/DeleteVectors`,n,{headers:a.headers})||{})}},A2=class extends ts{constructor(n,a={},r){const i=n.replace(/\/$/,""),o=de(de({},_i),{},{"Content-Type":"application/json"},a);super(i,o,r,"vectors")}async createBucket(n){var a=this;return a.handleOperation(async()=>await Gt.post(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:a.headers})||{})}async getBucket(n){var a=this;return a.handleOperation(async()=>await Gt.post(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:n},{headers:a.headers}))}async listBuckets(n={}){var a=this;return a.handleOperation(async()=>await Gt.post(a.fetch,`${a.url}/ListVectorBuckets`,n,{headers:a.headers}))}async deleteBucket(n){var a=this;return a.handleOperation(async()=>await Gt.post(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:a.headers})||{})}},C2=class extends A2{constructor(n,a={}){super(n,a.headers||{},a.fetch)}from(n){return new E2(this.url,this.headers,n,this.fetch)}async createBucket(n){var a=()=>super.createBucket,r=this;return a().call(r,n)}async getBucket(n){var a=()=>super.getBucket,r=this;return a().call(r,n)}async listBuckets(n={}){var a=()=>super.listBuckets,r=this;return a().call(r,n)}async deleteBucket(n){var a=()=>super.deleteBucket,r=this;return a().call(r,n)}},E2=class extends N2{constructor(n,a,r,i){super(n,a,i),this.vectorBucketName=r}async createIndex(n){var a=()=>super.createIndex,r=this;return a().call(r,de(de({},n),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(n={}){var a=()=>super.listIndexes,r=this;return a().call(r,de(de({},n),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(n){var a=()=>super.getIndex,r=this;return a().call(r,r.vectorBucketName,n)}async deleteIndex(n){var a=()=>super.deleteIndex,r=this;return a().call(r,r.vectorBucketName,n)}index(n){return new T2(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},T2=class extends k2{constructor(n,a,r,i,o){super(n,a,o),this.vectorBucketName=r,this.indexName=i}async putVectors(n){var a=()=>super.putVectors,r=this;return a().call(r,de(de({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(n){var a=()=>super.getVectors,r=this;return a().call(r,de(de({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(n={}){var a=()=>super.listVectors,r=this;return a().call(r,de(de({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(n){var a=()=>super.queryVectors,r=this;return a().call(r,de(de({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(n){var a=()=>super.deleteVectors,r=this;return a().call(r,de(de({},n),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},O2=class extends _2{constructor(n,a={},r,i){super(n,a,r,i)}from(n){return new w2(this.url,this.headers,n,this.fetch)}get vectors(){return new C2(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new j2(this.url+"/iceberg",this.headers,this.fetch)}};const Up="2.95.3",Kr=30*1e3,Sd=3,nd=Sd*Kr,R2="http://localhost:9999",D2="supabase.auth.token",L2={"X-Client-Info":`gotrue-js/${Up}`},_d="X-Supabase-Api-Version",Mp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},z2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,U2=600*1e3;class bi extends Error{constructor(a,r,i){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function re(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class M2 extends bi{constructor(a,r,i){super(a,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function q2(n){return re(n)&&n.name==="AuthApiError"}class Hn extends bi{constructor(a,r){super(a),this.name="AuthUnknownError",this.originalError=r}}class Va extends bi{constructor(a,r,i,o){super(a,i,o),this.name=r,this.status=i}}class Ht extends Va{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function rd(n){return re(n)&&n.name==="AuthSessionMissingError"}class $r extends Va{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ql extends Va{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class Jl extends Va{constructor(a,r=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function B2(n){return re(n)&&n.name==="AuthImplicitGrantRedirectError"}class B0 extends Va{constructor(a,r=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $2 extends Va{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class jd extends Va{constructor(a,r){super(a,"AuthRetryableFetchError",r,void 0)}}function sd(n){return re(n)&&n.name==="AuthRetryableFetchError"}class $0 extends Va{constructor(a,r,i){super(a,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class Nd extends Va{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const fo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),V0=` 	
\r=`.split(""),V2=(()=>{const n=new Array(128);for(let a=0;a<n.length;a+=1)n[a]=-1;for(let a=0;a<V0.length;a+=1)n[V0[a].charCodeAt(0)]=-2;for(let a=0;a<fo.length;a+=1)n[fo[a].charCodeAt(0)]=a;return n})();function P0(n,a,r){if(n!==null)for(a.queue=a.queue<<8|n,a.queuedBits+=8;a.queuedBits>=6;){const i=a.queue>>a.queuedBits-6&63;r(fo[i]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const i=a.queue>>a.queuedBits-6&63;r(fo[i]),a.queuedBits-=6}}function qp(n,a,r){const i=V2[n];if(i>-1)for(a.queue=a.queue<<6|i,a.queuedBits+=6;a.queuedBits>=8;)r(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function I0(n){const a=[],r=h=>{a.push(String.fromCodePoint(h))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=h=>{H2(h,i,r)};for(let h=0;h<n.length;h+=1)qp(n.charCodeAt(h),o,c);return a.join("")}function P2(n,a){if(n<=127){a(n);return}else if(n<=2047){a(192|n>>6),a(128|n&63);return}else if(n<=65535){a(224|n>>12),a(128|n>>6&63),a(128|n&63);return}else if(n<=1114111){a(240|n>>18),a(128|n>>12&63),a(128|n>>6&63),a(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function I2(n,a){for(let r=0;r<n.length;r+=1){let i=n.charCodeAt(r);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(n.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}P2(i,a)}}function H2(n,a,r){if(a.utf8seq===0){if(n<=127){r(n);return}for(let i=1;i<6;i+=1)if((n>>7-i&1)===0){a.utf8seq=i;break}if(a.utf8seq===2)a.codepoint=n&31;else if(a.utf8seq===3)a.codepoint=n&15;else if(a.utf8seq===4)a.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|n&63,a.utf8seq-=1,a.utf8seq===0&&r(a.codepoint)}}function Xr(n){const a=[],r={queue:0,queuedBits:0},i=o=>{a.push(o)};for(let o=0;o<n.length;o+=1)qp(n.charCodeAt(o),r,i);return new Uint8Array(a)}function G2(n){const a=[];return I2(n,r=>a.push(r)),new Uint8Array(a)}function Gn(n){const a=[],r={queue:0,queuedBits:0},i=o=>{a.push(o)};return n.forEach(o=>P0(o,r,i)),P0(null,r,i),a.join("")}function K2(n){return Math.round(Date.now()/1e3)+n}function Y2(){return Symbol("auth-callback")}const xt=()=>typeof window<"u"&&typeof document<"u",$n={tested:!1,writable:!1},Bp=()=>{if(!xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($n.tested)return $n.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),$n.tested=!0,$n.writable=!0}catch{$n.tested=!0,$n.writable=!1}return $n.writable};function Q2(n){const a={},r=new URL(n);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,c)=>{a[c]=o})}catch{}return r.searchParams.forEach((i,o)=>{a[o]=i}),a}const $p=n=>n?(...a)=>n(...a):(...a)=>fetch(...a),J2=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Yr=async(n,a,r)=>{await n.setItem(a,JSON.stringify(r))},Vn=async(n,a)=>{const r=await n.getItem(a);if(!r)return null;try{return JSON.parse(r)}catch{return r}},bt=async(n,a)=>{await n.removeItem(a)};class Ao{constructor(){this.promise=new Ao.promiseConstructor((a,r)=>{this.resolve=a,this.reject=r})}}Ao.promiseConstructor=Promise;function Xl(n){const a=n.split(".");if(a.length!==3)throw new Nd("Invalid JWT structure");for(let i=0;i<a.length;i++)if(!z2.test(a[i]))throw new Nd("JWT not in base64url format");return{header:JSON.parse(I0(a[0])),payload:JSON.parse(I0(a[1])),signature:Xr(a[2]),raw:{header:a[0],payload:a[1]}}}async function X2(n){return await new Promise(a=>{setTimeout(()=>a(null),n)})}function F2(n,a){return new Promise((i,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const h=await n(c);if(!a(c,null,h)){i(h);return}}catch(h){if(!a(c,h)){o(h);return}}})()})}function Z2(n){return("0"+n.toString(16)).substr(-2)}function W2(){const a=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let o="";for(let c=0;c<56;c++)o+=r.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(a),Array.from(a,Z2).join("")}async function e_(n){const r=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(i);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function t_(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const r=await e_(n);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vr(n,a,r=!1){const i=W2();let o=i;r&&(o+="/PASSWORD_RECOVERY"),await Yr(n,`${a}-code-verifier`,o);const c=await t_(i);return[c,i===c?"plain":"s256"]}const a_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function n_(n){const a=n.headers.get(_d);if(!a||!a.match(a_))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function r_(n){if(!n)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(n<=a)throw new Error("JWT has expired")}function s_(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const i_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Pr(n){if(!i_.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function id(){const n={};return new Proxy(n,{get:(a,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function l_(n,a){return new Proxy(n,{get:(r,i,o)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const c=i.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,i,o)}return!a.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(r,i,o)}})}function H0(n){return JSON.parse(JSON.stringify(n))}const Pn=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),o_=[502,503,504];async function G0(n){var a;if(!J2(n))throw new jd(Pn(n),0);if(o_.includes(n.status))throw new jd(Pn(n),n.status);let r;try{r=await n.json()}catch(c){throw new Hn(Pn(c),c)}let i;const o=n_(n);if(o&&o.getTime()>=Mp["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new $0(Pn(r),n.status,((a=r.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(i==="session_not_found")throw new Ht}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((c,h)=>c&&typeof h=="string",!0))throw new $0(Pn(r),n.status,r.weak_password.reasons);throw new M2(Pn(r),n.status||500,i)}const c_=(n,a,r,i)=>{const o={method:n,headers:a?.headers||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),r))};async function ue(n,a,r,i){var o;const c=Object.assign({},i?.headers);c[_d]||(c[_d]=Mp["2024-01-01"].name),i?.jwt&&(c.Authorization=`Bearer ${i.jwt}`);const h=(o=i?.query)!==null&&o!==void 0?o:{};i?.redirectTo&&(h.redirect_to=i.redirectTo);const g=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",m=await u_(n,a,r+g,{headers:c,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(m):{data:Object.assign({},m),error:null}}async function u_(n,a,r,i,o,c){const h=c_(a,i,o,c);let g;try{g=await n(r,Object.assign({},h))}catch(m){throw console.error(m),new jd(Pn(m),0)}if(g.ok||await G0(g),i?.noResolveJson)return g;try{return await g.json()}catch(m){await G0(m)}}function oa(n){var a;let r=null;h_(n)&&(r=Object.assign({},n),n.expires_at||(r.expires_at=K2(n.expires_in)));const i=(a=n.user)!==null&&a!==void 0?a:n;return{data:{session:r,user:i},error:null}}function K0(n){const a=oa(n);return!a.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(a.data.weak_password=n.weak_password),a}function pn(n){var a;return{data:{user:(a=n.user)!==null&&a!==void 0?a:n},error:null}}function d_(n){return{data:n,error:null}}function f_(n){const{action_link:a,email_otp:r,hashed_token:i,redirect_to:o,verification_type:c}=n,h=jo(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:a,email_otp:r,hashed_token:i,redirect_to:o,verification_type:c},m=Object.assign({},h);return{data:{properties:g,user:m},error:null}}function Y0(n){return n}function h_(n){return n.access_token&&n.refresh_token&&n.expires_in}const ld=["global","local","others"];class g_{constructor({url:a="",headers:r={},fetch:i}){this.url=a,this.headers=r,this.fetch=$p(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,r=ld[0]){if(ld.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ld.join(", ")}`);try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(i){if(re(i))return{data:null,error:i};throw i}}async inviteUserByEmail(a,r={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:pn})}catch(i){if(re(i))return{data:{user:null},error:i};throw i}}async generateLink(a){try{const{options:r}=a,i=jo(a,["options"]),o=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:f_,redirectTo:r?.redirectTo})}catch(r){if(re(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(a){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:pn})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async listUsers(a){var r,i,o,c,h,g,m;try{const p={nextPage:null,lastPage:0,total:0},v=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=a?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(c=(o=a?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:Y0});if(v.error)throw v.error;const w=await v.json(),x=(h=v.headers.get("x-total-count"))!==null&&h!==void 0?h:0,_=(m=(g=v.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return _.length>0&&(_.forEach(S=>{const N=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(S.split(";")[1].split("=")[1]);p[`${j}Page`]=N}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},w),p),error:null}}catch(p){if(re(p))return{data:{users:[]},error:p};throw p}}async getUserById(a){Pr(a);try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:pn})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async updateUserById(a,r){Pr(a);try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:r,headers:this.headers,xform:pn})}catch(i){if(re(i))return{data:{user:null},error:i};throw i}}async deleteUser(a,r=!1){Pr(a);try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:r},xform:pn})}catch(i){if(re(i))return{data:{user:null},error:i};throw i}}async _listFactors(a){Pr(a.userId);try{const{data:r,error:i}=await ue(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:i}}catch(r){if(re(r))return{data:null,error:r};throw r}}async _deleteFactor(a){Pr(a.userId),Pr(a.id);try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}async _listOAuthClients(a){var r,i,o,c,h,g,m;try{const p={nextPage:null,lastPage:0,total:0},v=await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=a?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(c=(o=a?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:Y0});if(v.error)throw v.error;const w=await v.json(),x=(h=v.headers.get("x-total-count"))!==null&&h!==void 0?h:0,_=(m=(g=v.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return _.length>0&&(_.forEach(S=>{const N=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(S.split(";")[1].split("=")[1]);p[`${j}Page`]=N}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},w),p),error:null}}catch(p){if(re(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(a){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _getOAuthClient(a){try{return await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _updateOAuthClient(a,r){try{return await ue(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(re(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(a){try{return await ue(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(a){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}}function Q0(n={}){return{getItem:a=>n[a]||null,setItem:(a,r)=>{n[a]=r},removeItem:a=>{delete n[a]}}}const Ir={debug:!!(globalThis&&Bp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Vp extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class m_ extends Vp{}async function p_(n,a,r){Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,a);const i=new globalThis.AbortController;return a>0&&setTimeout(()=>{i.abort(),Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await r()}finally{Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(a===0)throw Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new m_(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Ir.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function y_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Pp(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function v_(n){return parseInt(n,16)}function b_(n){const a=new TextEncoder().encode(n);return"0x"+Array.from(a,i=>i.toString(16).padStart(2,"0")).join("")}function x_(n){var a;const{chainId:r,domain:i,expirationTime:o,issuedAt:c=new Date,nonce:h,notBefore:g,requestId:m,resources:p,scheme:v,uri:w,version:x}=n;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((a=n.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const _=Pp(n.address),S=v?`${v}://${i}`:i,N=n.statement?`${n.statement}
`:"",j=`${S} wants you to sign in with your Ethereum account:
${_}

${N}`;let A=`URI: ${w}
Version: ${x}
Chain ID: ${r}${h?`
Nonce: ${h}`:""}
Issued At: ${c.toISOString()}`;if(o&&(A+=`
Expiration Time: ${o.toISOString()}`),g&&(A+=`
Not Before: ${g.toISOString()}`),m&&(A+=`
Request ID: ${m}`),p){let R=`
Resources:`;for(const C of p){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);R+=`
- ${C}`}A+=R}return`${j}
${A}`}class it extends Error{constructor({message:a,code:r,cause:i,name:o}){var c;super(a,{cause:i}),this.__isWebAuthnError=!0,this.name=(c=o??(i instanceof Error?i.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=r}}class ho extends it{constructor(a,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:a}),this.name="WebAuthnUnknownError",this.originalError=r}}function w_({error:n,options:a}){var r,i,o;const{publicKey:c}=a;if(!c)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(a.signal instanceof AbortSignal)return new it({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((r=c.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new it({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(a.mediation==="conditional"&&((i=c.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new it({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new it({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new it({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new it({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return c.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new it({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new it({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const h=window.location.hostname;if(Ip(h)){if(c.rp.id!==h)return new it({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new it({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new it({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new it({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new it({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function S_({error:n,options:a}){const{publicKey:r}=a;if(!r)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(a.signal instanceof AbortSignal)return new it({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new it({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const i=window.location.hostname;if(Ip(i)){if(r.rpId!==i)return new it({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new it({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new it({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new it({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class __{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const j_=new __;function N_(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:a,user:r,excludeCredentials:i}=n,o=jo(n,["challenge","user","excludeCredentials"]),c=Xr(a).buffer,h=Object.assign(Object.assign({},r),{id:Xr(r.id).buffer}),g=Object.assign(Object.assign({},o),{challenge:c,user:h});if(i&&i.length>0){g.excludeCredentials=new Array(i.length);for(let m=0;m<i.length;m++){const p=i[m];g.excludeCredentials[m]=Object.assign(Object.assign({},p),{id:Xr(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return g}function k_(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:a,allowCredentials:r}=n,i=jo(n,["challenge","allowCredentials"]),o=Xr(a).buffer,c=Object.assign(Object.assign({},i),{challenge:o});if(r&&r.length>0){c.allowCredentials=new Array(r.length);for(let h=0;h<r.length;h++){const g=r[h];c.allowCredentials[h]=Object.assign(Object.assign({},g),{id:Xr(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return c}function A_(n){var a;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const r=n;return{id:n.id,rawId:n.id,response:{attestationObject:Gn(new Uint8Array(n.response.attestationObject)),clientDataJSON:Gn(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function C_(n){var a;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const r=n,i=n.getClientExtensionResults(),o=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:Gn(new Uint8Array(o.authenticatorData)),clientDataJSON:Gn(new Uint8Array(o.clientDataJSON)),signature:Gn(new Uint8Array(o.signature)),userHandle:o.userHandle?Gn(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Ip(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function J0(){var n,a;return!!(xt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function E_(n){try{const a=await navigator.credentials.create(n);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new ho("Browser returned unexpected credential type",a)}:{data:null,error:new ho("Empty credential response",a)}}catch(a){return{data:null,error:w_({error:a,options:n})}}}async function T_(n){try{const a=await navigator.credentials.get(n);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new ho("Browser returned unexpected credential type",a)}:{data:null,error:new ho("Empty credential response",a)}}catch(a){return{data:null,error:S_({error:a,options:n})}}}const O_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},R_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function go(...n){const a=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),i={};for(const o of n)if(o)for(const c in o){const h=o[c];if(h!==void 0)if(Array.isArray(h))i[c]=h;else if(r(h))i[c]=h;else if(a(h)){const g=i[c];a(g)?i[c]=go(g,h):i[c]=go(h)}else i[c]=h}return i}function D_(n,a){return go(O_,n,a||{})}function L_(n,a){return go(R_,n,a||{})}class z_{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:r,friendlyName:i,signal:o},c){var h;try{const{data:g,error:m}=await this.client.mfa.challenge({factorId:a,webauthn:r});if(!g)return{data:null,error:m};const p=o??j_.createNewAbortSignal();if(g.webauthn.type==="create"){const{user:v}=g.webauthn.credential_options.publicKey;if(!v.name){const w=i;if(w)v.name=`${v.id}:${w}`;else{const _=(await this.client.getUser()).data.user,S=((h=_?.user_metadata)===null||h===void 0?void 0:h.name)||_?.email||_?.id||"User";v.name=`${v.id}:${S}`}}v.displayName||(v.displayName=v.name)}switch(g.webauthn.type){case"create":{const v=D_(g.webauthn.credential_options.publicKey,c?.create),{data:w,error:x}=await E_({publicKey:v,signal:p});return w?{data:{factorId:a,challengeId:g.id,webauthn:{type:g.webauthn.type,credential_response:w}},error:null}:{data:null,error:x}}case"request":{const v=L_(g.webauthn.credential_options.publicKey,c?.request),{data:w,error:x}=await T_(Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:v,signal:p}));return w?{data:{factorId:a,challengeId:g.id,webauthn:{type:g.webauthn.type,credential_response:w}},error:null}:{data:null,error:x}}}}catch(g){return re(g)?{data:null,error:g}:{data:null,error:new Hn("Unexpected error in challenge",g)}}}async _verify({challengeId:a,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:a,webauthn:i})}async _authenticate({factorId:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!r)return{data:null,error:new bi("rpId is required for WebAuthn authentication")};try{if(!J0())return{data:null,error:new Hn("Browser does not support WebAuthn",null)};const{data:h,error:g}=await this.challenge({factorId:a,webauthn:{rpId:r,rpOrigins:i},signal:o},{request:c});if(!h)return{data:null,error:g};const{webauthn:m}=h;return this._verify({factorId:a,challengeId:h.challengeId,webauthn:{type:m.type,rpId:r,rpOrigins:i,credential_response:m.credential_response}})}catch(h){return re(h)?{data:null,error:h}:{data:null,error:new Hn("Unexpected error in authenticate",h)}}}async _register({friendlyName:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!r)return{data:null,error:new bi("rpId is required for WebAuthn registration")};try{if(!J0())return{data:null,error:new Hn("Browser does not support WebAuthn",null)};const{data:h,error:g}=await this._enroll({friendlyName:a});if(!h)return await this.client.mfa.listFactors().then(v=>{var w;return(w=v.data)===null||w===void 0?void 0:w.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===a&&x.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:g};const{data:m,error:p}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:o},{create:c});return m?this._verify({factorId:h.id,challengeId:m.challengeId,webauthn:{rpId:r,rpOrigins:i,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:p}}catch(h){return re(h)?{data:null,error:h}:{data:null,error:new Hn("Unexpected error in register",h)}}}}y_();const U_={url:R2,storageKey:D2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:L2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function X0(n,a,r){return await r()}const Hr={};class xi{get jwks(){var a,r;return(r=(a=Hr[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(a){Hr[this.storageKey]=Object.assign(Object.assign({},Hr[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,r;return(r=(a=Hr[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){Hr[this.storageKey]=Object.assign(Object.assign({},Hr[this.storageKey]),{cachedAt:a})}constructor(a){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},U_),a);if(this.storageKey=c.storageKey,this.instanceID=(r=xi.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,xi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&xt()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new g_({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=$p(c.fetch),this.lock=c.lock||X0,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,this.lockAcquireTimeout=c.lockAcquireTimeout,c.lock?this.lock=c.lock:this.persistSession&&xt()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=p_:this.lock=X0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new z_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:Bp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Q0(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=Q0(this.memoryStorage)),xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h);try{await this._notifyAllSubscribers(h.data.event,h.data.session,!1)}catch(g){this._debug("#broadcastChannel","error",g)}})}this.initialize().catch(h=>{this._debug("#initialize()","error",h)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Up}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let r={},i="none";if(xt()&&(r=Q2(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),xt()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:c}=await this._getSessionFromURL(r,i);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),B2(c)){const m=(a=c.details)===null||a===void 0?void 0:a.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return{error:c}}const{session:h,redirectType:g}=o;return this._debug("#_initialize()","detected session in URL",h,"redirect type",g),await this._saveSession(h),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return re(r)?this._returnResult({error:r}):this._returnResult({error:new Hn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var r,i,o;try{const c=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=a?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=a?.options)===null||o===void 0?void 0:o.captchaToken}},xform:oa}),{data:h,error:g}=c;if(g||!h)return this._returnResult({data:{user:null,session:null},error:g});const m=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(c){if(re(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(a){var r,i,o;try{let c;if("email"in a){const{email:v,password:w,options:x}=a;let _=null,S=null;this.flowType==="pkce"&&([_,S]=await Vr(this.storage,this.storageKey)),c=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:v,password:w,data:(r=x?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:_,code_challenge_method:S},xform:oa})}else if("phone"in a){const{phone:v,password:w,options:x}=a;c=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:w,data:(i=x?.data)!==null&&i!==void 0?i:{},channel:(o=x?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:oa})}else throw new Ql("You must provide either an email or phone number and a password");const{data:h,error:g}=c;if(g||!h)return await bt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});const m=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(c){if(await bt(this.storage,`${this.storageKey}-code-verifier`),re(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(a){try{let r;if("email"in a){const{email:c,password:h,options:g}=a;r=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:h,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:K0})}else if("phone"in a){const{phone:c,password:h,options:g}=a;r=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:h,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:K0})}else throw new Ql("You must provide either an email or phone number and a password");const{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){const c=new $r;return this._returnResult({data:{user:null,session:null},error:c})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(a){var r,i,o,c;return await this._handleProviderSignIn(a.provider,{redirectTo:(r=a.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=a.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=a.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=a.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:r}=a;switch(r){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(a){var r,i,o,c,h,g,m,p,v,w,x;let _,S;if("message"in a)_=a.message,S=a.signature;else{const{chain:N,wallet:j,statement:A,options:R}=a;let C;if(xt())if(typeof j=="object")C=j;else{const fe=window;if("ethereum"in fe&&typeof fe.ethereum=="object"&&"request"in fe.ethereum&&typeof fe.ethereum.request=="function")C=fe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=j}const B=new URL((r=R?.url)!==null&&r!==void 0?r:window.location.href),J=await C.request({method:"eth_requestAccounts"}).then(fe=>fe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!J||J.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=Pp(J[0]);let G=(i=R?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!G){const fe=await C.request({method:"eth_chainId"});G=v_(fe)}const pe={domain:B.host,address:D,statement:A,uri:B.href,version:"1",chainId:G,nonce:(o=R?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(h=(c=R?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(g=R?.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(m=R?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(p=R?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(v=R?.signInWithEthereum)===null||v===void 0?void 0:v.resources};_=x_(pe),S=await C.request({method:"personal_sign",params:[b_(_),D]})}try{const{data:N,error:j}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:S},!((w=a.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(x=a.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:oa});if(j)throw j;if(!N||!N.session||!N.user){const A=new $r;return this._returnResult({data:{user:null,session:null},error:A})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:j})}catch(N){if(re(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(a){var r,i,o,c,h,g,m,p,v,w,x,_;let S,N;if("message"in a)S=a.message,N=a.signature;else{const{chain:j,wallet:A,statement:R,options:C}=a;let B;if(xt())if(typeof A=="object")B=A;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))B=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=A}const J=new URL((r=C?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in B&&B.signIn){const D=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:J.host,uri:J.href}),R?{statement:R}:null));let G;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")G=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)G=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in G&&"signature"in G&&(typeof G.signedMessage=="string"||G.signedMessage instanceof Uint8Array)&&G.signature instanceof Uint8Array)S=typeof G.signedMessage=="string"?G.signedMessage:new TextDecoder().decode(G.signedMessage),N=G.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${J.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${J.href}`,`Issued At: ${(o=(i=C?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=C?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((h=C?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((g=C?.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((m=C?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((p=C?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((w=(v=C?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||w===void 0)&&w.length?["Resources",...C.signInWithSolana.resources.map(G=>`- ${G}`)]:[]].join(`
`);const D=await B.signMessage(new TextEncoder().encode(S),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=D}}try{const{data:j,error:A}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Gn(N)},!((x=a.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(_=a.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:oa});if(A)throw A;if(!j||!j.session||!j.user){const R=new $r;return this._returnResult({data:{user:null,session:null},error:R})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:A})}catch(j){if(re(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(a){const r=await Vn(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{if(!i&&this.flowType==="pkce")throw new $2;const{data:c,error:h}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:i},xform:oa});if(await bt(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!c||!c.session||!c.user){const g=new $r;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:h})}catch(c){if(await bt(this.storage,`${this.storageKey}-code-verifier`),re(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(a){try{const{options:r,provider:i,token:o,access_token:c,nonce:h}=a,g=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:c,nonce:h,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:oa}),{data:m,error:p}=g;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m||!m.session||!m.user){const v=new $r;return this._returnResult({data:{user:null,session:null},error:v})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:p})}catch(r){if(re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(a){var r,i,o,c,h;try{if("email"in a){const{email:g,options:m}=a;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Vr(this.storage,this.storageKey));const{error:w}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(r=m?.data)!==null&&r!==void 0?r:{},create_user:(i=m?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in a){const{phone:g,options:m}=a,{data:p,error:v}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(o=m?.data)!==null&&o!==void 0?o:{},create_user:(c=m?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(h=m?.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:v})}throw new Ql("You must provide either an email or phone number.")}catch(g){if(await bt(this.storage,`${this.storageKey}-code-verifier`),re(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(a){var r,i;try{let o,c;"options"in a&&(o=(r=a.options)===null||r===void 0?void 0:r.redirectTo,c=(i=a.options)===null||i===void 0?void 0:i.captchaToken);const{data:h,error:g}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:oa});if(g)throw g;if(!h)throw new Error("An error occurred on token verification.");const m=h.session,p=h.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(o){if(re(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(a){var r,i,o,c,h;try{let g=null,m=null;this.flowType==="pkce"&&([g,m]=await Vr(this.storage,this.storageKey));const p=await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(i=(r=a.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=a?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:m}),headers:this.headers,xform:d_});return!((c=p.data)===null||c===void 0)&&c.url&&xt()&&!(!((h=a.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(g){if(await bt(this.storage,`${this.storageKey}-code-verifier`),re(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:r},error:i}=a;if(i)throw i;if(!r)throw new Ht;const{error:o}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(a){if(re(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const r=`${this.url}/resend`;if("email"in a){const{email:i,type:o,options:c}=a,{error:h}=await ue(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in a){const{phone:i,type:o,options:c}=a,{data:h,error:g}=await ue(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:g})}throw new Ql("You must provide either an email or phone number and a type")}catch(r){if(re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(a,r){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await a(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const r=await Vn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?a=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const i=a.expires_at?a.expires_at*1e3-Date.now()<nd:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",a.expires_at),!i){if(this.userStorage){const h=await Vn(this.userStorage,this.storageKey+"-user");h?.user?a.user=h.user:a.user=id()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};a.user=l_(a.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:o,error:c}=await this._callRefreshToken(a.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(a){try{return a?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:pn}):await this._useSession(async r=>{var i,o,c;const{data:h,error:g}=r;if(g)throw g;return!(!((i=h.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ht}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=h.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:pn})})}catch(r){if(re(r))return rd(r)&&(await this._removeSession(),await bt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(a,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,r))}async _updateUser(a,r={}){try{return await this._useSession(async i=>{const{data:o,error:c}=i;if(c)throw c;if(!o.session)throw new Ht;const h=o.session;let g=null,m=null;this.flowType==="pkce"&&a.email!=null&&([g,m]=await Vr(this.storage,this.storageKey));const{data:p,error:v}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:g,code_challenge_method:m}),jwt:h.access_token,xform:pn});if(v)throw v;return h.user=p.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(i){if(await bt(this.storage,`${this.storageKey}-code-verifier`),re(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new Ht;const r=Date.now()/1e3;let i=r,o=!0,c=null;const{payload:h}=Xl(a.access_token);if(h.exp&&(i=h.exp,o=i<=r),o){const{data:g,error:m}=await this._callRefreshToken(a.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!g)return{data:{user:null,session:null},error:null};c=g}else{const{data:g,error:m}=await this._getUser(a.access_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});c={access_token:a.access_token,refresh_token:a.refresh_token,user:g.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(r){if(re(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async r=>{var i;if(!a){const{data:h,error:g}=r;if(g)throw g;a=(i=h.session)!==null&&i!==void 0?i:void 0}if(!a?.refresh_token)throw new Ht;const{data:o,error:c}=await this._callRefreshToken(a.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(a,r){try{if(!xt())throw new Jl("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Jl(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new B0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new B0("No code detected.");const{data:R,error:C}=await this._exchangeCodeForSession(a.code);if(C)throw C;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:c,refresh_token:h,expires_in:g,expires_at:m,token_type:p}=a;if(!c||!g||!h||!p)throw new Jl("No session defined in URL");const v=Math.round(Date.now()/1e3),w=parseInt(g);let x=v+w;m&&(x=parseInt(m));const _=x-v;_*1e3<=Kr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${w}s`);const S=x-w;v-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,x,v):v-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,x,v);const{data:N,error:j}=await this._getUser(c);if(j)throw j;const A={provider_token:i,provider_refresh_token:o,access_token:c,expires_in:w,expires_at:x,refresh_token:h,token_type:p,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:A,redirectType:a.type},error:null})}catch(i){if(re(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const r=await Vn(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&r)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:o,error:c}=r;if(c&&!rd(c))return this._returnResult({error:c});const h=(i=o.session)===null||i===void 0?void 0:i.access_token;if(h){const{error:g}=await this.admin.signOut(h,a);if(g&&!(q2(g)&&(g.status===404||g.status===401||g.status===403)||rd(g)))return this._returnResult({error:g})}return a!=="others"&&(await this._removeSession(),await bt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const r=Y2(),i={id:r,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(a){return await this._useSession(async r=>{var i,o;try{const{data:{session:c},error:h}=r;if(h)throw h;await((i=this.stateChangeEmitters.get(a))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",a,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(a))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",c),console.error(c)}})}async resetPasswordForEmail(a,r={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await Vr(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(c){if(await bt(this.storage,`${this.storageKey}-code-verifier`),re(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var a;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(a=r.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var r;try{const{data:i,error:o}=await this._useSession(async c=>{var h,g,m,p,v;const{data:w,error:x}=c;if(x)throw x;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(h=a.options)===null||h===void 0?void 0:h.redirectTo,scopes:(g=a.options)===null||g===void 0?void 0:g.scopes,queryParams:(m=a.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",_,{headers:this.headers,jwt:(v=(p=w.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(o)throw o;return xt()&&!(!((r=a.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:a.provider,url:i?.url},error:null})}catch(i){if(re(i))return this._returnResult({data:{provider:a.provider,url:null},error:i});throw i}}async linkIdentityIdToken(a){return await this._useSession(async r=>{var i;try{const{error:o,data:{session:c}}=r;if(o)throw o;const{options:h,provider:g,token:m,access_token:p,nonce:v}=a,w=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=c?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:g,id_token:m,access_token:p,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:oa}),{data:x,error:_}=w;return _?this._returnResult({data:{user:null,session:null},error:_}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new $r}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:_}))}catch(o){if(await bt(this.storage,`${this.storageKey}-code-verifier`),re(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(a){try{return await this._useSession(async r=>{var i,o;const{data:c,error:h}=r;if(h)throw h;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(o=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(a){const r=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await F2(async o=>(o>0&&await X2(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:oa})),(o,c)=>{const h=200*Math.pow(2,o);return c&&sd(c)&&Date.now()+h-i<Kr})}catch(i){if(this._debug(r,"error",i),re(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",r,"url",i),xt()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:a,url:i},error:null}}async _recoverAndRefresh(){var a,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await Vn(this.storage,this.storageKey);if(o&&this.userStorage){let h=await Vn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:o.user},await Yr(this.userStorage,this.storageKey+"-user",h)),o.user=(a=h?.user)!==null&&a!==void 0?a:id()}else if(o&&!o.user&&!o.user){const h=await Vn(this.storage,this.storageKey+"-user");h&&h?.user?(o.user=h.user,await bt(this.storage,this.storageKey+"-user"),await Yr(this.storage,this.storageKey,o)):o.user=id()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const c=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<nd;if(this._debug(i,`session has${c?"":" not"} expired with margin of ${nd}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:h}=await this._callRefreshToken(o.refresh_token);h&&(console.error(h),sd(h)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:g}=await this._getUser(o.access_token);!g&&h?.user?(o.user=h.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(i,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(a){var r,i;if(!a)throw new Ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ao;const{data:c,error:h}=await this._refreshAccessToken(a);if(h)throw h;if(!c.session)throw new Ht;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const g={data:c.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(c){if(this._debug(o,"error",c),re(c)){const h={data:null,error:c};return sd(c)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(h),h}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(a,r,i=!0){const o=`#_notifyAllSubscribers(${a})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:a,session:r});const c=[],h=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(a,r)}catch(m){c.push(m)}});if(await Promise.all(h),c.length>0){for(let g=0;g<c.length;g+=1)console.error(c[g]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await bt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},a),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await Yr(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const c=H0(o);await Yr(this.storage,this.storageKey,c)}else{const o=H0(r);await Yr(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await bt(this.storage,this.storageKey),await bt(this.storage,this.storageKey+"-code-verifier"),await bt(this.storage,this.storageKey+"-user"),this.userStorage&&await bt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&xt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),Kr);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-a)/Kr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Kr}ms, refresh threshold is ${Sd} ticks`),o<=Sd&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof Vp)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(a){this._debug("#visibilityChangedCallback","error",a)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const r=`#_onVisibilityChanged(${a})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,r,i){const o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[c,h]=await Vr(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(h)}`});o.push(g.toString())}if(i?.queryParams){const c=new URLSearchParams(i.queryParams);o.push(c.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${a}?${o.join("&")}`}async _unenroll(a){try{return await this._useSession(async r=>{var i;const{data:o,error:c}=r;return c?this._returnResult({data:null,error:c}):await ue(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(a){try{return await this._useSession(async r=>{var i,o;const{data:c,error:h}=r;if(h)return this._returnResult({data:null,error:h});const g=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:m,error:p}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(a.factorType==="totp"&&m.type==="totp"&&(!((o=m?.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:c}=r;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?A_(a.webauthn.credential_response):C_(a.webauthn.credential_response)})}:{code:a.code}),{data:g,error:m}=await ue(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:h,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:m}))})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:c}=r;if(c)return this._returnResult({data:null,error:c});const h=await ue(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(h.error)return h;const{data:g}=h;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:N_(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:k_(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(a){const{data:r,error:i}=await this._challenge({factorId:a.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:a.factorId,challengeId:r.id,code:a.code})}async _listFactors(){var a;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const o={all:[],phone:[],totp:[],webauthn:[]};for(const c of(a=r?.factors)!==null&&a!==void 0?a:[])o.all.push(c),c.status==="verified"&&o[c.factor_type].push(c);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(a){var r,i,o,c;if(a)try{const{payload:_}=Xl(a);let S=null;_.aal&&(S=_.aal);let N=S;const{data:{user:j},error:A}=await this.getUser(a);if(A)return this._returnResult({data:null,error:A});((i=(r=j?.factors)===null||r===void 0?void 0:r.filter(B=>B.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(N="aal2");const C=_.amr||[];return{data:{currentLevel:S,nextLevel:N,currentAuthenticationMethods:C},error:null}}catch(_){if(re(_))return this._returnResult({data:null,error:_});throw _}const{data:{session:h},error:g}=await this.getSession();if(g)return this._returnResult({data:null,error:g});if(!h)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:m}=Xl(h.access_token);let p=null;m.aal&&(p=m.aal);let v=p;((c=(o=h.user.factors)===null||o===void 0?void 0:o.filter(_=>_.status==="verified"))!==null&&c!==void 0?c:[]).length>0&&(v="aal2");const x=m.amr||[];return{data:{currentLevel:p,nextLevel:v,currentAuthenticationMethods:x},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?await ue(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:i.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Ht})})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(a,r){try{return await this._useSession(async i=>{const{data:{session:o},error:c}=i;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new Ht});const h=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return h.data&&h.data.redirect_url&&xt()&&!r?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(i){if(re(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(a,r){try{return await this._useSession(async i=>{const{data:{session:o},error:c}=i;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new Ht});const h=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return h.data&&h.data.redirect_url&&xt()&&!r?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(i){if(re(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:r},error:i}=a;return i?this._returnResult({data:null,error:i}):r?await ue(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Ht})})}catch(a){if(re(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?(await ue(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ht})})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(a,r={keys:[]}){let i=r.keys.find(g=>g.kid===a);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(g=>g.kid===a),i&&this.jwks_cached_at+U2>o)return i;const{data:c,error:h}=await ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,i=c.keys.find(g=>g.kid===a),!i)?null:i}async getClaims(a,r={}){try{let i=a;if(!i){const{data:_,error:S}=await this.getSession();if(S||!_.session)return this._returnResult({data:null,error:S});i=_.session.access_token}const{header:o,payload:c,signature:h,raw:{header:g,payload:m}}=Xl(i);r?.allowExpired||r_(c.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!p){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:c,header:o,signature:h},error:null}}const v=s_(o.alg),w=await crypto.subtle.importKey("jwk",p,v,!0,["verify"]);if(!await crypto.subtle.verify(v,w,h,G2(`${g}.${m}`)))throw new Nd("Invalid JWT signature");return{data:{claims:c,header:o,signature:h},error:null}}catch(i){if(re(i))return this._returnResult({data:null,error:i});throw i}}}xi.nextInstanceID={};const M_=xi,q_="2.95.3";let si="";typeof Deno<"u"?si="deno":typeof document<"u"?si="web":typeof navigator<"u"&&navigator.product==="ReactNative"?si="react-native":si="node";const B_={"X-Client-Info":`supabase-js-${si}/${q_}`},$_={headers:B_},V_={schema:"public"},P_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},I_={};function wi(n){"@babel/helpers - typeof";return wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},wi(n)}function H_(n,a){if(wi(n)!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,a);if(wi(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(n)}function G_(n){var a=H_(n,"string");return wi(a)=="symbol"?a:a+""}function K_(n,a,r){return(a=G_(a))in n?Object.defineProperty(n,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[a]=r,n}function F0(n,a){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);a&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function Ze(n){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?F0(Object(r),!0).forEach(function(i){K_(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):F0(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}const Y_=n=>n?(...a)=>n(...a):(...a)=>fetch(...a),Q_=()=>Headers,J_=(n,a,r)=>{const i=Y_(r),o=Q_();return async(c,h)=>{var g;const m=(g=await a())!==null&&g!==void 0?g:n;let p=new o(h?.headers);return p.has("apikey")||p.set("apikey",n),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),i(c,Ze(Ze({},h),{},{headers:p}))}};function X_(n){return n.endsWith("/")?n:n+"/"}function F_(n,a){var r,i;const{db:o,auth:c,realtime:h,global:g}=n,{db:m,auth:p,realtime:v,global:w}=a,x={db:Ze(Ze({},m),o),auth:Ze(Ze({},p),c),realtime:Ze(Ze({},v),h),storage:{},global:Ze(Ze(Ze({},w),g),{},{headers:Ze(Ze({},(r=w?.headers)!==null&&r!==void 0?r:{}),(i=g?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return n.accessToken?x.accessToken=n.accessToken:delete x.accessToken,x}function Z_(n){const a=n?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(X_(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var W_=class extends M_{constructor(n){super(n)}},ej=class{constructor(n,a,r){var i,o;this.supabaseUrl=n,this.supabaseKey=a;const c=Z_(n);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const h=`sb-${c.hostname.split(".")[0]}-auth-token`,g={db:V_,realtime:I_,auth:Ze(Ze({},P_),{},{storageKey:h}),global:$_},m=F_(r??{},g);if(this.storageKey=(i=m.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=m.global.headers)!==null&&o!==void 0?o:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(v,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=m.auth)!==null&&p!==void 0?p:{},this.headers,m.global.fetch)}this.fetch=J_(a,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Ze({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new qS(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch,timeout:m.db.timeout,urlLengthLimit:m.db.urlLengthLimit}),this.storage=new O2(this.storageUrl.href,this.headers,this.fetch,r?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new TS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,a={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,a,r)}channel(n,a={config:{}}){return this.realtime.channel(n,a)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,a,r;if(n.accessToken)return await n.accessToken();const{data:i}=await n.auth.getSession();return(a=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:a,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:c,flowType:h,lock:g,debug:m,throwOnError:p},v,w){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new W_({url:this.authUrl.href,headers:Ze(Ze({},x),v),storageKey:c,autoRefreshToken:n,persistSession:a,detectSessionInUrl:r,storage:i,userStorage:o,flowType:h,lock:g,debug:m,throwOnError:p,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new t2(this.realtimeUrl.href,Ze(Ze({},n),{},{params:Ze(Ze({},{apikey:this.supabaseKey}),n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a?.access_token)})}_handleTokenChanged(n,a,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const tj=(n,a,r)=>new ej(n,a,r);function aj(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const a=n.version;if(a==null)return!1;const r=a.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}aj()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const nj="https://gktszlespplmyauekris.supabase.co",Hp="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdrdHN6bGVzcHBsbXlhdWVrcmlzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEwMDU2NzgsImV4cCI6MjA4NjU4MTY3OH0.2irbC1PsOkybPmpHdXc48x0WivpfCgQxyC9hZSI74S0",zt=!!Hp,ye=zt?tj(nj,Hp,{auth:{flowType:"pkce",detectSessionInUrl:!1,persistSession:!0,autoRefreshToken:!0}}):null,Gp=T.createContext(void 0);function rj({children:n}){const[a,r]=T.useState(null),[i,o]=T.useState([]),[c,h]=T.useState([]),[g,m]=T.useState([]),[p,v]=T.useState([]),[w,x]=T.useState([]),[_,S]=T.useState(!1),[N,j]=T.useState(null),[A,R]=T.useState(null),C=T.useCallback(Q=>Q.filter(X=>X.isVerified),[]),B=T.useCallback(Q=>i.find(X=>X.id===Q),[i]),J=T.useCallback(Q=>g.filter(X=>X.sellerId===Q),[g]),D=T.useCallback(Q=>{const X=p.filter(De=>De.sellerId===Q),W=X.length;if(W===0)return{average:0,count:0};const je=X.reduce((De,we)=>De+we.rating,0);return{average:Math.round(je/W*10)/10,count:W}},[p]),G=T.useCallback(Q=>{const X=Q.trim();if(!X)return"";const je=X.replace(/^https?:\/\//i,"").replace(/^www\./i,"").split("/").filter(Boolean);return(je[je.length-1]??"").replace(/^@+/,"").trim()},[]);T.useEffect(()=>{const Q="souq_iraq_daily_cache_v1",X=(()=>{const I=new Date,Je=jt=>String(jt).padStart(2,"0");return`${I.getFullYear()}-${Je(I.getMonth()+1)}-${Je(I.getDate())}`})();function W(){try{const I=localStorage.getItem(Q);if(!I)return null;const Je=JSON.parse(I);return typeof Je.date!="string"?null:Je.date!==X?(localStorage.removeItem(Q),null):!Array.isArray(Je.sellers)||!Array.isArray(Je.products)||!Array.isArray(Je.ratings)?null:{date:Je.date,sellers:Je.sellers,products:Je.products,ratings:Je.ratings}}catch{try{localStorage.removeItem(Q)}catch{}return null}}function je(I){try{localStorage.setItem(Q,JSON.stringify({date:X,...I}))}catch{}}function Ye(I){return{id:String(I.id??""),name:String(I.name??""),nameAr:String(I.name_ar??I.nameAr??""),avatar:String(I.avatar??""),coverImage:String(I.cover_image??I.coverImage??""),bio:String(I.bio??""),location:String(I.location??""),locationAr:String(I.location_ar??I.locationAr??""),whatsapp:String(I.whatsapp??""),instagram:String(I.instagram??""),tiktok:String(I.tiktok??""),isVerified:!!(I.is_verified??I.isVerified),rating:Number(I.rating??0),totalRatings:Number(I.total_ratings??I.totalRatings??0),totalSales:Number(I.total_sales??I.totalSales??0),joinedDate:String(I.joined_date??I.joinedDate??""),categories:Array.isArray(I.categories)?I.categories.map(String):[],viewCount:Number(I.view_count??I.viewCount??0),deliveryInfo:String(I.delivery_info??I.deliveryInfo??"توصيل لكل العراق"),productCount:Number(I.product_count??I.productCount??0),featuredProductId:I.featured_product_id??I.featuredProductId??void 0}}function De(I){return{id:String(I.id??""),sellerId:String(I.seller_id??I.sellerId??""),name:String(I.name??""),nameAr:String(I.name_ar??I.nameAr??""),description:String(I.description??""),descriptionAr:String(I.description_ar??I.descriptionAr??""),price:Number(I.price??0),originalPrice:I.original_price??I.originalPrice??void 0,currency:String(I.currency??"IQD"),images:Array.isArray(I.images)?I.images.map(String):[],category:String(I.category??""),categoryAr:String(I.category_ar??I.categoryAr??""),inStock:!!(I.in_stock??I.inStock??!0),viewCount:Number(I.view_count??I.viewCount??0),createdAt:String(I.created_at??I.createdAt??""),tags:Array.isArray(I.tags)?I.tags.map(String):[],isVerified:!!(I.is_verified??I.isVerified),verificationStatus:I.verification_status??I.verificationStatus??"none",verifiedAt:I.verified_at??I.verifiedAt??void 0,verificationBadge:I.verification_badge??I.verificationBadge??void 0}}function we(I){return{id:String(I.id??""),sellerId:String(I.seller_id??I.sellerId??""),buyerName:String(I.buyer_name??I.buyerName??""),rating:Number(I.rating??0),comment:String(I.comment??""),verified:!!(I.verified??!1),date:String(I.date??"")}}let Ue=!1;async function _t(){S(!0),j(null);const I=W();if(I&&!Ue&&(o(I.sellers),h(C(I.sellers)),m(I.products),v(I.ratings),Ma({sellers:I.sellers,products:I.products,ratings:I.ratings})),!zt||!ye){S(!1);return}try{const[{data:Je,error:jt},{data:ns,error:Jn},{data:rs,error:ji}]=await Promise.all([ye.from("sellers").select("*"),ye.from("products").select("*"),ye.from("ratings").select("*")]);if(Ue)return;if(jt)throw jt;if(Jn)throw Jn;if(ji)throw ji;let ss=Je??[],ht=ns??[],Ni=rs??[];if(ss.length===0&&ht.length===0){const ls=(I?.sellers?.length?I.sellers:Wr)??[],ki=(I?.products?.length?I.products:Si)??[],Ai=(I?.ratings?.length?I.ratings:Ud)??[];if(ls.length>0||ki.length>0||Ai.length>0){const Ia=ls.map(ae=>({id:ae.id,name:ae.name,name_ar:ae.nameAr,avatar:ae.avatar,cover_image:ae.coverImage,bio:ae.bio,location:ae.location,location_ar:ae.locationAr,whatsapp:ae.whatsapp,instagram:ae.instagram,tiktok:ae.tiktok,is_verified:ae.isVerified,rating:ae.rating,total_ratings:ae.totalRatings,total_sales:ae.totalSales,joined_date:ae.joinedDate,categories:ae.categories,view_count:ae.viewCount,delivery_info:ae.deliveryInfo,product_count:ae.productCount,featured_product_id:ae.featuredProductId??null})),wt=ki.map(ae=>({id:ae.id,seller_id:ae.sellerId,name:ae.name,name_ar:ae.nameAr,description:ae.description,description_ar:ae.descriptionAr,price:ae.price,original_price:ae.originalPrice??null,currency:ae.currency,images:ae.images,category:ae.category,category_ar:ae.categoryAr,in_stock:ae.inStock,view_count:ae.viewCount,created_at:ae.createdAt,tags:ae.tags,is_verified:ae.isVerified,verification_status:ae.verificationStatus,verified_at:ae.verifiedAt??null,verification_badge:ae.verificationBadge??null})),ra=Ai.map(ae=>({id:ae.id,seller_id:ae.sellerId,buyer_name:ae.buyerName,rating:ae.rating,comment:ae.comment,verified:ae.verified,date:ae.date}));if(Ia.length){const{error:ae}=await ye.from("sellers").insert(Ia);if(ae)throw ae}if(wt.length){const{error:ae}=await ye.from("products").insert(wt);if(ae)throw ae}if(ra.length){const{error:ae}=await ye.from("ratings").insert(ra);if(ae)throw ae}const[{data:Nt,error:Ci},{data:To,error:Ei},{data:Xn,error:wn}]=await Promise.all([ye.from("sellers").select("*"),ye.from("products").select("*"),ye.from("ratings").select("*")]);if(Ci)throw Ci;if(Ei)throw Ei;if(wn)throw wn;ss=Nt??[],ht=To??[],Ni=Xn??[]}}const xn=ss.map(Ye),Pa=ht.map(De),is=Ni.map(we);o(xn),h(C(xn)),m(Pa),v(is),Ma({sellers:xn,products:Pa,ratings:is}),je({sellers:xn,products:Pa,ratings:is}),S(!1)}catch(Je){if(Ue)return;const jt=Je instanceof Error?Je.message:"Failed to load marketplace data";j(jt),S(!1)}}return _t(),()=>{Ue=!0}},[C]);const pe=T.useCallback(Q=>{const X=B(Q);if(!X)return;const{average:W,count:je}=D(Q);return{...X,rating:W,totalRatings:je}},[B,D]),fe=T.useCallback(()=>{const Q=C(i);return h(Q),Q},[C,i]),ct=T.useCallback(()=>i,[i]),$e=T.useCallback(Q=>!!B(Q)?.isVerified,[B]),Ve=T.useCallback(Q=>{const X=J(Q);return x(X),X},[J]),ut=T.useCallback(()=>gi(g),[g]),He=T.useCallback(Q=>gi(Q),[]),le=T.useCallback(Q=>B(Q)?.deliveryInfo||"توصيل لكل العراق",[B]),z=T.useCallback(Q=>B(Q)?.productCount||g.filter(W=>W.sellerId===Q).length,[B,g]),P=T.useCallback((Q,X)=>(S(!0),j(null),(async()=>{try{if(!B(Q))throw new Error("Seller not found");if(zt&&ye){const De={id:`p-${Date.now()}`,seller_id:Q,name:X.name,name_ar:X.nameAr,description:X.description,description_ar:X.descriptionAr,price:X.price,currency:"IQD",images:[X.image],category:X.category,category_ar:X.categoryAr,in_stock:!0,view_count:0,created_at:new Date().toISOString().split("T")[0],tags:[],is_verified:!1,verification_status:"none"},{data:we,error:Ue}=await ye.from("products").insert(De).select("*").single();if(Ue)throw Ue;const _t={id:String(we.id),sellerId:String(we.seller_id??Q),name:String(we.name??X.name),nameAr:String(we.name_ar??X.nameAr),description:String(we.description??X.description),descriptionAr:String(we.description_ar??X.descriptionAr),price:Number(we.price??X.price),originalPrice:we.original_price??void 0,currency:String(we.currency??"IQD"),images:Array.isArray(we.images)?we.images.map(String):[X.image],category:String(we.category??X.category),categoryAr:String(we.category_ar??X.categoryAr),inStock:!!(we.in_stock??!0),viewCount:Number(we.view_count??0),createdAt:String(we.created_at??new Date().toISOString().split("T")[0]),tags:Array.isArray(we.tags)?we.tags.map(String):[],isVerified:!!(we.is_verified??!1),verificationStatus:we.verification_status??"none",verifiedAt:we.verified_at??void 0,verificationBadge:we.verification_badge??void 0},I=[_t,...g];return m(I),Ma({products:I}),S(!1),_t}const je=NS(Q,X),Ye=[je,...g];return m(Ye),Ma({products:Ye}),S(!1),je}catch(W){const je=W instanceof Error?W.message:"Failed to create product";throw j(je),S(!1),W}})()),[B,g]),Z=T.useCallback(async Q=>{S(!0),j(null);try{const X=await kS(Q);return S(!1),X}catch(X){const W=X instanceof Error?X.message:"Failed to upload image";throw j(W),S(!1),X}},[]),be=T.useCallback(Q=>{const X=B(Q),W=J(Q),je=W.reduce((De,we)=>De+we.viewCount,0),Ye={productCount:W.length,totalViews:je,isVerified:X?.isVerified||!1,deliveryInfo:X?.deliveryInfo||"توصيل لكل العراق"};return R(Ye),Ye},[J,B]),_e=T.useCallback(Q=>{const X=Q.toLowerCase();return i.filter(W=>W.name.toLowerCase().includes(X)||W.nameAr.includes(X)||W.bio.toLowerCase().includes(X))},[i]),O=T.useCallback(Q=>[...i].sort((W,je)=>{if(W.isVerified&&!je.isVerified)return-1;if(!W.isVerified&&je.isVerified)return 1;const Ye=D(W.id).average;return D(je.id).average-Ye}).slice(0,Q??4),[D,i]),Y=T.useCallback(Q=>i.filter(X=>X.categories.includes(Q)),[i]),F=T.useCallback(()=>{j(null)},[]),te=T.useCallback((Q,X)=>(S(!0),j(null),(async()=>{try{const W=B(Q);if(!W)throw new Error("Seller not found");if(!W.isVerified)throw new Error("Seller must be verified to set social links");const je=X.instagram!==void 0?G(X.instagram):W.instagram,Ye=X.tiktok!==void 0?G(X.tiktok):W.tiktok;if(zt&&ye){const{data:Ue,error:_t}=await ye.from("sellers").update({instagram:je,tiktok:Ye}).eq("id",Q).select("*").single();if(_t)throw _t;const I={...W,instagram:String(Ue.instagram??je),tiktok:String(Ue.tiktok??Ye)},Je=i.map(jt=>jt.id===Q?I:jt);return o(Je),h(C(Je)),r(jt=>jt?.id===Q?I:jt),Ma({sellers:Je}),S(!1),I}const De={...W,instagram:je,tiktok:Ye},we=i.map(Ue=>Ue.id===Q?De:Ue);return o(we),h(C(we)),r(Ue=>Ue?.id===Q?De:Ue),Ma({sellers:we}),S(!1),De}catch(W){const je=W instanceof Error?W.message:"Failed to update social links";throw j(je),S(!1),W}})()),[B,C,G,i]),ge=T.useCallback((Q,X)=>(S(!0),j(null),(async()=>{try{const W=B(Q);if(!W)throw new Error("Seller not found");if(!W.isVerified)throw new Error("Seller must be verified to set featured product");if(X){const De=g.find(we=>we.id===X);if(!De||De.sellerId!==Q)throw new Error("Invalid featured product")}if(zt&&ye){const{data:De,error:we}=await ye.from("sellers").update({featured_product_id:X}).eq("id",Q).select("*").single();if(we)throw we;const Ue={...W,featuredProductId:De.featured_product_id??X??void 0},_t=i.map(I=>I.id===Q?Ue:I);return o(_t),h(C(_t)),r(I=>I?.id===Q?Ue:I),Ma({sellers:_t}),S(!1),Ue}const je={...W,featuredProductId:X??void 0},Ye=i.map(De=>De.id===Q?je:De);return o(Ye),h(C(Ye)),r(De=>De?.id===Q?je:De),Ma({sellers:Ye}),S(!1),je}catch(W){const je=W instanceof Error?W.message:"Failed to update featured product";throw j(je),S(!1),W}})()),[B,C,g,i]),Se={currentSeller:a,sellers:i,verifiedSellers:c,products:g,ratings:p,sellerProducts:w,isLoading:_,error:N,dashboardStats:A,fetchSellerById:pe,fetchVerifiedSellers:fe,fetchAllSellers:ct,checkVerification:$e,fetchSellerProducts:Ve,fetchProductsSortedByVerification:ut,sortProductsByVerificationStatus:He,getDeliveryInfo:le,getProductCount:z,createProduct:P,uploadImage:Z,fetchSellerStats:be,search:_e,fetchTopSellers:O,fetchSellersByCategory:Y,setCurrentSeller:r,updateSocialLinks:te,updateFeaturedProduct:ge,clearError:F};return u.jsx(Gp.Provider,{value:Se,children:n})}function as(){const n=T.useContext(Gp);if(n===void 0)throw new Error("useSeller must be used within a SellerProvider");return n}function Z0(){const{t:n}=Ut(),a=se(m=>m.navigate),r=se(m=>m.setSelectedCategory),{products:i,sellers:o}=as(),c=gi([...i].sort((m,p)=>p.viewCount-m.viewCount)).slice(0,6),h=gi(i.filter(m=>m.originalPrice)),g=[...o].sort((m,p)=>m.isVerified&&!p.isVerified?-1:!m.isVerified&&p.isVerified?1:$a(p.id).average-$a(m.id).average).slice(0,4);return u.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24",children:[u.jsxs("div",{className:"bg-gradient-to-br from-emerald-600 via-emerald-500 to-teal-500 px-4 pt-12 pb-6 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white/5 rounded-full -translate-y-1/2 translate-x-1/2"}),u.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-white/5 rounded-full translate-y-1/2 -translate-x-1/2"}),u.jsxs("div",{className:"relative z-10",children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsxs("div",{children:[u.jsxs("h1",{className:"text-white text-xl font-bold flex items-center gap-1",children:["🇮🇶 ",n("home.title")]}),u.jsx("p",{className:"text-emerald-100 text-xs mt-0.5",children:n("home.subtitle")})]})}),u.jsxs("button",{onClick:()=>a("search"),className:"w-full bg-white/95 backdrop-blur-sm rounded-xl px-4 py-3 flex items-center gap-3 shadow-lg shadow-emerald-800/10",children:[u.jsx(Od,{size:18,className:"text-gray-400"}),u.jsx("span",{className:"text-sm text-gray-400",children:n("home.searchPlaceholder")})]})]})]}),u.jsx("div",{className:"px-4 -mt-1 mb-4",children:u.jsx("div",{className:"bg-white rounded-2xl p-3 shadow-sm border border-gray-100",children:u.jsx("div",{className:"grid grid-cols-4 gap-2",children:no.slice(1).map(m=>u.jsxs("button",{onClick:()=>{r(m.id),a("search")},className:"flex flex-col items-center gap-1 p-2 rounded-xl hover:bg-gray-50 active:scale-95 transition-all",children:[u.jsx("span",{className:"text-2xl",children:m.icon}),u.jsx("span",{className:"text-[10px] font-medium text-gray-600",children:m.name})]},m.id))})})}),u.jsx("div",{className:"px-4 mb-5",children:u.jsxs("div",{className:"bg-gradient-to-r from-amber-400 via-orange-400 to-rose-400 rounded-2xl p-4 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-white/10 rounded-full -translate-y-1/3 translate-x-1/3"}),u.jsxs("div",{className:"relative z-10",children:[u.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[u.jsx(a1,{size:14,className:"text-white"}),u.jsx("span",{className:"text-white/90 text-[10px] font-bold uppercase tracking-wider",children:n("home.zeroCommission")})]}),u.jsxs("h3",{className:"text-white font-bold text-lg leading-tight",children:[n("home.sellForFree"),u.jsx("br",{}),n("home.keepProfit")]}),u.jsx("p",{className:"text-white/80 text-xs mt-1",children:n("home.joinSellers")}),u.jsxs("button",{onClick:()=>a("profile"),className:"mt-3 bg-white text-orange-600 text-xs font-bold px-4 py-2 rounded-lg hover:bg-orange-50 transition-colors active:scale-95",children:[n("home.startSelling")," →"]})]})]})}),h.length>0&&u.jsxs("section",{className:"mb-5",children:[u.jsxs("div",{className:"flex items-center justify-between px-4 mb-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-7 h-7 bg-red-100 rounded-lg flex items-center justify-center",children:u.jsx(dx,{size:14,className:"text-red-500"})}),u.jsx("h2",{className:"text-base font-bold text-gray-900",children:n("home.hotDeals")})]}),u.jsxs("button",{onClick:()=>a("search"),className:"flex items-center gap-0.5 text-xs font-medium text-emerald-600",children:[n("home.seeAll")," ",u.jsx(eo,{size:14})]})]}),u.jsx("div",{className:"flex gap-3 px-4 overflow-x-auto pb-2 scrollbar-hide scrollbar-none",children:h.map(m=>u.jsx("div",{className:"min-w-[160px] max-w-[160px]",children:u.jsx(vn,{product:m,compact:!0})},m.id))})]}),u.jsxs("section",{className:"mb-5",children:[u.jsxs("div",{className:"flex items-center justify-between px-4 mb-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-7 h-7 bg-amber-100 rounded-lg flex items-center justify-center",children:u.jsx(Ix,{size:14,className:"text-amber-500"})}),u.jsx("h2",{className:"text-base font-bold text-gray-900",children:n("home.topSellers")})]}),u.jsxs("button",{onClick:()=>a("search"),className:"flex items-center gap-0.5 text-xs font-medium text-emerald-600",children:[n("home.seeAll")," ",u.jsx(eo,{size:14})]})]}),u.jsx("div",{className:"px-4 grid grid-cols-1 sm:grid-cols-2 gap-3",children:g.map(m=>u.jsx(Ap,{seller:m},m.id))})]}),u.jsxs("section",{className:"mb-5",children:[u.jsx("div",{className:"flex items-center justify-between px-4 mb-3",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-7 h-7 bg-emerald-100 rounded-lg flex items-center justify-center",children:u.jsx(Dd,{size:14,className:"text-emerald-600"})}),u.jsx("h2",{className:"text-base font-bold text-gray-900",children:n("home.trendingNow")})]})}),u.jsx("div",{className:"px-4 grid grid-cols-2 sm:grid-cols-3 gap-3",children:c.map(m=>u.jsx(vn,{product:m},m.id))})]})]})}let bn=[{id:"vr1",productId:"p11",sellerId:"s4",status:"pending",requestedAt:"2024-03-10",documents:["invoice.pdf","product_photo.jpg"]}];function $d(){const n=new Date,a=r=>String(r).padStart(2,"0");return`${n.getFullYear()}-${a(n.getMonth()+1)}-${a(n.getDate())}`}function sj(n){return{id:String(n.id??""),productId:String(n.product_id??n.productId??""),sellerId:String(n.seller_id??n.sellerId??""),status:n.status??"none",requestedAt:String(n.requested_at??n.requestedAt??""),reviewedAt:n.reviewed_at??n.reviewedAt??void 0,reviewedBy:n.reviewed_by??n.reviewedBy??void 0,rejectionReason:n.rejection_reason??n.rejectionReason??void 0,documents:Array.isArray(n.documents)?n.documents.map(String):void 0}}function Fr(n,a){const r=Si.map(i=>i.id===n?{...i,...a}:i);Ma({products:r})}async function Kp(n,a,r){const i=na(n);if(!i)return{success:!1,message:"Product not found"};if(i.sellerId!==a)return{success:!1,message:"You can only request verification for your own products"};if(i.isVerified)return{success:!1,message:"Product is already verified"};if(i.verificationStatus==="pending")return{success:!1,message:"Verification request already pending"};const o=`vr-${Date.now()}`,c={id:o,productId:n,sellerId:a,status:"pending",requestedAt:$d(),documents:r};if(zt&&ye){const{error:h}=await ye.from("verification_requests").insert({id:o,product_id:n,seller_id:a,status:"pending",requested_at:c.requestedAt,documents:r??null});if(!h){const{error:g}=await ye.from("products").update({verification_status:"pending",is_verified:!1}).eq("id",n);if(!g)return Fr(n,{verificationStatus:"pending",isVerified:!1}),bn.push(c),{success:!0,message:"Verification request submitted successfully",requestId:o}}}return bn.push(c),Fr(n,{verificationStatus:"pending"}),{success:!0,message:"Verification request submitted successfully",requestId:o}}function ij(n){const a=na(n);if(!a)return{status:"none"};const r=bn.find(i=>i.productId===n);return{status:a.verificationStatus,request:r,verifiedAt:a.verifiedAt}}async function lj(n,a){if(!na(n))return{success:!1,message:"Product not found"};const i=$d();if(zt&&ye){const{error:c}=await ye.from("products").update({is_verified:!0,verification_status:"verified",verified_at:i,verification_badge:"verified"}).eq("id",n);c||await ye.from("verification_requests").update({status:"verified",reviewed_at:i,reviewed_by:a}).eq("product_id",n)}Fr(n,{isVerified:!0,verificationStatus:"verified",verifiedAt:i,verificationBadge:"verified"});const o=bn.find(c=>c.productId===n);return o&&(o.status="verified",o.reviewedAt=i,o.reviewedBy=a),{success:!0,message:"Product verified successfully"}}async function oj(n,a,r){if(!na(n))return{success:!1,message:"Product not found"};const o=$d();if(zt&&ye){const{error:h}=await ye.from("products").update({is_verified:!1,verification_status:"rejected"}).eq("id",n);h||await ye.from("verification_requests").update({status:"rejected",reviewed_at:o,reviewed_by:a,rejection_reason:r}).eq("product_id",n)}Fr(n,{isVerified:!1,verificationStatus:"rejected"});const c=bn.find(h=>h.productId===n);return c&&(c.status="rejected",c.reviewedAt=o,c.reviewedBy=a,c.rejectionReason=r),{success:!0,message:"Verification request rejected"}}async function cj(){if(zt&&ye){const{data:n,error:a}=await ye.from("verification_requests").select("*").eq("status","pending").order("requested_at",{ascending:!1});if(!a)return(n??[]).map(sj)}return bn.filter(n=>n.status==="pending")}function uj(n){return na(n)?.isVerified??!1}function Yp(n){return[...n].sort((a,r)=>a.isVerified&&!r.isVerified?-1:!a.isVerified&&r.isVerified?1:a.verificationStatus==="pending"&&r.verificationStatus!=="pending"?-1:a.verificationStatus!=="pending"&&r.verificationStatus==="pending"?1:0)}async function dj(n,a){const r=na(n);if(!r)return{success:!1,message:"Product not found"};if(r.sellerId!==a)return{success:!1,message:"You can only cancel your own requests"};if(r.verificationStatus!=="pending")return{success:!1,message:"No pending verification request to cancel"};if(zt&&ye){const{error:i}=await ye.from("verification_requests").delete().eq("product_id",n).eq("seller_id",a).eq("status","pending");i||await ye.from("products").update({verification_status:"none"}).eq("id",n)}return bn=bn.filter(i=>i.productId!==n),Fr(n,{verificationStatus:"none"}),{success:!0,message:"Verification request cancelled"}}async function fj(n,a,r){const i=na(n);return i?i.verificationStatus!=="rejected"?{success:!1,message:"Can only re-request after rejection"}:(Fr(n,{verificationStatus:"none"}),await Kp(n,a,r)):{success:!1,message:"Product not found"}}function hj(){const{searchQuery:n,setSearchQuery:a,selectedCategory:r,setSelectedCategory:i,selectedLocation:o,setSelectedLocation:c}=se(Qn(j=>({searchQuery:j.searchQuery,setSearchQuery:j.setSearchQuery,selectedCategory:j.selectedCategory,setSelectedCategory:j.setSelectedCategory,selectedLocation:j.selectedLocation,setSelectedLocation:j.setSelectedLocation}))),[h,g]=T.useState("products"),[m,p]=T.useState(!1),[v,w]=T.useState("popular"),{products:x,sellers:_}=as(),S=T.useMemo(()=>{let j=[...x];if(n){const A=n.toLowerCase();j=j.filter(R=>R.name.toLowerCase().includes(A)||R.nameAr.includes(A)||R.description.toLowerCase().includes(A)||R.tags.some(C=>C.includes(A)))}if(r!=="all"&&(j=j.filter(A=>A.category===r)),o!=="all"){const A=_.filter(R=>R.location===o).map(R=>R.id);j=j.filter(R=>A.includes(R.sellerId))}switch(v){case"newest":j.sort((A,R)=>new Date(R.createdAt).getTime()-new Date(A.createdAt).getTime());break;case"price-low":j.sort((A,R)=>A.price-R.price);break;case"price-high":j.sort((A,R)=>R.price-A.price);break;case"popular":j.sort((A,R)=>R.viewCount-A.viewCount);break}return j=gi(j),j=Yp(j),j},[x,_,n,r,o,v]),N=T.useMemo(()=>{let j=[..._];if(n){const A=n.toLowerCase();j=j.filter(R=>R.name.toLowerCase().includes(A)||R.nameAr.includes(A)||R.bio.toLowerCase().includes(A))}return o!=="all"&&(j=j.filter(A=>A.location===o)),j.sort((A,R)=>A.isVerified&&!R.isVerified?-1:!A.isVerified&&R.isVerified?1:$a(R.id).average-$a(A.id).average),j},[_,n,o]);return u.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24",children:[u.jsxs("div",{className:"bg-white sticky top-0 z-40 border-b border-gray-100",children:[u.jsxs("div",{className:"px-4 pt-12 pb-3",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx(Od,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),u.jsx("input",{type:"text",value:n,onChange:j=>a(j.target.value),placeholder:"Search products, sellers...",className:"w-full bg-gray-100 rounded-xl pl-10 pr-10 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/30 focus:bg-white border border-transparent focus:border-emerald-200 transition-all",autoFocus:!0}),n&&u.jsx("button",{onClick:()=>a(""),className:"absolute right-3 top-1/2 -translate-y-1/2",children:u.jsx(di,{size:16,className:"text-gray-400"})})]}),u.jsx("button",{onClick:()=>p(!m),className:`w-11 h-11 rounded-xl flex items-center justify-center border transition-all ${m?"bg-emerald-50 border-emerald-200 text-emerald-600":"bg-gray-100 border-transparent text-gray-500"}`,children:u.jsx(Vx,{size:18})})]}),u.jsxs("div",{className:"flex gap-1 mt-3 bg-gray-100 rounded-lg p-0.5",children:[u.jsxs("button",{onClick:()=>g("products"),className:`flex-1 py-2 text-xs font-semibold rounded-md transition-all ${h==="products"?"bg-white text-gray-900 shadow-sm":"text-gray-500"}`,children:["Products (",S.length,")"]}),u.jsxs("button",{onClick:()=>g("sellers"),className:`flex-1 py-2 text-xs font-semibold rounded-md transition-all ${h==="sellers"?"bg-white text-gray-900 shadow-sm":"text-gray-500"}`,children:["Sellers (",N.length,")"]})]})]}),m&&u.jsxs("div",{className:"px-4 pb-3 animate-slide-up border-t border-gray-50",children:[u.jsxs("div",{className:"mt-3",children:[u.jsxs("label",{className:"text-[11px] font-semibold text-gray-500 uppercase tracking-wider mb-1.5 flex items-center gap-1",children:[u.jsx(vo,{size:11})," Location"]}),u.jsx("div",{className:"flex gap-1.5 flex-wrap",children:ip.map(j=>u.jsx("button",{onClick:()=>c(j.id),className:`px-3 py-1.5 rounded-full text-xs font-medium transition-all ${o===j.id?"bg-emerald-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:j.name},j.id))})]}),h==="products"&&u.jsxs("div",{className:"mt-3",children:[u.jsxs("label",{className:"text-[11px] font-semibold text-gray-500 uppercase tracking-wider mb-1.5 flex items-center gap-1",children:[u.jsx(Xb,{size:11})," Sort by"]}),u.jsx("div",{className:"flex gap-1.5 flex-wrap",children:[{id:"popular",label:"🔥 Popular"},{id:"newest",label:"✨ Newest"},{id:"price-low",label:"💰 Price: Low"},{id:"price-high",label:"💎 Price: High"}].map(j=>u.jsx("button",{onClick:()=>w(j.id),className:`px-3 py-1.5 rounded-full text-xs font-medium transition-all ${v===j.id?"bg-emerald-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:j.label},j.id))})]})]})]}),h==="products"&&u.jsx("div",{className:"flex gap-2 px-4 py-3 overflow-x-auto",style:{scrollbarWidth:"none"},children:no.map(j=>u.jsxs("button",{onClick:()=>i(j.id),className:`flex items-center gap-1.5 px-3.5 py-2 rounded-full text-xs font-medium whitespace-nowrap transition-all ${r===j.id?"bg-emerald-500 text-white shadow-md shadow-emerald-200":"bg-white text-gray-600 border border-gray-200 hover:border-emerald-200"}`,children:[u.jsx("span",{children:j.icon})," ",j.name]},j.id))}),u.jsx("div",{className:"px-4 pb-4",children:h==="products"?S.length>0?u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:S.map(j=>u.jsx(vn,{product:j},j.id))}):u.jsxs("div",{className:"text-center py-16",children:[u.jsx("span",{className:"text-4xl mb-3 block",children:"🔍"}),u.jsx("h3",{className:"text-gray-900 font-semibold mb-1",children:"No products found"}),u.jsx("p",{className:"text-gray-500 text-sm",children:"Try adjusting your search or filters"})]}):N.length>0?u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:N.map(j=>u.jsx(Ap,{seller:j},j.id))}):u.jsxs("div",{className:"text-center py-16",children:[u.jsx("span",{className:"text-4xl mb-3 block",children:"🏪"}),u.jsx("h3",{className:"text-gray-900 font-semibold mb-1",children:"No sellers found"}),u.jsx("p",{className:"text-gray-500 text-sm",children:"Try adjusting your search"})]})})]})}function mo(){const{t:n}=Ut();return u.jsx("div",{className:"bg-amber-500/20 border border-amber-500/30 rounded-lg p-3 mb-3",children:u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-lg",children:"📸"}),u.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 leading-relaxed",children:n("common.screenshotWarning")})]})})}function gj({product:n,showWarning:a=!0,className:r=""}){const{t:i}=Ut(),{addToCart:o,isInCart:c,getQuantity:h,updateQuantity:g}=es(),{isAuthenticated:m,navigate:p,setAuthNextPage:v}=se(Qn(R=>({isAuthenticated:R.isAuthenticated,navigate:R.navigate,setAuthNextPage:R.setAuthNextPage}))),[w,x]=T.useState(!1),_=c(n.id),S=h(n.id),N=()=>{if(!m){sessionStorage.setItem("iraq_marketplace_pending_action",JSON.stringify({type:"add_to_cart",productId:n.id,quantity:1})),v("cart"),p("profile");return}o(n.id,1),x(!0),setTimeout(()=>x(!1),2e3)},j=()=>{g(n.id,S+1)},A=()=>{S>1&&g(n.id,S-1)};return n.inStock?u.jsxs("div",{className:r,children:[a&&u.jsx(mo,{}),_?u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:A,className:"w-12 h-12 flex items-center justify-center rounded-xl bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsxs("span",{className:"flex-1 text-center font-semibold text-gray-900 dark:text-white",children:[S," ",i("inCart")]}),u.jsx("button",{onClick:j,className:"w-12 h-12 flex items-center justify-center rounded-xl bg-emerald-100 dark:bg-emerald-900 text-emerald-600 dark:text-emerald-400 hover:bg-emerald-200 dark:hover:bg-emerald-800 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}):u.jsx("button",{onClick:N,className:`w-full py-3 px-4 rounded-xl font-medium transition-all flex items-center justify-center gap-2 ${w?"bg-green-500 text-white":"bg-emerald-500 hover:bg-emerald-600 text-white"}`,children:w?u.jsxs(u.Fragment,{children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),i("addedToCart")]}):u.jsxs(u.Fragment,{children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),i("addToCart")]})})]}):u.jsxs("div",{className:r,children:[a&&u.jsx(mo,{}),u.jsx("button",{disabled:!0,className:"w-full py-3 px-4 bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 rounded-xl cursor-not-allowed",children:i("outOfStock")})]})}function mj({status:n,verifiedAt:a,rejectionReason:r,showDate:i=!0,size:o="md",className:c=""}){const{t:h,i18n:g}=Ut(),m=g.language==="ar",v={sm:{icon:14,text:"text-xs",title:"text-sm",gap:"gap-2"},md:{icon:18,text:"text-sm",title:"text-base",gap:"gap-3"},lg:{icon:22,text:"text-base",title:"text-lg",gap:"gap-3"}}[o],w=N=>new Date(N).toLocaleDateString(m?"ar-IQ":"en-US",{year:"numeric",month:"long",day:"numeric"}),_={verified:{icon:Kn,bgColor:"bg-emerald-50",borderColor:"border-emerald-200",iconColor:"text-emerald-500",titleColor:"text-emerald-700",textColor:"text-emerald-600",title:h("verification.verifiedTitle"),description:h("verification.verifiedDescription")},pending:{icon:Ed,bgColor:"bg-amber-50",borderColor:"border-amber-200",iconColor:"text-amber-500",titleColor:"text-amber-700",textColor:"text-amber-600",title:h("verification.pendingTitle"),description:h("verification.pendingDescription")},rejected:{icon:ap,bgColor:"bg-red-50",borderColor:"border-red-200",iconColor:"text-red-500",titleColor:"text-red-700",textColor:"text-red-600",title:h("verification.rejectedTitle"),description:r||h("verification.rejectedDescription")},none:{icon:to,bgColor:"bg-gray-50",borderColor:"border-gray-200",iconColor:"text-gray-400",titleColor:"text-gray-600",textColor:"text-gray-500",title:h("verification.notVerifiedTitle"),description:h("verification.notVerifiedDescription")}}[n],S=_.icon;return u.jsxs("div",{className:`
        rounded-xl border ${_.borderColor} ${_.bgColor}
        p-4 ${v.gap} flex flex-col
        ${c}
      `,children:[u.jsxs("div",{className:`flex items-center ${v.gap}`,children:[u.jsx("div",{className:`p-2 rounded-full ${_.bgColor}`,children:u.jsx(S,{size:v.icon,className:_.iconColor})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:`font-semibold ${v.title} ${_.titleColor}`,children:_.title}),u.jsx("p",{className:`${v.text} ${_.textColor}`,children:_.description})]})]}),n==="verified"&&a&&i&&u.jsxs("div",{className:`flex items-center gap-1.5 mt-2 ${v.text} ${_.textColor}`,children:[u.jsx(ep,{size:14}),u.jsxs("span",{children:[h("verification.verifiedOn")," ",w(a)]})]}),n==="rejected"&&r&&u.jsxs("div",{className:`mt-2 p-2 rounded-lg bg-red-100 ${v.text} text-red-700`,children:[u.jsxs("span",{className:"font-medium",children:[h("verification.reason"),": "]}),r]})]})}function pj({status:n,verifiedAt:a}){const{t:r,i18n:i}=Ut(),o=i.language==="ar",c=n==="verified"&&a?`${r("verification.verifiedOn")} ${new Date(a).toLocaleDateString(o?"ar-IQ":"en-US")}`:void 0,g={verified:{icon:Kn,color:"text-emerald-500",bg:"bg-emerald-50",label:r("verification.verified")},pending:{icon:Ed,color:"text-amber-500",bg:"bg-amber-50",label:r("verification.pending")},rejected:{icon:ap,color:"text-red-500",bg:"bg-red-50",label:r("verification.rejected")},none:{icon:to,color:"text-gray-400",bg:"bg-gray-50",label:r("verification.notVerified")}}[n],m=g.icon;return u.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full ${g.bg}`,title:c,children:[u.jsx(m,{size:12,className:g.color}),u.jsx("span",{className:`text-xs font-medium ${g.color}`,children:g.label})]})}const Qp=T.createContext(void 0);function yj({children:n}){const a=se(S=>S.isAdmin),[r,i]=T.useState({pendingRequests:[],isLoading:!1,error:null}),o=T.useCallback(async()=>{const S=await cj();i(N=>({...N,pendingRequests:S}))},[]);T.useEffect(()=>{o()},[o]);const c=T.useCallback(async(S,N,j)=>{i(A=>({...A,isLoading:!0,error:null}));try{const A=await Kp(S,N,j);return A.success&&o(),i(R=>({...R,isLoading:!1})),{success:A.success,message:A.message}}catch(A){const R=A instanceof Error?A.message:"Failed to request verification";return i(C=>({...C,isLoading:!1,error:R})),{success:!1,message:R}}},[o]),h=T.useCallback(async S=>{if(!a)return{success:!1,message:"Only admins can verify products"};i(N=>({...N,isLoading:!0,error:null}));try{const N=await lj(S,"admin");return N.success&&o(),i(j=>({...j,isLoading:!1})),{success:N.success,message:N.message}}catch(N){const j=N instanceof Error?N.message:"Failed to verify product";return i(A=>({...A,isLoading:!1,error:j})),{success:!1,message:j}}},[a,o]),g=T.useCallback(async(S,N)=>{if(!a)return{success:!1,message:"Only admins can reject verification requests"};i(j=>({...j,isLoading:!0,error:null}));try{const j=await oj(S,"admin",N);return j.success&&o(),i(A=>({...A,isLoading:!1})),{success:j.success,message:j.message}}catch(j){const A=j instanceof Error?j.message:"Failed to reject verification";return i(R=>({...R,isLoading:!1,error:A})),{success:!1,message:A}}},[a,o]),m=T.useCallback(async(S,N)=>{i(j=>({...j,isLoading:!0,error:null}));try{const j=await dj(S,N);return j.success&&o(),i(A=>({...A,isLoading:!1})),{success:j.success,message:j.message}}catch(j){const A=j instanceof Error?j.message:"Failed to cancel request";return i(R=>({...R,isLoading:!1,error:A})),{success:!1,message:A}}},[o]),p=T.useCallback(async(S,N,j)=>{i(A=>({...A,isLoading:!0,error:null}));try{const A=await fj(S,N,j);return A.success&&o(),i(R=>({...R,isLoading:!1})),{success:A.success,message:A.message}}catch(A){const R=A instanceof Error?A.message:"Failed to re-request verification";return i(C=>({...C,isLoading:!1,error:R})),{success:!1,message:R}}},[o]),v=T.useCallback(S=>ij(S),[]),w=T.useCallback(S=>uj(S),[]),x=T.useCallback(S=>Yp(S),[]),_={...r,requestVerification:c,verify:h,reject:g,cancelRequest:m,reRequest:p,getStatus:v,isVerified:w,sortProducts:x,refreshPendingRequests:o};return u.jsx(Qp.Provider,{value:_,children:n})}function vj(){const n=T.useContext(Qp);if(n===void 0)throw new Error("useVerification must be used within a VerificationProvider");return n}function bj({productId:n,sellerId:a,currentStatus:r,onRequested:i,className:o=""}){const{t:c}=Ut(),{requestVerification:h,reRequest:g,isLoading:m}=vj(),[p,v]=T.useState(!1),[w]=T.useState([]),[x,_]=T.useState(null),S=async()=>{_(null);let j;r==="rejected"?j=await g(n,a,w):j=await h(n,a,w),j.success?(_({type:"success",text:j.message}),v(!1),i?.()):_({type:"error",text:j.message})},N=()=>{switch(r){case"verified":return u.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 bg-emerald-50 px-4 py-2 rounded-xl",children:[u.jsx(Kn,{size:18}),u.jsx("span",{className:"font-medium",children:c("verification.verified")})]});case"pending":return u.jsxs("div",{className:"flex items-center gap-2 text-amber-600 bg-amber-50 px-4 py-2 rounded-xl",children:[u.jsx(Ed,{size:18}),u.jsx("span",{className:"font-medium",children:c("verification.pendingReview")})]});case"rejected":return u.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-2 text-red-600 bg-red-50 hover:bg-red-100 px-4 py-2 rounded-xl transition-colors",children:[u.jsx(s0,{size:18}),u.jsx("span",{className:"font-medium",children:c("verification.reRequest")})]});case"none":default:return u.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-2 text-emerald-600 bg-emerald-50 hover:bg-emerald-100 px-4 py-2 rounded-xl transition-colors",children:[u.jsx(Ba,{size:18}),u.jsx("span",{className:"font-medium",children:c("verification.requestVerification")})]})}};return r==="verified"?u.jsx("div",{className:`flex flex-col gap-2 ${o}`,children:u.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 bg-emerald-50 px-4 py-3 rounded-xl",children:[u.jsx(Kn,{size:20}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:c("verification.productVerified")}),u.jsx("p",{className:"text-xs text-emerald-500",children:c("verification.verifiedBenefits")})]})]})}):u.jsxs("div",{className:`flex flex-col gap-3 ${o}`,children:[N(),x&&u.jsxs("div",{className:`flex items-center gap-2 p-3 rounded-xl ${x.type==="success"?"bg-emerald-50 text-emerald-600":"bg-red-50 text-red-600"}`,children:[x.type==="success"?u.jsx(Kn,{size:16}):u.jsx(s0,{size:16}),u.jsx("span",{className:"text-sm",children:x.text})]}),p&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 animate-scale-in",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900",children:c("verification.requestTitle")}),u.jsx("button",{onClick:()=>v(!1),className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(di,{size:20,className:"text-gray-500"})})]}),u.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 mb-4",children:[u.jsx("h4",{className:"text-sm font-semibold text-blue-700 mb-2",children:c("verification.requirements")}),u.jsxs("ul",{className:"text-xs text-blue-600 space-y-1",children:[u.jsxs("li",{className:"flex items-center gap-1",children:[u.jsx(Ju,{size:12}),c("verification.requirementInvoice")]}),u.jsxs("li",{className:"flex items-center gap-1",children:[u.jsx(Ju,{size:12}),c("verification.requirementPhotos")]}),u.jsxs("li",{className:"flex items-center gap-1",children:[u.jsx(Ju,{size:12}),c("verification.requirementDescription")]})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:c("verification.uploadDocuments")}),u.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-xl p-6 text-center hover:border-emerald-300 transition-colors cursor-pointer",children:[u.jsx(Zx,{size:24,className:"mx-auto text-gray-400 mb-2"}),u.jsx("p",{className:"text-sm text-gray-500",children:c("verification.dragDrop")}),u.jsx("p",{className:"text-xs text-gray-400 mt-1",children:c("verification.supportedFormats")})]})]}),u.jsxs("div",{className:"bg-emerald-50 rounded-xl p-4 mb-4",children:[u.jsx("h4",{className:"text-sm font-semibold text-emerald-700 mb-2",children:c("verification.benefitsTitle")}),u.jsxs("ul",{className:"text-xs text-emerald-600 space-y-1",children:[u.jsxs("li",{children:["✓ ",c("verification.benefit1")]}),u.jsxs("li",{children:["✓ ",c("verification.benefit2")]}),u.jsxs("li",{children:["✓ ",c("verification.benefit3")]})]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:()=>v(!1),className:"flex-1 py-3 rounded-xl border border-gray-200 text-gray-600 font-medium hover:bg-gray-50 transition-colors",children:c("common.cancel")}),u.jsx("button",{onClick:S,disabled:m,className:"flex-1 py-3 rounded-xl bg-emerald-500 text-white font-medium hover:bg-emerald-600 transition-colors disabled:opacity-50",children:c(m?"common.loading":"verification.submit")})]})]})})]})}function xj(){const{t:n}=Ut(),a=se(D=>D.selectedProductId),r=se(D=>D.navigate),i=se(D=>D.goBack),o=se(D=>D.toggleFavorite),c=se(D=>D.setViewCount),h=se(D=>D.language),g=se(D=>D.isAuthenticated),m=se(D=>D.setAuthNextPage),p=se(D=>a?D.favorites.includes(a):!1),v=se(D=>a?D.viewCounts[a]:void 0),[w,x]=T.useState(!1),{isLoading:_}=as(),S=a?na(a):null,N=S?bo(S.sellerId):null,j=N?ro(N.id).filter(D=>D.id!==S?.id).slice(0,4):[];if(T.useEffect(()=>{if(S&&!w){const D=So(S.id);D.recorded&&c(S.id,D.viewCount),x(!0)}},[S,w,c]),T.useEffect(()=>{x(!1)},[a]),!S||!N)return u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsx("p",{className:"text-gray-500",children:_?h==="ar"?"جاري التحميل...":"Loading...":"Product not found"})});const A=S.originalPrice?Math.round((S.originalPrice-S.price)/S.originalPrice*100):0,R=v??S.viewCount,C=i1(N.whatsapp,S.name),B=(()=>{if(typeof window>"u")return"";const D=new URL(window.location.href);return D.hash="",D.search="",D.searchParams.set("page","product"),D.searchParams.set("productId",S.id),D.toString()})(),J=async()=>{const D=h==="ar"?S.nameAr:S.name,G=h==="ar"?`شوف هذا المنتج: ${D}`:`Check this product: ${D}`;try{if(typeof navigator<"u"&&"share"in navigator){await navigator.share({title:D,text:G,url:B});return}}catch{}try{await navigator.clipboard.writeText(B),window.alert(h==="ar"?"تم نسخ رابط المنتج":"Product link copied")}catch{window.prompt(h==="ar"?"انسخ الرابط:":"Copy link:",B)}};return u.jsxs("div",{className:"min-h-screen bg-gray-50 pb-28",children:[u.jsxs("div",{className:"fixed top-0 left-0 right-0 z-50 flex items-center justify-between px-4 pt-12 pb-3 bg-white/80 backdrop-blur-xl border-b border-gray-100",children:[u.jsx("button",{onClick:i,className:"w-10 h-10 bg-gray-100 rounded-xl flex items-center justify-center hover:bg-gray-200 transition-colors",children:u.jsx(Ad,{size:20,className:"text-gray-700"})}),u.jsx("h1",{className:"text-sm font-semibold text-gray-900 truncate mx-4 flex-1 text-center",children:"Product Details"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>{if(!g){sessionStorage.setItem("iraq_marketplace_pending_action",JSON.stringify({type:"favorite",productId:S.id})),m("favorites"),r("profile");return}o(S.id)},className:"w-10 h-10 bg-gray-100 rounded-xl flex items-center justify-center hover:bg-gray-200 transition-colors",children:u.jsx(ci,{size:20,className:p?"fill-red-500 text-red-500":"text-gray-700"})}),u.jsx("button",{onClick:J,className:"w-10 h-10 bg-gray-100 rounded-xl flex items-center justify-center hover:bg-gray-200 transition-colors",children:u.jsx(sp,{size:20,className:"text-gray-700"})})]})]}),u.jsxs("div",{className:"pt-24 animate-fade-in",children:[u.jsxs("div",{className:"relative aspect-square bg-white mx-4 rounded-2xl overflow-hidden shadow-sm",children:[u.jsx(pp,{src:S.images[0],alt:S.name,className:"w-full h-full object-cover"}),A>0&&u.jsxs("span",{className:"absolute top-3 left-3 bg-red-500 text-white text-xs font-bold px-3 py-1 rounded-full",children:["-",A,"% OFF"]}),!S.inStock&&u.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:u.jsx("span",{className:"bg-white text-gray-900 font-bold px-4 py-2 rounded-lg",children:"SOLD OUT"})}),u.jsxs("div",{className:"absolute bottom-3 right-3 flex items-center gap-1 bg-black/50 backdrop-blur-sm rounded-full px-2.5 py-1",children:[u.jsx(Zr,{size:12,className:"text-white/80"}),u.jsxs("span",{className:"text-xs text-white/90 font-medium",children:[Md(R,h)," ",h==="ar"?"مشاهدة":"views"]})]})]}),u.jsxs("div",{className:"bg-white mx-4 mt-3 rounded-2xl p-4 shadow-sm border border-gray-100",children:[u.jsx("div",{className:"flex items-start justify-between gap-2",children:u.jsxs("div",{className:"flex-1",children:[u.jsx("span",{className:"text-[10px] font-semibold text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded-full uppercase tracking-wider",children:S.category}),u.jsx("h2",{className:"text-lg font-bold text-gray-900 mt-1.5",children:S.name}),u.jsx("h3",{className:"text-sm text-gray-500 font-medium",children:S.nameAr})]})}),u.jsxs("div",{className:"flex items-end gap-2 mt-3",children:[u.jsx("span",{className:"text-2xl font-bold text-emerald-600",children:Kt(S.price)}),S.originalPrice&&u.jsx("span",{className:"text-sm text-gray-400 line-through mb-0.5",children:Kt(S.originalPrice)})]}),u.jsx("p",{className:"text-sm text-gray-600 leading-relaxed mt-3",children:S.description}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:S.descriptionAr})]}),u.jsxs("div",{className:"bg-white mx-4 mt-3 rounded-2xl p-4 shadow-sm border border-gray-100",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h3",{className:"text-sm font-bold text-gray-900",children:n("verification.productVerification")}),u.jsx(pj,{status:S.verificationStatus,verifiedAt:S.verifiedAt})]}),u.jsx(mj,{status:S.verificationStatus,verifiedAt:S.verifiedAt,size:"sm"}),S.verificationStatus!=="verified"&&u.jsx("div",{className:"mt-3",children:u.jsx(bj,{productId:S.id,sellerId:S.sellerId,currentStatus:S.verificationStatus})})]}),u.jsx("div",{className:"bg-white mx-4 mt-3 rounded-2xl p-4 shadow-sm border border-gray-100 cursor-pointer active:scale-[0.99] transition-transform",onClick:()=>r("seller",{sellerId:N.id}),children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("img",{src:N.avatar,alt:N.name,className:"w-12 h-12 rounded-xl object-cover"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("h4",{className:"text-sm font-bold text-gray-900",children:N.name}),N.isVerified&&u.jsx(Ba,{size:16,className:"text-emerald-500"})]}),u.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx(fa,{size:12,className:"text-amber-400 fill-amber-400"}),u.jsx("span",{className:"text-xs font-medium text-gray-700",children:N.rating}),u.jsxs("span",{className:"text-[10px] text-gray-400",children:["(",N.totalRatings,")"]})]}),u.jsx("span",{className:"text-gray-300",children:"·"}),u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx(vo,{size:12,className:"text-gray-400"}),u.jsx("span",{className:"text-xs text-gray-500",children:N.locationAr})]})]})]}),u.jsx(lx,{size:16,className:"text-gray-400"})]})}),j.length>0&&u.jsxs("section",{className:"mt-5",children:[u.jsx("h3",{className:"text-base font-bold text-gray-900 px-4 mb-3",children:"More from this seller"}),u.jsx("div",{className:"flex gap-3 px-4 overflow-x-auto pb-2",style:{scrollbarWidth:"none"},children:j.map(D=>u.jsx("div",{className:"min-w-[160px] max-w-[160px]",children:u.jsx(vn,{product:D,compact:!0})},D.id))})]})]}),u.jsx("div",{className:"fixed bottom-16 left-0 right-0 z-40 px-4 py-3 bg-white/95 backdrop-blur-xl border-t border-gray-100 safe-bottom",children:u.jsxs("div",{className:"max-w-lg mx-auto",children:[u.jsx(mo,{}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("div",{className:"flex-1",children:u.jsx(gj,{product:S,showWarning:!1})}),u.jsxs("a",{href:C,target:"_blank",rel:"noopener noreferrer",className:`flex-1 flex items-center justify-center gap-2 py-3.5 rounded-xl font-bold text-sm transition-all active:scale-[0.98] ${S.inStock?"bg-emerald-500 text-white hover:bg-emerald-600 shadow-lg shadow-emerald-200":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,onClick:D=>!S.inStock&&D.preventDefault(),children:[u.jsx(rp,{size:18}),S.inStock?n("product.buyViaWhatsApp"):n("product.soldOut")]})]})]})})]})}function wj(){const n=se(N=>N.selectedSellerId),a=se(N=>N.goBack),r=se(N=>N.language),[i,o]=T.useState("products"),{isLoading:c}=as(),h=n?bo(n):null,g=h?ro(h.id):[],m=h?lp(h.id):[],p=h?.featuredProductId?g.find(N=>N.id===h.featuredProductId):void 0;if(!h)return u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsx("p",{className:"text-gray-500",children:c?r==="ar"?"جاري التحميل...":"Loading...":"Seller not found"})});const v=g.length>0?g.reduce((N,j)=>N+j.price,0)/g.length:0,{average:w,count:x}=$a(h.id),_=(()=>{if(typeof window>"u")return"";const N=new URL(window.location.href);return N.hash="",N.search="",N.searchParams.set("page","seller"),N.searchParams.set("sellerId",h.id),N.toString()})(),S=async()=>{const N=r==="ar"?h.nameAr:h.name,j=r==="ar"?`شوف صفحة هذا البائع: ${N}`:`Check this seller: ${N}`;try{if(typeof navigator<"u"&&"share"in navigator){await navigator.share({title:N,text:j,url:_});return}}catch{}try{await navigator.clipboard.writeText(_),window.alert(r==="ar"?"تم نسخ رابط صفحة البائع":"Seller link copied")}catch{window.prompt(r==="ar"?"انسخ الرابط:":"Copy link:",_)}};return u.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24",children:[u.jsxs("div",{className:"fixed top-0 left-0 right-0 z-50 flex items-center justify-between px-4 pt-12 pb-3 bg-white/80 backdrop-blur-xl border-b border-gray-100",children:[u.jsx("button",{onClick:a,className:"w-10 h-10 bg-gray-100 rounded-xl flex items-center justify-center",children:u.jsx(Ad,{size:20,className:"text-gray-700"})}),u.jsx("h1",{className:"text-sm font-semibold text-gray-900 truncate mx-4",children:h.name}),u.jsx("button",{onClick:S,className:"w-10 h-10 bg-gray-100 rounded-xl flex items-center justify-center",children:u.jsx(sp,{size:20,className:"text-gray-700"})})]}),u.jsxs("div",{className:"pt-24 animate-fade-in",children:[u.jsxs("div",{className:"relative mx-4",children:[u.jsxs("div",{className:"h-32 rounded-2xl overflow-hidden",children:[u.jsx("img",{src:h.coverImage,alt:"",className:"w-full h-full object-cover"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent rounded-2xl"})]}),u.jsx("div",{className:"absolute -bottom-8 left-4 flex items-end gap-3",children:u.jsx("img",{src:h.avatar,alt:h.name,className:"w-18 h-18 rounded-2xl object-cover border-4 border-white shadow-lg",style:{width:"72px",height:"72px"}})})]}),u.jsxs("div",{className:"mx-4 mt-12 bg-white rounded-2xl p-4 shadow-sm border border-gray-100",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("h2",{className:"text-lg font-bold text-gray-900",children:h.name}),h.isVerified&&u.jsx(Ba,{size:18,className:"text-emerald-500"})]}),u.jsx("p",{className:"text-sm text-gray-500",children:h.nameAr})]}),h.isVerified&&u.jsxs("span",{className:"bg-emerald-50 text-emerald-700 text-[10px] font-bold px-2.5 py-1 rounded-full flex items-center gap-1",children:[u.jsx(Ba,{size:10})," Verified"]})]}),u.jsx("p",{className:"text-sm text-gray-600 mt-2 leading-relaxed",children:h.bio}),u.jsxs("div",{className:"grid grid-cols-4 gap-2 mt-4",children:[u.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-xl",children:[u.jsx(fa,{size:16,className:"text-amber-400 mx-auto mb-0.5"}),u.jsx("p",{className:"text-sm font-bold text-gray-900",children:w.toFixed(1)}),u.jsxs("p",{className:"text-[10px] text-gray-500",children:["Rating (",x,")"]})]}),u.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-xl",children:[u.jsx(Rd,{size:16,className:"text-emerald-500 mx-auto mb-0.5"}),u.jsx("p",{className:"text-sm font-bold text-gray-900",children:h.totalSales}),u.jsx("p",{className:"text-[10px] text-gray-500",children:"Sales"})]}),u.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-xl",children:[u.jsx(Zr,{size:16,className:"text-blue-500 mx-auto mb-0.5"}),u.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[(h.viewCount/1e3).toFixed(1),"k"]}),u.jsx("p",{className:"text-[10px] text-gray-500",children:"Views"})]}),u.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-xl",children:[u.jsx(vo,{size:16,className:"text-red-400 mx-auto mb-0.5"}),u.jsx("p",{className:"text-sm font-bold text-gray-900",children:h.locationAr}),u.jsx("p",{className:"text-[10px] text-gray-500",children:"Location"})]})]}),u.jsxs("div",{className:"flex gap-2 mt-4",children:[u.jsxs("a",{href:`https://wa.me/${h.whatsapp}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center justify-center gap-1.5 bg-emerald-500 text-white text-xs font-bold py-2.5 rounded-xl hover:bg-emerald-600 transition-colors active:scale-[0.98]",children:[u.jsx(rp,{size:14}),"WhatsApp"]}),h.isVerified&&h.instagram&&u.jsxs("a",{href:`https://instagram.com/${h.instagram}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center justify-center gap-1.5 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-xs font-bold py-2.5 rounded-xl hover:opacity-90 transition-opacity active:scale-[0.98]",children:[u.jsx(np,{size:14}),"Instagram"]}),h.isVerified&&h.tiktok&&u.jsxs("a",{href:`https://tiktok.com/@${h.tiktok}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center justify-center gap-1.5 bg-gray-900 text-white text-xs font-bold py-2.5 rounded-xl hover:bg-gray-800 transition-colors active:scale-[0.98]",children:[u.jsx("span",{className:"text-sm",children:"♪"}),"TikTok"]})]}),u.jsxs("div",{className:"flex items-center gap-1.5 mt-3 text-gray-400",children:[u.jsx(ep,{size:12}),u.jsxs("span",{className:"text-[11px]",children:["Joined ",new Date(h.joinedDate).toLocaleDateString("en-US",{month:"long",year:"numeric"})]})]})]}),h.isVerified&&p&&u.jsx("div",{className:"mx-4 mt-4",children:u.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h3",{className:"text-sm font-bold text-gray-900",children:r==="ar"?"المنتج المميز":"Featured Product"}),u.jsx("span",{className:"text-[10px] bg-amber-50 text-amber-700 font-bold px-2 py-1 rounded-full",children:r==="ar"?"للموثقين فقط":"Verified only"})]}),u.jsx(vn,{product:p,compact:!1,trackViews:!1})]})}),u.jsxs("div",{className:"mx-4 mt-4 bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[u.jsxs("div",{className:"flex border-b border-gray-100",children:[u.jsxs("button",{onClick:()=>o("products"),className:`flex-1 py-3 text-xs font-semibold transition-all ${i==="products"?"text-emerald-600 border-b-2 border-emerald-500":"text-gray-500"}`,children:["Products (",g.length,")"]}),u.jsxs("button",{onClick:()=>o("reviews"),className:`flex-1 py-3 text-xs font-semibold transition-all ${i==="reviews"?"text-emerald-600 border-b-2 border-emerald-500":"text-gray-500"}`,children:["Reviews (",m.length,")"]})]}),u.jsx("div",{className:"p-3",children:i==="products"?g.length>0?u.jsx("div",{className:"grid grid-cols-2 gap-3",children:g.map(N=>u.jsx(vn,{product:N,compact:!0},N.id))}):u.jsxs("div",{className:"text-center py-8",children:[u.jsx("span",{className:"text-3xl",children:"📦"}),u.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No products yet"})]}):m.length>0?u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"bg-emerald-50 rounded-xl p-3 flex items-center gap-3",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-2xl font-bold text-emerald-700",children:w.toFixed(1)}),u.jsx("div",{className:"flex items-center gap-0.5 mt-0.5",children:[1,2,3,4,5].map(N=>u.jsx(fa,{size:12,className:N<=Math.round(w)?"text-amber-400 fill-amber-400":"text-gray-300"},N))}),u.jsxs("p",{className:"text-[10px] text-emerald-600 mt-0.5",children:[x," reviews"]})]}),u.jsxs("div",{className:"flex-1 text-[11px] text-emerald-700",children:[u.jsxs("p",{children:["Avg. product price: ",Kt(Math.round(v))]}),u.jsxs("p",{className:"mt-0.5",children:["Total sales: ",h.totalSales,"+"]})]})]}),m.map(N=>u.jsxs("div",{className:"border border-gray-100 rounded-xl p-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-7 h-7 bg-gray-200 rounded-full flex items-center justify-center text-xs font-bold text-gray-600",children:N.buyerName.charAt(0)}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold text-gray-900",children:N.buyerName}),u.jsx("p",{className:"text-[10px] text-gray-400",children:N.date})]})]}),N.verified&&u.jsxs("span",{className:"bg-emerald-50 text-emerald-600 text-[9px] font-bold px-2 py-0.5 rounded-full flex items-center gap-0.5",children:[u.jsx(Ba,{size:9})," Verified"]})]}),u.jsx("div",{className:"flex items-center gap-0.5 mb-1",children:[1,2,3,4,5].map(j=>u.jsx(fa,{size:11,className:j<=N.rating?"text-amber-400 fill-amber-400":"text-gray-300"},j))}),u.jsx("p",{className:"text-xs text-gray-600",children:N.comment})]},N.id))]}):u.jsxs("div",{className:"text-center py-8",children:[u.jsx("span",{className:"text-3xl",children:"⭐"}),u.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No reviews yet"})]})})]})]})]})}function Sj(){const n=se(o=>o.favorites),a=se(o=>o.navigate),r=se(o=>o.toggleFavorite);T.useEffect(()=>{const o=sessionStorage.getItem("iraq_marketplace_pending_action");if(o)try{const c=JSON.parse(o);c.type==="favorite"&&typeof c.productId=="string"&&r(c.productId)}finally{sessionStorage.removeItem("iraq_marketplace_pending_action")}},[r]);const i=n.map(o=>na(o)).filter(o=>o!==void 0);return u.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24",children:[u.jsx("div",{className:"bg-white sticky top-0 z-40 border-b border-gray-100 px-4 pt-12 pb-3",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ci,{size:20,className:"text-red-500"}),u.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Saved Items"}),i.length>0&&u.jsx("span",{className:"text-xs bg-red-100 text-red-600 font-bold px-2 py-0.5 rounded-full",children:i.length})]})}),u.jsx("div",{className:"p-4 animate-fade-in",children:i.length>0?u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:i.map(o=>u.jsx(vn,{product:o},o.id))}):u.jsxs("div",{className:"text-center py-20",children:[u.jsx("div",{className:"w-20 h-20 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(ci,{size:32,className:"text-red-300"})}),u.jsx("h3",{className:"text-gray-900 font-semibold text-lg mb-1",children:"No saved items yet"}),u.jsx("p",{className:"text-gray-500 text-sm mb-6 max-w-[240px] mx-auto",children:"Tap the heart icon on any product to save it here for later"}),u.jsx("button",{onClick:()=>a("search"),className:"bg-emerald-500 text-white text-sm font-semibold px-6 py-3 rounded-xl hover:bg-emerald-600 transition-colors active:scale-[0.98]",children:"Browse Products"})]})})]})}function _j(){const[n,a]=T.useState("enter"),[r,i]=T.useState(["","","",""]),[o,c]=T.useState(""),[h,g]=T.useState(0),[m,p]=T.useState(0),[v,w]=T.useState(""),[x,_]=T.useState(""),S=(C,B)=>{if(B.length>1)return;const J=[...r];J[C]=B,i(J),_(""),B&&C<3&&document.getElementById(`code-${C+1}`)?.focus()},N=(C,B)=>{B.key==="Backspace"&&!r[C]&&C>0&&document.getElementById(`code-${C-1}`)?.focus()},j=()=>{if(r.join("").length!==4){_("Please enter the complete 4-digit code");return}if(!o){_("Please select a seller");return}a("rate")},A=()=>{if(h===0){_("Please select a rating");return}a("success")},R=()=>{a("enter"),i(["","","",""]),c(""),g(0),w(""),_("")};return u.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24",children:[u.jsx("div",{className:"bg-white sticky top-0 z-40 border-b border-gray-100 px-4 pt-12 pb-3",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ba,{size:20,className:"text-emerald-500"}),u.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Verify & Rate"})]})}),u.jsxs("div",{className:"p-4 animate-fade-in",children:[u.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 rounded-2xl p-4 mb-4 border border-emerald-100",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(vx,{size:16,className:"text-emerald-600"}),u.jsx("h3",{className:"text-sm font-bold text-emerald-800",children:"How Verified Ratings Work"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"w-5 h-5 bg-emerald-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:"1"}),u.jsx("p",{className:"text-xs text-emerald-700",children:"Purchase a product via WhatsApp from any seller"})]}),u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"w-5 h-5 bg-emerald-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:"2"}),u.jsx("p",{className:"text-xs text-emerald-700",children:"After receiving your order, ask the seller for a 4-digit voucher code"})]}),u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"w-5 h-5 bg-emerald-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:"3"}),u.jsx("p",{className:"text-xs text-emerald-700",children:"Enter the code below to unlock the rating feature and leave a verified review"})]})]})]}),n==="enter"&&u.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100 animate-scale-in",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("div",{className:"w-16 h-16 bg-emerald-50 rounded-2xl flex items-center justify-center mx-auto mb-3",children:u.jsx(wx,{size:28,className:"text-emerald-500"})}),u.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Enter Voucher Code"}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter the 4-digit code from your seller"})]}),u.jsxs("div",{className:"mb-5",children:[u.jsx("label",{className:"text-xs font-semibold text-gray-600 mb-1.5 block",children:"Select Seller"}),u.jsxs("select",{value:o,onChange:C=>{c(C.target.value),_("")},className:"w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-300 appearance-none",children:[u.jsx("option",{value:"",children:"Choose a seller..."}),Wr.map(C=>u.jsxs("option",{value:C.id,children:[C.name," - ",C.locationAr]},C.id))]})]}),u.jsx("div",{className:"flex justify-center gap-3 mb-5",children:r.map((C,B)=>u.jsx("input",{id:`code-${B}`,type:"text",inputMode:"numeric",maxLength:1,value:C,onChange:J=>S(B,J.target.value.replace(/\D/g,"")),onKeyDown:J=>N(B,J),className:"w-14 h-14 text-center text-2xl font-bold bg-gray-50 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-emerald-500 focus:bg-white transition-all"},B))}),x&&u.jsxs("div",{className:"flex items-center gap-1.5 text-red-500 text-xs mb-4 justify-center",children:[u.jsx(to,{size:14}),u.jsx("span",{children:x})]}),u.jsx("button",{onClick:j,className:"w-full bg-emerald-500 text-white font-bold py-3.5 rounded-xl hover:bg-emerald-600 transition-colors active:scale-[0.98] shadow-lg shadow-emerald-200",children:"Verify Code"}),u.jsx("p",{className:"text-center text-[11px] text-gray-400 mt-3",children:"Demo: Enter any 4 digits (e.g., 1234) to test"})]}),n==="rate"&&u.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100 animate-scale-in",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("div",{className:"w-16 h-16 bg-amber-50 rounded-2xl flex items-center justify-center mx-auto mb-3",children:u.jsx(fa,{size:28,className:"text-amber-400"})}),u.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[u.jsx(Ba,{size:14,className:"text-emerald-500"}),u.jsx("span",{className:"text-xs text-emerald-600 font-semibold",children:"Code Verified!"})]}),u.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Rate Your Experience"}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Your review will be marked as verified"})]}),u.jsx("div",{className:"flex justify-center gap-2 mb-5",children:[1,2,3,4,5].map(C=>u.jsx("button",{onMouseEnter:()=>p(C),onMouseLeave:()=>p(0),onClick:()=>{g(C),_("")},className:"p-1 transition-transform hover:scale-110 active:scale-95",children:u.jsx(fa,{size:36,className:`transition-colors ${C<=(m||h)?"text-amber-400 fill-amber-400":"text-gray-200"}`})},C))}),u.jsxs("p",{className:"text-center text-sm text-gray-500 mb-4",children:[h===0&&"Tap a star to rate",h===1&&"😞 Poor",h===2&&"😐 Fair",h===3&&"🙂 Good",h===4&&"😊 Very Good",h===5&&"🤩 Excellent!"]}),u.jsxs("div",{className:"mb-5",children:[u.jsx("label",{className:"text-xs font-semibold text-gray-600 mb-1.5 block",children:"Your Review (Optional)"}),u.jsx("textarea",{value:v,onChange:C=>w(C.target.value),placeholder:"Share your experience with this seller...",rows:3,className:"w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-300 resize-none"})]}),x&&u.jsxs("div",{className:"flex items-center gap-1.5 text-red-500 text-xs mb-4 justify-center",children:[u.jsx(to,{size:14}),u.jsx("span",{children:x})]}),u.jsx("button",{onClick:A,className:"w-full bg-amber-500 text-white font-bold py-3.5 rounded-xl hover:bg-amber-600 transition-colors active:scale-[0.98] shadow-lg shadow-amber-200",children:"Submit Review"})]}),n==="success"&&u.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 animate-scale-in text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-emerald-50 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(tx,{size:40,className:"text-emerald-500"})}),u.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Thank You! 🎉"}),u.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Your verified review has been submitted successfully."}),u.jsx("div",{className:"flex items-center justify-center gap-0.5 my-3",children:[1,2,3,4,5].map(C=>u.jsx(fa,{size:20,className:C<=h?"text-amber-400 fill-amber-400":"text-gray-200"},C))}),u.jsxs("div",{className:"flex items-center justify-center gap-1 mb-6",children:[u.jsx(Ba,{size:14,className:"text-emerald-500"}),u.jsx("span",{className:"text-xs text-emerald-600 font-semibold",children:"Verified Purchase Review"})]}),u.jsx("button",{onClick:R,className:"bg-gray-100 text-gray-700 text-sm font-semibold px-6 py-3 rounded-xl hover:bg-gray-200 transition-colors active:scale-[0.98]",children:"Rate Another Seller"})]})]})]})}const Jp=T.createContext(null);function jj(n){const a=n.user_metadata??{},r=typeof a.full_name=="string"?a.full_name:typeof a.name=="string"?a.name:n.email?n.email.split("@")[0]??"":"",i=typeof a.avatar_url=="string"?a.avatar_url:void 0;return{id:n.id,email:n.email??"",phone:"",name:r||"User",nameAr:r||"مستخدم",role:"seller",avatar:i,createdAt:n.created_at,lastLogin:new Date().toISOString(),isVerified:!!n.email_confirmed_at,status:"active"}}function Nj({children:n}){const a=se(A=>A.setAuthenticated),r=se(A=>A.setAuthToken),i=se(A=>A.setUser),o=se(A=>A.navigate),c=se(A=>A.consumeAuthNextPage),[h,g]=T.useState(!0),[m,p]=T.useState(null),[v,w]=T.useState(null),x=m?.user??null;T.useEffect(()=>{let A=!1;async function R(){if(w(null),!zt||!ye){p(null),a(!1),r(null),i(null),g(!1);return}try{const{data:B,error:J}=await ye.auth.getSession();if(A)return;if(J)throw J;p(B.session??null)}catch(B){if(A)return;w(B instanceof Error?B.message:String(B)),p(null),i(null)}finally{A||g(!1)}}if(R(),!zt||!ye)return()=>{};const{data:C}=ye.auth.onAuthStateChange((B,J)=>{p(J)});return()=>{A=!0,C.subscription.unsubscribe()}},[a,r,i]),T.useEffect(()=>{const A=m?.access_token??null,R=!!m?.user;if(r(A),a(R),i(R&&m?.user?jj(m.user):null),m?.user){const C=c();C&&o(C)}},[c,o,m,a,r,i]);async function _(){if(w(null),!ye){p(null),a(!1),r(null),i(null);return}const{error:A}=await ye.auth.signOut();if(A)throw A}async function S(){if(w(null),!ye)return{error:"Supabase not configured"};const{error:A}=await ye.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`,queryParams:{access_type:"offline",prompt:"consent"}}});return A?(w(A.message),{error:A.message}):{error:null}}async function N(A,R){if(w(null),!ye)return{error:"Supabase not configured"};const{error:C}=await ye.auth.signInWithPassword({email:A,password:R});return C?(w(C.message),{error:C.message}):{error:null}}const j=T.useMemo(()=>({configured:zt,loading:h,session:m,user:x,error:v,signOut:_,signInWithGoogle:S,signInWithEmail:N}),[v,h,m,x]);return u.jsx(Jp.Provider,{value:j,children:n})}function Xp(){const n=T.useContext(Jp);if(!n)throw new Error("useSupabaseAuth must be used within <SupabaseAuthProvider>");return n}const kj="9647768416326";function Aj(n){return n==="ar"||n==="en"?n:tt.language?.startsWith("ar")?"ar":"en"}function Cj(n){const r=Aj(n)==="ar"?"مرحباً، أحتاج مساعدة بخصوص تطبيق سوق العراق.":"Hello, I need help with the Souq Iraq app.",i=tt.t("support.message",{defaultValue:r});op(kj,i)}function Fl({open:n,title:a,onClose:r,children:i}){return n?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:r,role:"dialog","aria-modal":"true",children:u.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white dark:bg-gray-800 shadow-xl border border-gray-100 dark:border-gray-700",onClick:o=>o.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 dark:border-gray-700",children:[u.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white",children:a}),u.jsx("button",{type:"button",onClick:r,className:"w-9 h-9 rounded-xl flex items-center justify-center hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Close",children:u.jsx(di,{size:18,className:"text-gray-500 dark:text-gray-300"})})]}),u.jsx("div",{className:"p-4",children:i})]})}):null}function Ej(){const{t:n}=Ut(),{configured:a,user:r,loading:i,signOut:o}=Xp(),{language:c,setLanguage:h,logout:g,navigate:m,isAuthenticated:p}=se(Qn(P=>({language:P.language,setLanguage:P.setLanguage,logout:P.logout,navigate:P.navigate,isAuthenticated:P.isAuthenticated}))),{clearCart:v}=es(),[w,x]=T.useState("buyer"),[_,S]=T.useState(null),[N,j]=T.useState(!1),[A,R]=T.useState(!1),[C,B]=T.useState(""),[J,D]=T.useState(""),[G,pe]=T.useState(""),[fe,ct]=T.useState(""),$e=()=>{m("login")},Ve=n(c==="ar"?"common.arabic":"common.english"),ut=()=>{C&&J&&G&&fe&&(R(!0),j(!1))},He=async()=>{try{await o()}finally{v(),g(),m("home"),S(null)}},le=[{icon:Hb,label:n("profile.notifications"),sub:"",color:"text-red-500",onClick:()=>S("notifications")},{icon:hx,label:n("profile.language"),sub:Ve,color:"text-blue-500",onClick:()=>S("language")},{icon:nx,label:n("profile.help"),sub:"",color:"text-amber-500",onClick:()=>Cj(c)}],z=[{icon:ao,label:n("profile.addNewProduct"),sub:n("profile.comingSoon"),color:"text-emerald-500",onClick:()=>m("sellerDashboard")},{icon:ui,label:n("profile.myProducts"),sub:n("profile.comingSoon"),color:"text-blue-500",onClick:()=>m("sellerDashboard")},{icon:t0,label:n("profile.analytics"),sub:n("profile.comingSoon"),color:"text-purple-500",onClick:()=>m("sellerDashboard")},{icon:r0,label:n("profile.verification"),sub:"",color:"text-amber-500",onClick:()=>m("verify")}];return u.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-24",children:[u.jsxs("div",{className:"bg-gradient-to-br from-emerald-600 via-emerald-500 to-teal-500 px-4 pt-12 pb-8 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white/5 rounded-full -translate-y-1/2 translate-x-1/2"}),u.jsxs("div",{className:"relative z-10",children:[u.jsx("h1",{className:"text-white text-lg font-bold mb-4",children:n("profile.title")}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center backdrop-blur-sm",children:u.jsx(dd,{size:28,className:"text-white"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-white text-base font-bold",children:i?n("common.loading"):p?r?.email??n("profile.title"):n("profile.guestUser")}),u.jsx("p",{className:"text-emerald-100 text-xs mt-0.5",children:n("profile.welcomeSubtitle")})]})]}),p?null:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-5 shadow-sm border border-gray-100 dark:border-gray-700 text-center mb-3",children:[u.jsx("div",{className:"w-20 h-20 bg-emerald-50 dark:bg-emerald-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(dd,{size:32,className:"text-emerald-400"})}),u.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:n("auth.loginTitle")}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:n("profile.signInToContinue")}),u.jsxs("button",{type:"button",onClick:$e,className:"w-full bg-emerald-500 text-white font-bold py-3.5 rounded-xl hover:bg-emerald-600 transition-colors active:scale-[0.98] shadow-lg shadow-emerald-200 flex items-center justify-center gap-2",children:[u.jsx(a0,{size:18,className:"rotate-180"}),n("auth.signIn")]}),a?null:u.jsx("div",{className:"mt-3 text-[11px] text-gray-500 dark:text-gray-400",children:n("auth.supabaseNotConfigured")})]}),u.jsxs("div",{className:"flex gap-1 mt-4 bg-white/15 rounded-xl p-0.5 backdrop-blur-sm",children:[u.jsx("button",{type:"button",onClick:()=>{x("buyer"),S(null)},className:`flex-1 py-2.5 text-xs font-semibold rounded-lg transition-all ${w==="buyer"?"bg-white text-emerald-700 shadow-sm":"text-white/80"}`,children:n("profile.buyerTab")}),u.jsx("button",{type:"button",onClick:()=>{x("seller"),S(null)},className:`flex-1 py-2.5 text-xs font-semibold rounded-lg transition-all ${w==="seller"?"bg-white text-emerald-700 shadow-sm":"text-white/80"}`,children:n("profile.sellerTab")})]})]})]}),u.jsxs("div",{className:"px-4 -mt-2 animate-fade-in",children:[w==="buyer"?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-gray-700 mb-3",children:u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("div",{className:"text-center",children:[u.jsx(ui,{size:20,className:"text-emerald-500 mx-auto mb-1"}),u.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"0"}),u.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:n("profile.myOrders")})]}),u.jsxs("div",{className:"text-center",children:[u.jsx(Xu,{size:20,className:"text-blue-500 mx-auto mb-1"}),u.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"0"}),u.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:n("seller.reviews")})]}),u.jsxs("div",{className:"text-center",children:[u.jsx(r0,{size:20,className:"text-amber-500 mx-auto mb-1"}),u.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"0"}),u.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:n("verify.verified")})]})]})}),u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:le.map((P,Z)=>u.jsxs("button",{type:"button",onClick:P.onClick,className:"w-full flex items-center gap-3 px-4 py-3.5 hover:bg-gray-50 dark:hover:bg-gray-700/40 transition-colors border-b border-gray-50 dark:border-gray-700 last:border-0",children:[u.jsx(P.icon,{size:20,className:P.color}),u.jsxs("div",{className:"flex-1 text-left",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:P.label}),P.sub&&u.jsx("p",{className:"text-[11px] text-gray-400",children:P.sub})]}),u.jsx(eo,{size:16,className:"text-gray-300"})]},Z))}),p?u.jsxs("button",{type:"button",onClick:()=>S("signout"),className:"w-full flex items-center gap-3 px-4 py-3.5 bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 mt-3 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[u.jsx(a0,{size:20,className:"text-red-500"}),u.jsx("span",{className:"text-sm font-medium text-red-500",children:n("profile.signOutTitle")})]}):null]}):u.jsx(u.Fragment,{children:p?!A&&!N?u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-5 shadow-sm border border-gray-100 dark:border-gray-700 text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-emerald-50 dark:bg-emerald-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Xu,{size:32,className:"text-emerald-400"})}),u.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:n("profile.becomeSeller")}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:n("home.zeroCommission")}),u.jsxs("div",{className:"flex flex-col gap-2 text-left bg-emerald-50 dark:bg-emerald-900/20 rounded-xl p-3 mb-4 text-xs text-emerald-700 dark:text-emerald-300",children:[u.jsxs("span",{children:["✓ ",n("home.sellForFree")]}),u.jsxs("span",{children:["✓ ",n("home.keepProfit")]}),u.jsxs("span",{children:["✓ ",n("cart.orderViaWhatsApp")]}),u.jsxs("span",{children:["✓ ",n("seller.verified")]})]}),u.jsxs("button",{type:"button",onClick:()=>j(!0),className:"w-full bg-emerald-500 text-white font-bold py-3.5 rounded-xl hover:bg-emerald-600 transition-colors active:scale-[0.98] shadow-lg shadow-emerald-200 flex items-center justify-center gap-2",children:[u.jsx(ao,{size:18}),n("profile.register")]})]}):N?u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-5 shadow-sm border border-gray-100 dark:border-gray-700 animate-scale-in",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:n("profile.register")}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-4",children:n("profile.comingSoon")}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-1 block",children:n("profile.storeNameLabel")}),u.jsx("input",{type:"text",value:C,onChange:P=>B(P.target.value),placeholder:n("profile.storeNamePlaceholder"),className:"w-full bg-gray-50 dark:bg-gray-900/40 border border-gray-200 dark:border-gray-700 rounded-xl px-4 py-3 text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-300"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-1 block",children:n("profile.whatsAppNumberLabel")}),u.jsx("input",{type:"tel",value:J,onChange:P=>D(P.target.value),placeholder:"+964 770 123 4567",className:"w-full bg-gray-50 dark:bg-gray-900/40 border border-gray-200 dark:border-gray-700 rounded-xl px-4 py-3 text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-300"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-1 block",children:n("profile.cityLabel")}),u.jsxs("select",{value:G,onChange:P=>pe(P.target.value),className:"w-full bg-gray-50 dark:bg-gray-900/40 border border-gray-200 dark:border-gray-700 rounded-xl px-4 py-3 text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-300 appearance-none",children:[u.jsx("option",{value:"",children:n("profile.cityPlaceholder")}),u.jsx("option",{value:"baghdad",children:"Baghdad"}),u.jsx("option",{value:"basra",children:"Basra"}),u.jsx("option",{value:"erbil",children:"Erbil"}),u.jsx("option",{value:"najaf",children:"Najaf"}),u.jsx("option",{value:"mosul",children:"Mosul"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-1 block",children:n("profile.categoryLabel")}),u.jsxs("select",{value:fe,onChange:P=>ct(P.target.value),className:"w-full bg-gray-50 dark:bg-gray-900/40 border border-gray-200 dark:border-gray-700 rounded-xl px-4 py-3 text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-300 appearance-none",children:[u.jsx("option",{value:"",children:n("profile.categoryPlaceholder")}),u.jsx("option",{value:"fashion",children:"Fashion"}),u.jsx("option",{value:"electronics",children:"Electronics"}),u.jsx("option",{value:"beauty",children:"Beauty"}),u.jsx("option",{value:"home",children:"Home & Decor"}),u.jsx("option",{value:"food",children:"Food"}),u.jsx("option",{value:"sports",children:"Sports"}),u.jsx("option",{value:"kids",children:"Kids"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-1 block",children:n("profile.storeLogoOptionalLabel")}),u.jsxs("button",{type:"button",className:"w-full bg-gray-50 dark:bg-gray-900/40 border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-xl px-4 py-6 text-sm text-gray-400 flex flex-col items-center gap-1 hover:border-emerald-300 hover:bg-emerald-50/50 transition-colors",children:[u.jsx(tp,{size:24,className:"text-gray-300"}),u.jsx("span",{className:"text-xs",children:n("profile.tapToUpload")})]})]})]}),u.jsxs("div",{className:"flex gap-2 mt-5",children:[u.jsx("button",{type:"button",onClick:()=>j(!1),className:"flex-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 font-semibold py-3 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-sm",children:n("common.cancel")}),u.jsx("button",{type:"button",onClick:ut,className:"flex-1 bg-emerald-500 text-white font-bold py-3 rounded-xl hover:bg-emerald-600 transition-colors active:scale-[0.98] shadow-lg shadow-emerald-200 text-sm",children:n("common.confirm")})]})]}):u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(Kn,{size:20,className:"text-emerald-500"}),u.jsx("h3",{className:"text-sm font-bold text-gray-900 dark:text-white",children:n("profile.sellerDashboard")})]}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-4",children:C?n("profile.welcomeStore",{storeName:C}):n("profile.welcomeSubtitle")}),u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("div",{className:"text-center p-3 bg-emerald-50 dark:bg-emerald-900/30 rounded-xl",children:[u.jsx(Zr,{size:18,className:"text-emerald-600 mx-auto mb-1"}),u.jsx("p",{className:"text-lg font-bold text-emerald-700 dark:text-emerald-300",children:"0"}),u.jsx("p",{className:"text-[10px] text-emerald-600 dark:text-emerald-300/80",children:n("profile.views")})]}),u.jsxs("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-900/25 rounded-xl",children:[u.jsx(t0,{size:18,className:"text-blue-600 mx-auto mb-1"}),u.jsx("p",{className:"text-lg font-bold text-blue-700 dark:text-blue-300",children:"0"}),u.jsx("p",{className:"text-[10px] text-blue-600 dark:text-blue-300/80",children:n("profile.stats")})]}),u.jsxs("div",{className:"text-center p-3 bg-amber-50 dark:bg-amber-900/25 rounded-xl",children:[u.jsx(Dd,{size:18,className:"text-amber-600 mx-auto mb-1"}),u.jsx("p",{className:"text-lg font-bold text-amber-700 dark:text-amber-300",children:"0%"}),u.jsx("p",{className:"text-[10px] text-amber-600 dark:text-amber-300/80",children:n("profile.rate")})]})]})]}),u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:z.map((P,Z)=>u.jsxs("button",{type:"button",onClick:P.onClick,className:"w-full flex items-center gap-3 px-4 py-3.5 hover:bg-gray-50 dark:hover:bg-gray-700/40 transition-colors border-b border-gray-50 dark:border-gray-700 last:border-0",children:[u.jsx(P.icon,{size:20,className:P.color}),u.jsxs("div",{className:"flex-1 text-left",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:P.label}),P.sub&&u.jsx("p",{className:"text-[11px] text-gray-400",children:P.sub})]}),u.jsx(eo,{size:16,className:"text-gray-300"})]},Z))})]}):u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-5 shadow-sm border border-gray-100 dark:border-gray-700 text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-emerald-50 dark:bg-emerald-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Xu,{size:32,className:"text-emerald-400"})}),u.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:n("common.signIn")}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:n("profile.signInToContinue")}),a?null:u.jsx("div",{className:"mt-2 text-[11px] text-gray-500 dark:text-gray-400",children:n("auth.supabaseNotConfigured")})]})}),u.jsx(Fl,{open:_==="notifications",title:n("profile.notifications"),onClose:()=>S(null),children:u.jsxs("div",{className:"text-center py-3",children:[u.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:n("notifications.emptyTitle")}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:n("notifications.emptyDescription")})]})}),u.jsx(Fl,{open:_==="language",title:n("profile.language"),onClose:()=>S(null),children:u.jsx("div",{className:"space-y-2",children:[{code:"ar",label:n("common.arabic")},{code:"en",label:n("common.english")}].map(P=>u.jsxs("button",{type:"button",onClick:()=>{h(P.code),S(null)},className:`w-full flex items-center justify-between px-4 py-3 rounded-xl border transition-colors ${c===P.code?"border-emerald-200 bg-emerald-50 dark:bg-emerald-900 dark:border-emerald-700":"border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/40"}`,children:[u.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:P.label}),c===P.code&&u.jsx(Cd,{size:18,className:"text-emerald-600"})]},P.code))})}),u.jsx(Fl,{open:_==="install",title:n("install.title"),onClose:()=>S(null),children:u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"rounded-xl bg-gray-50 dark:bg-gray-900/40 border border-gray-200 dark:border-gray-700 p-3",children:u.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-200",children:n("install.ios")})}),u.jsx("div",{className:"rounded-xl bg-gray-50 dark:bg-gray-900/40 border border-gray-200 dark:border-gray-700 p-3",children:u.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-200",children:n("install.android")})})]})}),u.jsxs(Fl,{open:_==="signout",title:n("profile.signOutTitle"),onClose:()=>S(null),children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:n("profile.signOutMessage")}),u.jsxs("div",{className:"flex gap-2 mt-4",children:[u.jsx("button",{type:"button",onClick:()=>S(null),className:"flex-1 py-3 rounded-xl bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 font-semibold hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:n("common.cancel")}),u.jsx("button",{type:"button",onClick:He,className:"flex-1 py-3 rounded-xl bg-red-500 text-white font-bold hover:bg-red-600 transition-colors",children:n("common.confirm")})]})]}),u.jsxs("div",{className:"text-center mt-6 pb-4",children:[u.jsx("p",{className:"text-[11px] text-gray-300",children:"Souq Iraq v1.0.0"}),u.jsx("p",{className:"text-[10px] text-gray-300 mt-0.5",children:"Iraqi Smart Marketplace PWA"})]})]})]})}function Tj({product:n,seller:a,quantity:r}){const{t:i}=Ut(),{updateQuantity:o,removeFromCart:c}=es(),h=()=>{o(n.id,r+1)},g=()=>{r>1?o(n.id,r-1):c(n.id)},m=()=>{c(n.id)},p=n.price*r;return u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4 mb-3",children:[u.jsxs("div",{className:"flex gap-4",children:[u.jsx("div",{className:"w-20 h-20 flex-shrink-0",children:u.jsx("img",{src:n.images[0],alt:n.name,className:"w-full h-full object-cover rounded-lg"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"font-medium text-gray-900 dark:text-white truncate",children:n.name}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a.name}),u.jsx("p",{className:"text-sm font-semibold text-emerald-600 dark:text-emerald-400 mt-1",children:Kt(n.price)})]}),u.jsx("button",{onClick:m,className:"text-gray-400 hover:text-red-500 transition-colors p-1","aria-label":i("removeFromCart"),children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),u.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-gray-100 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:g,className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),u.jsx("span",{className:"w-8 text-center font-medium text-gray-900 dark:text-white",children:r}),u.jsx("button",{onClick:h,className:"w-8 h-8 flex items-center justify-center rounded-full bg-emerald-100 dark:bg-emerald-900 text-emerald-600 dark:text-emerald-400 hover:bg-emerald-200 dark:hover:bg-emerald-800 transition-colors",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:i("cart.total")}),u.jsx("p",{className:"font-bold text-gray-900 dark:text-white",children:Kt(p)})]})]})]})}function Oj({sellerGroups:n,grandTotal:a}){const{t:r}=Ut();return u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4",children:[u.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:r("cart.orderSummary")}),n.map(i=>{const o=ip.find(c=>c.id===i.seller.location);return u.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-100 dark:border-gray-700 last:border-b-0 last:pb-0 last:mb-0",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("img",{src:i.seller.avatar,alt:i.seller.name,className:"w-10 h-10 rounded-full object-cover"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:i.seller.name}),u.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[u.jsxs("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),o?.nameAr||o?.name||i.seller.location]})]})]}),u.jsx("div",{className:"space-y-2",children:i.items.map(c=>u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:[c.product.name," × ",c.quantity]}),u.jsx("span",{className:"text-gray-900 dark:text-white",children:Kt(c.product.price*c.quantity)})]},c.product.id))}),u.jsxs("div",{className:"flex justify-between mt-2 pt-2 border-t border-gray-50 dark:border-gray-800",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:r("cart.sellerTotal")}),u.jsx("span",{className:"font-semibold text-emerald-600 dark:text-emerald-400",children:Kt(i.total)})]})]},i.seller.id)}),u.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:r("cart.orderTotal")}),u.jsx("span",{className:"text-xl font-bold text-emerald-600 dark:text-emerald-400",children:Kt(a)})]})})]})}function Rj(){const{t:n}=Ut(),{sellerGroups:a,total:r,itemCount:i,clearCart:o,isLoading:c,addToCart:h}=es(),{language:g,navigate:m}=se(Qn(N=>({language:N.language,navigate:N.navigate}))),[p,v]=T.useState(!1),[w,x]=T.useState(!1);T.useEffect(()=>{const N=sessionStorage.getItem("iraq_marketplace_pending_action");if(N)try{const j=JSON.parse(N);if(j.type==="add_to_cart"&&typeof j.productId=="string"){const A=typeof j.quantity=="number"&&Number.isFinite(j.quantity)?j.quantity:1;h(j.productId,A)}}finally{sessionStorage.removeItem("iraq_marketplace_pending_action")}},[h]);const _=()=>{a.length!==0&&x(!0)},S=()=>{x(!1),v(!0);const{openNextSeller:N}=dp(g);N(),v(!1),o()};return c?u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500"})}):a.length===0?u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-4",children:u.jsxs("div",{className:"max-w-lg mx-auto",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:n("cart.title")}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm p-8 text-center",children:[u.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:n("cart.emptyCart")}),u.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:n("cart.emptyCartMessage")}),u.jsx("button",{onClick:()=>m("home"),className:"px-6 py-3 bg-emerald-500 text-white rounded-xl font-medium hover:bg-emerald-600 transition-colors",children:n("cart.continueShopping")})]})]})}):u.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-24",children:[u.jsxs("div",{className:"max-w-lg mx-auto p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n("cart.title")}),u.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[i," ",n("cart.items")]})]}),u.jsx(mo,{}),a.map(N=>u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3 px-1",children:[u.jsx("img",{src:N.seller.avatar,alt:N.seller.name,className:"w-8 h-8 rounded-full object-cover"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:N.seller.name}),u.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[N.items.length," ",n("cart.items")]})]})]}),N.items.map(j=>u.jsx(Tj,{product:j.product,seller:N.seller,quantity:j.quantity},j.product.id))]},N.seller.id)),u.jsx(Oj,{sellerGroups:a,grandTotal:r}),u.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-4",children:u.jsx("div",{className:"max-w-lg mx-auto",children:u.jsxs("button",{onClick:_,disabled:p||i===0,className:"w-full py-4 bg-emerald-500 text-white rounded-xl font-semibold text-lg hover:bg-emerald-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),n("cart.completeOrder")," - ",Kt(r)]})})})]}),w&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 max-w-sm w-full",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:n("cart.confirmOrder")}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:n("cart.confirmOrderMessage",{count:a.length})}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3 mb-4",children:[a.map(N=>u.jsxs("div",{className:"flex justify-between text-sm mb-2 last:mb-0",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:N.seller.name}),u.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Kt(N.total)})]},N.seller.id)),u.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 mt-2 pt-2 flex justify-between",children:[u.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:n("cart.total")}),u.jsx("span",{className:"font-bold text-emerald-600 dark:text-emerald-400",children:Kt(r)})]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:()=>x(!1),className:"flex-1 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl font-medium hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:n("common.cancel")}),u.jsx("button",{onClick:S,className:"flex-1 py-3 bg-emerald-500 text-white rounded-xl font-medium hover:bg-emerald-600 transition-colors",children:n("common.confirm")})]})]})})]})}function Dj({seller:n,onProductAdded:a,onCancel:r,className:i=""}){const o=se(z=>z.language),{createProduct:c,uploadImage:h,isLoading:g}=as(),[m,p]=T.useState(""),[v,w]=T.useState(""),[x,_]=T.useState(""),[S,N]=T.useState(""),[j,A]=T.useState(""),[R,C]=T.useState(""),[B,J]=T.useState(null),[D,G]=T.useState(null),[pe,fe]=T.useState(null),[ct,$e]=T.useState(!1),Ve=T.useRef(null),ut=z=>{const P=z.target.files?.[0];if(P){if(!P.type.startsWith("image/")){fe(o==="ar"?"يرجى اختيار صورة صالحة":"Please select a valid image");return}if(P.size>5*1024*1024){fe(o==="ar"?"حجم الصورة يجب أن يكون أقل من 5 ميجابايت":"Image size must be less than 5MB");return}G(P);const Z=URL.createObjectURL(P);J(Z),fe(null)}},He=()=>{J(null),G(null),Ve.current&&(Ve.current.value="")},le=async z=>{if(z.preventDefault(),fe(null),!m.trim()||!v.trim()){fe(o==="ar"?"يرجى إدخال اسم المنتج باللغتين":"Please enter product name in both languages");return}if(!x.trim()||!S.trim()){fe(o==="ar"?"يرجى إدخال وصف المنتج باللغتين":"Please enter product description in both languages");return}if(!j||parseFloat(j)<=0){fe(o==="ar"?"يرجى إدخال سعر صحيح":"Please enter a valid price");return}if(!R){fe(o==="ar"?"يرجى اختيار قسم المنتج":"Please select a category");return}if(!D&&!B){fe(o==="ar"?"يرجى إضافة صورة للمنتج":"Please add a product image");return}try{let P=B||"";D&&(P=await h(D));const Z=no.find(_e=>_e.id===R),be={name:m.trim(),nameAr:v.trim(),description:x.trim(),descriptionAr:S.trim(),price:parseFloat(j),image:P,category:R,categoryAr:Z?.nameAr||R};await c(n.id,be),$e(!0),p(""),w(""),_(""),N(""),A(""),C(""),J(null),G(null),a?.(be),setTimeout(()=>$e(!1),3e3)}catch(P){fe(P instanceof Error?P.message:"Failed to create product")}};return u.jsxs("div",{className:`bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden ${i}`,children:[u.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 bg-gray-50",children:[u.jsx("h3",{className:"text-base font-bold text-gray-900",children:o==="ar"?"إضافة منتج جديد":"Add New Product"}),u.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:o==="ar"?"أضف منتجك بسهولة - فقط المعلومات الأساسية":"Add your product easily - just the basics"})]}),ct&&u.jsxs("div",{className:"mx-4 mt-4 p-3 bg-emerald-50 border border-emerald-200 rounded-xl flex items-center gap-2",children:[u.jsx(Cd,{size:18,className:"text-emerald-600"}),u.jsx("span",{className:"text-sm text-emerald-700 font-medium",children:o==="ar"?"تمت إضافة المنتج بنجاح!":"Product added successfully!"})]}),pe&&u.jsxs("div",{className:"mx-4 mt-4 p-3 bg-red-50 border border-red-200 rounded-xl flex items-center gap-2",children:[u.jsx(di,{size:18,className:"text-red-600"}),u.jsx("span",{className:"text-sm text-red-700",children:pe})]}),u.jsxs("form",{onSubmit:le,className:"p-4 space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o==="ar"?"صورة المنتج":"Product Image"," *"]}),B?u.jsxs("div",{className:"relative w-full aspect-square rounded-xl overflow-hidden bg-gray-100",children:[u.jsx("img",{src:B,alt:"Product preview",className:"w-full h-full object-cover"}),u.jsx("button",{type:"button",onClick:He,className:"absolute top-2 right-2 w-8 h-8 bg-red-500 text-white rounded-full flex items-center justify-center shadow-lg",children:u.jsx(di,{size:16})})]}):u.jsxs("button",{type:"button",onClick:()=>Ve.current?.click(),className:"w-full aspect-square rounded-xl border-2 border-dashed border-gray-300 flex flex-col items-center justify-center gap-2 text-gray-400 hover:border-emerald-400 hover:text-emerald-500 transition-colors",children:[u.jsx(tp,{size:32}),u.jsx("span",{className:"text-sm font-medium",children:o==="ar"?"اضغط لإضافة صورة":"Tap to add image"})]}),u.jsx("input",{ref:Ve,type:"file",accept:"image/*",onChange:ut,className:"hidden"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[o==="ar"?"اسم المنتج":"Product Name"," *"]}),u.jsx("input",{type:"text",value:m,onChange:z=>p(z.target.value),placeholder:o==="ar"?"بالإنجليزية":"In English",className:"w-full px-3 py-2 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-400"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[o==="ar"?"اسم المنتج":"Product Name"," *"]}),u.jsx("input",{type:"text",value:v,onChange:z=>w(z.target.value),placeholder:"بالعربية",dir:"rtl",className:"w-full px-3 py-2 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-400"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[o==="ar"?"الوصف":"Description"," *"]}),u.jsx("textarea",{value:x,onChange:z=>_(z.target.value),placeholder:o==="ar"?"بالإنجليزية":"In English",rows:3,className:"w-full px-3 py-2 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-400 resize-none"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[o==="ar"?"الوصف":"Description"," *"]}),u.jsx("textarea",{value:S,onChange:z=>N(z.target.value),placeholder:"بالعربية",dir:"rtl",rows:3,className:"w-full px-3 py-2 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-400 resize-none"})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[o==="ar"?"السعر (د.ع)":"Price (IQD)"," *"]}),u.jsx("input",{type:"number",value:j,onChange:z=>A(z.target.value),placeholder:"0",className:"w-full px-3 py-2 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-400"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[o==="ar"?"القسم":"Category"," *"]}),u.jsxs("select",{value:R,onChange:z=>C(z.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-400 bg-white",children:[u.jsx("option",{value:"",children:o==="ar"?"اختر القسم":"Select category"}),no.filter(z=>z.id!=="all").map(z=>u.jsxs("option",{value:z.id,children:[z.icon," ",o==="ar"?z.nameAr:z.name]},z.id))]})]}),u.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 space-y-2",children:[u.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:o==="ar"?"معلومات البائع (محفوظة مسبقاً)":"Seller Info (Pre-saved)"}),u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx("span",{className:"text-gray-500",children:o==="ar"?"المتجر:":"Store:"}),u.jsx("span",{className:"font-medium text-gray-900",children:o==="ar"?n.nameAr:n.name})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx("span",{className:"text-gray-500",children:o==="ar"?"الهاتف:":"Phone:"}),u.jsxs("span",{className:"font-medium text-gray-900",dir:"ltr",children:["+",n.whatsapp]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx("span",{className:"text-gray-500",children:o==="ar"?"التوصيل:":"Delivery:"}),u.jsx("span",{className:"font-medium text-emerald-600",children:n.deliveryInfo||yn("seller.deliveryToAllIraq")})]})]}),u.jsxs("div",{className:"flex gap-3 pt-2",children:[r&&u.jsx("button",{type:"button",onClick:r,className:"flex-1 py-3 px-4 border border-gray-200 rounded-xl text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:o==="ar"?"إلغاء":"Cancel"}),u.jsx("button",{type:"submit",disabled:g,className:"flex-1 py-3 px-4 bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-xl text-sm font-semibold hover:from-emerald-600 hover:to-teal-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:g?u.jsxs(u.Fragment,{children:[u.jsx(Td,{size:16,className:"animate-spin"}),u.jsx("span",{children:o==="ar"?"جاري الإضافة...":"Adding..."})]}):u.jsx("span",{children:o==="ar"?"إضافة المنتج":"Add Product"})})]})]})]})}function Lj({products:n,isOwner:a=!1,onAddProduct:r,onEditProduct:i,onDeleteProduct:o,className:c=""}){const h=se(m=>m.language),g=n.reduce((m,p)=>m+p.viewCount,0);return u.jsxs("div",{className:c,children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-base font-bold text-gray-900 flex items-center gap-2",children:[u.jsx(ui,{size:18,className:"text-emerald-600"}),h==="ar"?"منتجاتي":"My Products"]}),u.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-gray-500",children:[u.jsxs("span",{children:[n.length," ",h==="ar"?"منتج":"products"]}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(Zr,{size:12}),g.toLocaleString()," ",h==="ar"?"مشاهدة":"views"]})]})]}),a&&r&&u.jsxs("button",{onClick:r,className:"flex items-center gap-1.5 px-3 py-2 bg-emerald-500 text-white rounded-xl text-sm font-medium hover:bg-emerald-600 transition-colors",children:[u.jsx(ao,{size:16}),u.jsx("span",{children:h==="ar"?"إضافة":"Add"})]})]}),n.length>0?u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:n.map(m=>u.jsxs("div",{className:"relative group",children:[u.jsx(vn,{product:m}),a&&(i||o)&&u.jsxs("div",{className:"absolute top-2 left-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[i&&u.jsx("button",{onClick:p=>{p.stopPropagation(),i(m)},className:"w-8 h-8 bg-white/90 backdrop-blur-sm rounded-lg flex items-center justify-center shadow-sm hover:bg-white transition-colors",children:u.jsx(Tx,{size:14,className:"text-gray-600"})}),o&&u.jsx("button",{onClick:p=>{p.stopPropagation(),o(m)},className:"w-8 h-8 bg-white/90 backdrop-blur-sm rounded-lg flex items-center justify-center shadow-sm hover:bg-red-50 transition-colors",children:u.jsx(Yx,{size:14,className:"text-red-500"})})]})]},m.id))}):u.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-2xl",children:[u.jsx(ui,{size:48,className:"mx-auto text-gray-300 mb-3"}),u.jsx("h4",{className:"text-gray-900 font-semibold mb-1",children:h==="ar"?"لا توجد منتجات":"No products yet"}),u.jsx("p",{className:"text-gray-500 text-sm mb-4",children:h==="ar"?"ابدأ بإضافة منتجاتك الأولى":"Start by adding your first product"}),a&&r&&u.jsxs("button",{onClick:r,className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-500 text-white rounded-xl text-sm font-medium hover:bg-emerald-600 transition-colors",children:[u.jsx(ao,{size:16}),u.jsx("span",{children:h==="ar"?"إضافة منتج":"Add Product"})]})]})]})}function zj(){const n=se(le=>le.language),a=se(le=>le.navigate),r=se(le=>le.selectedSellerId),{fetchSellerById:i,fetchSellerStats:o,updateSocialLinks:c,updateFeaturedProduct:h,isLoading:g,error:m,clearError:p}=as(),[v,w]=T.useState(null),[x,_]=T.useState([]),[S,N]=T.useState(!1),[j,A]=T.useState("products"),[R,C]=T.useState(""),[B,J]=T.useState(""),[D,G]=T.useState(""),[pe,fe]=T.useState(!1);if(T.useEffect(()=>{const le=r||"s1",z=i(le);z&&(w(z),_(ro(le)),o(le),C(z.instagram||""),J(z.tiktok||""),G(z.featuredProductId||""),fe(!1))},[r,i,o]),!v)return u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsx("div",{className:"text-center",children:u.jsx("p",{className:"text-gray-500",children:n==="ar"?"جاري التحميل...":"Loading..."})})});const ct=x.reduce((le,z)=>le+z.viewCount,0),$e=x.length,Ve=x.filter(le=>le.inStock).length,{average:ut,count:He}=$a(v.id);return u.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24",children:[u.jsxs("div",{className:"bg-gradient-to-br from-emerald-600 via-emerald-500 to-teal-500 px-4 pt-12 pb-6 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white/5 rounded-full -translate-y-1/2 translate-x-1/2"}),u.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-white/5 rounded-full translate-y-1/2 -translate-x-1/2"}),u.jsxs("div",{className:"relative z-10",children:[u.jsx("button",{onClick:()=>a("home"),className:"w-10 h-10 bg-white/15 rounded-xl flex items-center justify-center mb-4",children:u.jsx(Ad,{size:20,className:"text-white"})}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("img",{src:v.avatar,alt:v.name,className:"w-16 h-16 rounded-xl object-cover border-2 border-white/30"}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h1",{className:"text-white text-lg font-bold",children:n==="ar"?v.nameAr:v.name}),v.isVerified&&u.jsx(md,{isVerified:!0,size:"sm"})]}),u.jsx("p",{className:"text-emerald-100 text-sm",children:n==="ar"?"لوحة تحكم البائع":"Seller Dashboard"})]})]})]})]}),u.jsx("div",{className:"px-4 -mt-4 relative z-20",children:u.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-gray-100",children:[u.jsx("div",{className:"flex items-center gap-2 mb-1",children:u.jsx("div",{className:"w-7 h-7 bg-blue-100 rounded-lg flex items-center justify-center",children:u.jsx(ui,{size:14,className:"text-blue-600"})})}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:$e}),u.jsx("p",{className:"text-[10px] text-gray-500",children:n==="ar"?"منتج":"Products"})]}),u.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-gray-100",children:[u.jsx("div",{className:"flex items-center gap-2 mb-1",children:u.jsx("div",{className:"w-7 h-7 bg-emerald-100 rounded-lg flex items-center justify-center",children:u.jsx(Zr,{size:14,className:"text-emerald-600"})})}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:ct.toLocaleString()}),u.jsx("p",{className:"text-[10px] text-gray-500",children:n==="ar"?"مشاهدة":"Views"})]}),u.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-gray-100",children:[u.jsx("div",{className:"flex items-center gap-2 mb-1",children:u.jsx("div",{className:"w-7 h-7 bg-amber-100 rounded-lg flex items-center justify-center",children:u.jsx(fa,{size:14,className:"text-amber-600"})})}),u.jsx("p",{className:"text-lg font-bold text-gray-900",children:ut.toFixed(1)}),u.jsx("p",{className:"text-[10px] text-gray-500",children:n==="ar"?`التقييم (${He})`:`Rating (${He})`})]})]})}),u.jsx("div",{className:"px-4 mt-4",children:u.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-xl p-3 flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-emerald-100 rounded-lg flex items-center justify-center flex-shrink-0",children:u.jsx(Ld,{size:18,className:"text-emerald-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium text-emerald-800",children:v.deliveryInfo||yn("seller.deliveryToAllIraq")}),u.jsx("p",{className:"text-xs text-emerald-600",children:n==="ar"?"يظهر في جميع منتجاتك":"Shows on all your products"})]})]})}),u.jsx("div",{className:"px-4 mt-4",children:u.jsxs("div",{className:"flex gap-1 bg-gray-100 rounded-lg p-0.5",children:[u.jsx("button",{onClick:()=>A("products"),className:`flex-1 py-2 text-xs font-semibold rounded-md transition-all ${j==="products"?"bg-white text-gray-900 shadow-sm":"text-gray-500"}`,children:n==="ar"?"منتجاتي":"My Products"}),u.jsx("button",{onClick:()=>A("stats"),className:`flex-1 py-2 text-xs font-semibold rounded-md transition-all ${j==="stats"?"bg-white text-gray-900 shadow-sm":"text-gray-500"}`,children:n==="ar"?"الإحصائيات":"Statistics"}),u.jsx("button",{onClick:()=>A("settings"),className:`flex-1 py-2 text-xs font-semibold rounded-md transition-all ${j==="settings"?"bg-white text-gray-900 shadow-sm":"text-gray-500"}`,children:n==="ar"?"الإعدادات":"Settings"})]})}),u.jsx("div",{className:"px-4 mt-4",children:j==="products"?S?u.jsx(Dj,{seller:v,onProductAdded:()=>{N(!1),_(ro(v.id))},onCancel:()=>N(!1)}):u.jsx(Lj,{seller:v,products:x,isOwner:!0,onAddProduct:()=>N(!0)}):j==="stats"?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100",children:[u.jsxs("h3",{className:"text-base font-bold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx(Dd,{size:18,className:"text-emerald-600"}),n==="ar"?"نظرة عامة":"Overview"]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[u.jsx("span",{className:"text-sm text-gray-600",children:n==="ar"?"إجمالي المنتجات":"Total Products"}),u.jsx("span",{className:"text-sm font-semibold text-gray-900",children:$e})]}),u.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[u.jsx("span",{className:"text-sm text-gray-600",children:n==="ar"?"المنتجات المتوفرة":"In Stock"}),u.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:Ve})]}),u.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[u.jsx("span",{className:"text-sm text-gray-600",children:n==="ar"?"المنتجات غير المتوفرة":"Out of Stock"}),u.jsx("span",{className:"text-sm font-semibold text-red-500",children:$e-Ve})]}),u.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[u.jsx("span",{className:"text-sm text-gray-600",children:n==="ar"?"إجمالي المشاهدات":"Total Views"}),u.jsx("span",{className:"text-sm font-semibold text-gray-900",children:ct.toLocaleString()})]}),u.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[u.jsx("span",{className:"text-sm text-gray-600",children:n==="ar"?"إجمالي المبيعات":"Total Sales"}),u.jsx("span",{className:"text-sm font-semibold text-gray-900",children:v.totalSales})]}),u.jsxs("div",{className:"flex items-center justify-between py-2",children:[u.jsx("span",{className:"text-sm text-gray-600",children:n==="ar"?"التقييم":"Rating"}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(fa,{size:14,className:"text-amber-400 fill-amber-400"}),u.jsx("span",{className:"text-sm font-semibold text-gray-900",children:ut.toFixed(1)}),u.jsxs("span",{className:"text-xs text-gray-500",children:["(",He,")"]})]})]})]})]}),u.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100",children:[u.jsx("h3",{className:"text-base font-bold text-gray-900 mb-3",children:n==="ar"?"حالة التحقق":"Verification Status"}),v.isVerified?u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-emerald-50 rounded-xl",children:[u.jsx(md,{isVerified:!0,size:"md",showLabel:!1}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-emerald-800",children:yn("seller.verified")}),u.jsx("p",{className:"text-xs text-emerald-600",children:n==="ar"?"منتجاتك تظهر أولاً في البحث":"Your products appear first in search"})]})]}):u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-amber-50 rounded-xl",children:[u.jsx("div",{className:"w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center",children:u.jsx(n0,{size:16,className:"text-amber-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-amber-800",children:n==="ar"?"حساب غير موثق":"Unverified Account"}),u.jsx("p",{className:"text-xs text-amber-600",children:n==="ar"?"توثيق حسابك للحصول على ميزات إضافية":"Verify your account for extra features"})]})]})]})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100",children:[u.jsxs("h3",{className:"text-base font-bold text-gray-900 mb-3 flex items-center gap-2",children:[u.jsx(n0,{size:18,className:"text-emerald-600"}),n==="ar"?"مزايا التوثيق":"Verification Benefits"]}),u.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(np,{size:16,className:"text-purple-500"}),u.jsx("span",{children:n==="ar"?"إضافة انستا وتيك توك للمتجر":"Add Instagram & TikTok links"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(fa,{size:16,className:"text-amber-500"}),u.jsx("span",{children:n==="ar"?"اختيار منتج مميز يظهر أعلى صفحة متجرك":"Pick a featured product shown on your seller page"})]})]})]}),u.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100",children:[u.jsx("h3",{className:"text-base font-bold text-gray-900 mb-3",children:n==="ar"?"روابط السوشيال":"Social Links"}),v.isVerified?u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-semibold text-gray-600 mb-1 block",children:n==="ar"?"انستغرام (بدون @)":"Instagram (no @)"}),u.jsx("input",{value:R,onChange:le=>{C(le.target.value),fe(!1),m&&p()},placeholder:n==="ar"?"مثال: noorfashion_iq":"e.g. noorfashion_iq",className:"w-full bg-gray-50 border border-gray-200 rounded-xl px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-200 focus:border-emerald-300",dir:"ltr"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-semibold text-gray-600 mb-1 block",children:n==="ar"?"تيك توك (بدون @)":"TikTok (no @)"}),u.jsx("input",{value:B,onChange:le=>{J(le.target.value),fe(!1),m&&p()},placeholder:n==="ar"?"مثال: noorfashion":"e.g. noorfashion",className:"w-full bg-gray-50 border border-gray-200 rounded-xl px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-200 focus:border-emerald-300",dir:"ltr"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-semibold text-gray-600 mb-1 block",children:n==="ar"?"المنتج المميز":"Featured Product"}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:D,onChange:le=>{G(le.target.value),fe(!1),m&&p()},className:"w-full appearance-none bg-gray-50 border border-gray-200 rounded-xl px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-200 focus:border-emerald-300",children:[u.jsx("option",{value:"",children:n==="ar"?"بدون":"None"}),x.map(le=>u.jsx("option",{value:le.id,children:n==="ar"?le.nameAr:le.name},le.id))]}),u.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-3 flex items-center text-gray-400",children:u.jsx(Ax,{size:16})})]})]}),m&&u.jsx("div",{className:"p-3 bg-red-50 rounded-xl text-sm text-red-700",children:m}),u.jsxs("button",{type:"button",disabled:g,onClick:async()=>{fe(!1),p();try{const le=await c(v.id,{instagram:R,tiktok:B}),z=await h(v.id,D||null);w(z),C(le.instagram||""),J(le.tiktok||""),G(z.featuredProductId||""),fe(!0)}catch{}},className:"w-full bg-emerald-500 text-white font-bold py-3 rounded-xl hover:bg-emerald-600 transition-colors active:scale-[0.98] disabled:opacity-60 flex items-center justify-center gap-2",children:[g?u.jsx(Td,{size:16,className:"animate-spin"}):u.jsx(Cd,{size:16}),n==="ar"?"حفظ":"Save"]}),pe&&!m&&u.jsx("div",{className:"p-3 bg-emerald-50 rounded-xl text-sm text-emerald-800",children:n==="ar"?"تم الحفظ.":"Saved."})]}):u.jsx("div",{className:"p-3 bg-amber-50 rounded-xl text-sm text-amber-800",children:n==="ar"?"هذه الميزة متاحة فقط للبائعين الموثقين.":"This feature is available for verified sellers only."})]})]})})]})}function Uj(n){const a=n.user_metadata??{},r=typeof a.full_name=="string"?a.full_name:typeof a.name=="string"?a.name:n.email?n.email.split("@")[0]??"":"",i=typeof a.avatar_url=="string"?a.avatar_url:void 0;return{id:n.id,email:n.email??"",phone:"",name:r||"User",nameAr:r||"مستخدم",role:"seller",avatar:i,createdAt:n.created_at??new Date().toISOString(),lastLogin:new Date().toISOString(),isVerified:!!n.email_confirmed_at,status:"active"}}function Mj(n){const a=["home","search","seller","product","favorites","profile","verify","cart","sellerDashboard"];return n&&a.includes(n)?n:"home"}function qj(){const n=se(h=>h.navigate),[a,r]=T.useState("working"),[i,o]=T.useState(null),c=T.useMemo(()=>{const g=new URL(window.location.href).searchParams.get("next"),m=sessionStorage.getItem("iraq_marketplace_auth_next_page");return Mj(g??m)},[]);return T.useEffect(()=>{let h=!1;async function g(){try{if(!zt||!ye)throw new Error("Missing VITE_SUPABASE_URL / VITE_SUPABASE_ANON_KEY");r("working"),o(null);const{error:m}=await ye.auth.exchangeCodeForSession(window.location.href);if(m)throw m;if(h)return;const{data:p}=await ye.auth.getSession(),v=p.session??null;se.getState().setAuthToken(v?.access_token??null);const w=!!v?.user;se.getState().setAuthenticated(w),se.getState().setUser(w&&v?.user?Uj(v.user):null),sessionStorage.removeItem("iraq_marketplace_auth_next_page"),window.history.replaceState(null,"","/"),r("done"),n(c)}catch(m){if(h)return;r("error"),o(m instanceof Error?m.message:String(m))}}return g(),()=>{h=!0}},[n,c]),a==="working"?u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm p-6 w-full max-w-sm text-center border border-gray-100 dark:border-gray-700",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500 mx-auto mb-4"}),u.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:"Completing sign-in…"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Please wait."})]})}):a==="done"?u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm p-6 w-full max-w-sm text-center border border-gray-100 dark:border-gray-700",children:[u.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:"Signed in"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Redirecting…"})]})}):u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm p-6 w-full max-w-sm text-center border border-gray-100 dark:border-gray-700",children:[u.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"Sign-in failed"}),u.jsx("p",{className:"text-sm text-red-600 mb-4",children:i??"Unknown error"}),u.jsx("button",{type:"button",onClick:()=>{window.history.replaceState(null,"","/"),n("profile")},className:"w-full bg-emerald-500 text-white font-semibold py-3 rounded-xl hover:bg-emerald-600 transition-colors",children:"Go to Profile"})]})})}function Bj(){const{t:n}=Ut(),{configured:a,signInWithGoogle:r,loading:i}=Xp(),{navigate:o,language:c}=se(),[h,g]=T.useState(!1),[m,p]=T.useState(null),v=async()=>{if(!a){p(c==="ar"?"يرجى إعداد Supabase أولاً":"Please configure Supabase first");return}g(!0),p(null);try{const{error:w}=await r();w&&p(w)}catch(w){p(w instanceof Error?w.message:c==="ar"?"حدث خطأ أثناء تسجيل الدخول":"An error occurred during login")}finally{g(!1)}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-600 via-emerald-500 to-teal-500 flex items-center justify-center p-4",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-3xl flex items-center justify-center mx-auto mb-4 backdrop-blur-sm",children:u.jsx("svg",{className:"w-12 h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),u.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:n("auth.loginTitle")}),u.jsx("p",{className:"text-emerald-100",children:n("auth.loginSubtitle")})]}),u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl p-8",children:a?u.jsxs(u.Fragment,{children:[u.jsxs("button",{type:"button",onClick:v,disabled:h||i,className:"w-full flex items-center justify-center gap-3 px-4 py-3.5 bg-white dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed mb-4",children:[h||i?u.jsx(Td,{size:20,className:"animate-spin text-gray-400"}):u.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),u.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:c==="ar"?"تسجيل الدخول":"Sign in with Google"})]}),m&&u.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-3 mb-4",children:u.jsx("p",{className:"text-xs text-red-600 dark:text-red-400",children:m})}),u.jsx("button",{type:"button",onClick:()=>o("home"),className:"w-full py-3 text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors",children:n("common.back")})]}):u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"w-16 h-16 bg-amber-50 dark:bg-amber-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("svg",{className:"w-8 h-8 text-amber-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),u.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:c==="ar"?"إعداد Supabase مطلوب":"Supabase Setup Required"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:c==="ar"?"يرجى إضافة VITE_SUPABASE_URL و VITE_SUPABASE_ANON_KEY في ملف .env":"Please add VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY to .env file"}),u.jsx("button",{type:"button",onClick:()=>o("home"),className:"px-6 py-3 bg-emerald-500 text-white font-semibold rounded-xl hover:bg-emerald-600 transition-colors",children:n("common.back")})]})}),u.jsx("div",{className:"text-center mt-6",children:u.jsx("p",{className:"text-xs text-white/60",children:c==="ar"?"سوف يتم إنشاء حسابك تلقائياً عند تسجيل الدخول لأول مرة":"Your account will be created automatically on first login"})})]})})}const $j=900*1e3,Vj=32,Fp={login:{windowMs:900*1e3,max:5},api:{windowMs:60*1e3,max:100},views:{windowMs:60*1e3,max:50}};function Zp(n=32){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=new Uint8Array(n);if(typeof window<"u"&&window.crypto)window.crypto.getRandomValues(r);else for(let i=0;i<n;i++)r[i]=Math.floor(Math.random()*256);return Array.from(r).map(i=>a[i%a.length]).join("")}function Pj(){return Zp(Vj)}const Vd="iraq_marketplace_session",Co="iraq_marketplace_csrf";function Ij(n){try{const a={...n,storedAt:Date.now()};sessionStorage.setItem(Vd,JSON.stringify(a)),sessionStorage.setItem(Co,n.token.slice(0,32))}catch(a){console.error("Failed to store session:",a)}}function po(){try{const n=sessionStorage.getItem(Vd);if(!n)return null;const a=JSON.parse(n);return new Date(a.expiresAt)<new Date?(Wp(),null):a}catch(n){return console.error("Failed to retrieve session:",n),null}}function Wp(){try{sessionStorage.removeItem(Vd),sessionStorage.removeItem(Co)}catch(n){console.error("Failed to clear session:",n)}}function Hj(){try{return sessionStorage.getItem(Co)}catch{return null}}function od(){const n=po();n&&(n.expiresAt=new Date(Date.now()+$j).toISOString(),Ij(n))}function Zl(){const n=po();if(!n)return 0;const r=new Date(n.expiresAt).getTime()-Date.now();return Math.max(0,r)}const yo=new Map;function Gj(n){const a=Fp[n];if(!a)return!1;const r=Date.now(),i=yo.get(n);return!i||r>i.resetAt?(yo.set(n,{count:1,resetAt:r+a.windowMs,blocked:!1}),!1):i.count>=a.max?(i.blocked=!0,!0):(i.count++,!1)}function Kj(n){const a=Fp[n];if(!a)return 1/0;const r=yo.get(n);return r?Math.max(0,a.max-r.count):a.max}function Yj(n){const a=yo.get(n);return a?Math.max(0,a.resetAt-Date.now()):0}function Qj(){let n=Hj();return n||(n=Pj(),sessionStorage.setItem(Co,n)),n}const ey="iraq_marketplace_audit_log";function cd(n,a,r="low",i){try{const o={id:Zp(16),eventType:n,userId:i,ipAddress:"client",userAgent:typeof navigator<"u"?navigator.userAgent:"unknown",details:a,timestamp:new Date().toISOString(),severity:r},c=Jj();c.push(o),c.length>100&&c.splice(0,c.length-100),localStorage.setItem(ey,JSON.stringify(c))}catch(o){console.error("Failed to log security event:",o)}}function Jj(){try{const n=localStorage.getItem(ey);return n?JSON.parse(n):[]}catch{return[]}}const Xj=300*1e3,Fj=60*1e3,Zj=30*1e3,Wj=T.createContext(void 0);function eN({children:n,onSessionExpired:a}){const[r,i]=T.useState({user:null,session:null,isAuthenticated:!1,isLoading:!0,error:null}),[o,c]=T.useState(0),[h,g]=T.useState(null),m=T.useRef(Date.now()),p=T.useRef(null),v=T.useRef(!1),w=T.useCallback(()=>{const D=po();D&&(od(),i(G=>({...G,session:D,isAuthenticated:!0})),c(Zl()))},[]),x=T.useCallback(async()=>{try{const D=r.user?.id;D&&cd("logout","User logged out","low",D),Wp(),i({user:null,session:null,isAuthenticated:!1,isLoading:!1,error:null}),c(0),g(null),v.current=!1}catch(D){console.error("Logout error:",D)}},[r.user?.id]),_=T.useCallback(async()=>{try{i(G=>({...G,isLoading:!0}));const D=po();if(D&&D.isActive){const G=Qj();g(G),i({user:null,session:D,isAuthenticated:!0,isLoading:!1,error:null}),c(Zl()),cd("login","Session restored","low",D.userId)}else i({user:null,session:null,isAuthenticated:!1,isLoading:!1,error:null})}catch(D){console.error("Auth check error:",D),i({user:null,session:null,isAuthenticated:!1,isLoading:!1,error:"Failed to check authentication"})}},[]),S=T.useCallback(()=>{r.isAuthenticated&&(od(),c(Zl()),v.current=!1)},[r.isAuthenticated]),N=T.useCallback(D=>Gj(D),[]),j=T.useCallback(D=>Kj(D),[]),A=T.useCallback(D=>Yj(D),[]),R=T.useCallback((D,G,pe="low")=>{cd(D,G,pe,r.user?.id)},[r.user?.id]),C=T.useCallback(()=>{i(D=>({...D,error:null}))},[]),B=T.useCallback(()=>{const D=Date.now();D-m.current>Fj&&(m.current=D,r.isAuthenticated&&od())},[r.isAuthenticated]);T.useEffect(()=>(_(),p.current=setInterval(()=>{if(r.isAuthenticated){const D=Zl();c(D),D<Xj&&D>0&&!v.current&&(v.current=!0,R("suspicious_activity","Session about to expire","medium")),D<=0&&(R("logout","Session expired","medium"),x(),a?.())}},Zj),()=>{p.current&&clearInterval(p.current)}),[r.isAuthenticated,_,x,R,a]),T.useEffect(()=>{if(!r.isAuthenticated)return;const D=["mousedown","keydown","touchstart","scroll"];return D.forEach(G=>{document.addEventListener(G,B,{passive:!0})}),()=>{D.forEach(G=>{document.removeEventListener(G,B)})}},[r.isAuthenticated,B]);const J={...r,refreshSession:w,logout:x,checkAuth:_,sessionTimeRemaining:o,extendSession:S,isActionRateLimited:N,getActionRemainingAttempts:j,getActionResetTime:A,logEvent:R,csrfToken:h,clearError:C};return u.jsx(Wj.Provider,{value:J,children:n})}const tN="iraq_marketplace_language",aN=T.createContext(void 0);function nN({children:n,defaultLanguage:a=kp}){const{t:r,i18n:i}=Ut(),o=se(N=>N.language),c=se(N=>N.setLanguage),h=o||a,[g,m]=T.useState(()=>ca.find(j=>j.code===h)?.direction||"ltr"),p=T.useRef(o);p.current=o;const v=T.useCallback(async N=>{const j=ca.find(A=>A.code===N);if(!j){console.warn(`Language ${N} is not supported`);return}await wS(N),c(N),m(j.direction),document.documentElement.dir=j.direction,document.documentElement.lang=N,localStorage.setItem(tN,N)},[c]),w=T.useCallback(async()=>{await v(o==="en"?"ar":"en")},[o,v]),x=T.useCallback((N,j)=>g==="rtl"?j:N,[g]),_=T.useCallback((N,j)=>g==="rtl"?j:N,[g]);T.useEffect(()=>{const N=ca.find(j=>j.code===h);N&&(document.documentElement.dir=N.direction,document.documentElement.lang=h)},[]),T.useEffect(()=>{const N=()=>{const j=i.language;if(j!==p.current&&ca.some(A=>A.code===j)){c(j);const A=ca.find(R=>R.code===j);A&&m(A.direction)}};return i.on("languageChanged",N),()=>{i.off("languageChanged",N)}},[i,c]);const S={language:o,languageConfig:ca.find(N=>N.code===o)||ca[0],direction:g,isRtl:g==="rtl",supportedLanguages:ca,setLanguage:v,toggleLanguage:w,t:r,getDirectionalValue:x,getDirectionalClass:_};return u.jsx(aN.Provider,{value:S,children:n})}const rN=T.createContext(null);function sN({children:n}){const a=se(x=>x.language),[r,i]=T.useState({}),[o,c]=T.useState(!1);T.useEffect(()=>{const x=u0(Object.keys(r));Object.keys(x).length>0&&i(_=>({..._,...x}))},[]),T.useEffect(()=>{const x=()=>{d0()};return window.addEventListener("beforeunload",x),()=>{window.removeEventListener("beforeunload",x),d0()}},[]);const h=T.useCallback(x=>{c(!0);const _=So(x);return _.recorded&&i(S=>({...S,[x]:_.viewCount})),c(!1),_},[]),g=T.useCallback(x=>r[x]!==void 0?r[x]:G1(x),[r]),m=T.useCallback(x=>{const _=g(x);return Md(_,a)},[g,a]),p=T.useCallback((x,_)=>{i(S=>({...S,[x]:_}))},[]),v=T.useCallback(x=>{const _=u0(x);i(S=>({...S,..._}))},[]),w={trackView:h,getViewCount:g,getFormattedViewCount:m,viewCounts:r,updateViewCount:p,batchUpdateViewCounts:v,isTracking:o};return u.jsx(rN.Provider,{value:w,children:n})}function iN(){const{currentPage:n,language:a,themePreference:r,navigate:i}=se(Qn(g=>({currentPage:g.currentPage,language:g.language,themePreference:g.themePreference,navigate:g.navigate}))),o=typeof window<"u"&&window.location.pathname.startsWith("/auth/callback"),c=T.useRef(!1);T.useEffect(()=>{document.documentElement.dir=a==="ar"?"rtl":"ltr",document.documentElement.lang=a},[a]),T.useEffect(()=>{if(o||c.current||(c.current=!0,typeof window>"u"))return;const m=new URL(window.location.href).searchParams,p=m.get("page"),v=m.get("productId"),w=m.get("sellerId");if((p==="product"||!p)&&v){i("product",{productId:v});return}(p==="seller"||!p)&&w&&i("seller",{sellerId:w})},[o,i]),T.useEffect(()=>{const g=()=>Lb();if(g(),typeof window>"u"||r!=="system")return;const m=window.matchMedia?.("(prefers-color-scheme: dark)");if(!m)return;const p=()=>g();return m.addEventListener?.("change",p),()=>m.removeEventListener?.("change",p)},[r]);const h=()=>{switch(n){case"home":return u.jsx(Z0,{});case"search":return u.jsx(hj,{});case"product":return u.jsx(xj,{});case"seller":return u.jsx(wj,{});case"favorites":return u.jsx(Sj,{});case"verify":return u.jsx(_j,{});case"profile":return u.jsx(Ej,{});case"cart":return u.jsx(Rj,{});case"sellerDashboard":return u.jsx(zj,{});case"login":return u.jsx(Bj,{});default:return u.jsx(Z0,{})}};return u.jsx(Nj,{children:u.jsx(eN,{children:u.jsx(nN,{children:u.jsx(sN,{children:u.jsx(b1,{children:u.jsx(rj,{children:u.jsx(yj,{children:o?u.jsx(qj,{}):u.jsxs("div",{className:"max-w-lg mx-auto bg-gray-50 dark:bg-gray-900 min-h-screen relative",children:[u.jsx("div",{className:"page-enter",children:h()},n),u.jsx(q1,{})]})})})})})})})})}class lN extends Qr.Component{state={hasError:!1,message:""};static getDerivedStateFromError(a){return{hasError:!0,message:a instanceof Error?a.message:String(a)}}componentDidCatch(a,r){console.error("App crashed:",a,r)}render(){return this.state.hasError?u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm p-6 w-full max-w-md border border-gray-100 dark:border-gray-700",children:[u.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"صار خطأ بالتطبيق"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4 break-words",children:this.state.message}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{type:"button",onClick:()=>window.location.reload(),className:"flex-1 bg-emerald-500 text-white font-semibold py-3 rounded-xl hover:bg-emerald-600 transition-colors",children:"إعادة تحميل"}),u.jsx("button",{type:"button",onClick:()=>{this.setState({hasError:!1,message:""})},className:"flex-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 font-semibold py-3 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"محاولة"})]})]})}):this.props.children}}jb.createRoot(document.getElementById("root")).render(u.jsx(T.StrictMode,{children:u.jsx(lN,{children:u.jsx(iN,{})})}));</script>
    <style rel="stylesheet" crossorigin>@layer properties{@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-translate-x:0;--tw-translate-y:0;--tw-translate-z:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scale-z:1;--tw-space-y-reverse:0;--tw-divide-y-reverse:0;--tw-border-style:solid;--tw-gradient-position:initial;--tw-gradient-from:#0000;--tw-gradient-via:#0000;--tw-gradient-to:#0000;--tw-gradient-stops:initial;--tw-gradient-via-stops:initial;--tw-gradient-from-position:0%;--tw-gradient-via-position:50%;--tw-gradient-to-position:100%;--tw-leading:initial;--tw-font-weight:initial;--tw-tracking:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-blur:initial;--tw-brightness:initial;--tw-contrast:initial;--tw-grayscale:initial;--tw-hue-rotate:initial;--tw-invert:initial;--tw-opacity:initial;--tw-saturate:initial;--tw-sepia:initial;--tw-drop-shadow:initial;--tw-drop-shadow-color:initial;--tw-drop-shadow-alpha:100%;--tw-drop-shadow-size:initial;--tw-backdrop-blur:initial;--tw-backdrop-brightness:initial;--tw-backdrop-contrast:initial;--tw-backdrop-grayscale:initial;--tw-backdrop-hue-rotate:initial;--tw-backdrop-invert:initial;--tw-backdrop-opacity:initial;--tw-backdrop-saturate:initial;--tw-backdrop-sepia:initial;--tw-duration:initial}}}@layer theme{:root,:host{--font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--color-red-50:oklch(97.1% .013 17.38);--color-red-100:oklch(93.6% .032 17.717);--color-red-200:oklch(88.5% .062 18.334);--color-red-300:oklch(80.8% .114 19.571);--color-red-400:oklch(70.4% .191 22.216);--color-red-500:oklch(63.7% .237 25.331);--color-red-600:oklch(57.7% .245 27.325);--color-red-700:oklch(50.5% .213 27.518);--color-red-800:oklch(44.4% .177 26.899);--color-red-900:oklch(39.6% .141 25.723);--color-orange-50:oklch(98% .016 73.684);--color-orange-100:oklch(95.4% .038 75.164);--color-orange-400:oklch(75% .183 55.934);--color-orange-600:oklch(64.6% .222 41.116);--color-orange-700:oklch(55.3% .195 38.402);--color-amber-50:oklch(98.7% .022 95.277);--color-amber-100:oklch(96.2% .059 95.617);--color-amber-200:oklch(92.4% .12 95.746);--color-amber-300:oklch(87.9% .169 91.605);--color-amber-400:oklch(82.8% .189 84.429);--color-amber-500:oklch(76.9% .188 70.08);--color-amber-600:oklch(66.6% .179 58.318);--color-amber-700:oklch(55.5% .163 48.998);--color-amber-800:oklch(47.3% .137 46.201);--color-amber-900:oklch(41.4% .112 45.904);--color-green-500:oklch(72.3% .219 149.579);--color-emerald-50:oklch(97.9% .021 166.113);--color-emerald-100:oklch(95% .052 163.051);--color-emerald-200:oklch(90.5% .093 164.15);--color-emerald-300:oklch(84.5% .143 164.978);--color-emerald-400:oklch(76.5% .177 163.223);--color-emerald-500:oklch(69.6% .17 162.48);--color-emerald-600:oklch(59.6% .145 163.225);--color-emerald-700:oklch(50.8% .118 165.612);--color-emerald-800:oklch(43.2% .095 166.913);--color-emerald-900:oklch(37.8% .077 168.94);--color-teal-50:oklch(98.4% .014 180.72);--color-teal-500:oklch(70.4% .14 182.503);--color-teal-600:oklch(60% .118 184.704);--color-blue-50:oklch(97% .014 254.604);--color-blue-100:oklch(93.2% .032 255.585);--color-blue-300:oklch(80.9% .105 251.813);--color-blue-500:oklch(62.3% .214 259.815);--color-blue-600:oklch(54.6% .245 262.881);--color-blue-700:oklch(48.8% .243 264.376);--color-blue-900:oklch(37.9% .146 265.522);--color-purple-50:oklch(97.7% .014 308.299);--color-purple-100:oklch(94.6% .033 307.174);--color-purple-500:oklch(62.7% .265 303.9);--color-purple-600:oklch(55.8% .288 302.321);--color-purple-700:oklch(49.6% .265 301.924);--color-pink-100:oklch(94.8% .028 342.258);--color-pink-500:oklch(65.6% .241 354.308);--color-pink-700:oklch(52.5% .223 3.958);--color-rose-400:oklch(71.2% .194 13.428);--color-gray-50:oklch(98.5% .002 247.839);--color-gray-100:oklch(96.7% .003 264.542);--color-gray-200:oklch(92.8% .006 264.531);--color-gray-300:oklch(87.2% .01 258.338);--color-gray-400:oklch(70.7% .022 261.325);--color-gray-500:oklch(55.1% .027 264.364);--color-gray-600:oklch(44.6% .03 256.802);--color-gray-700:oklch(37.3% .034 259.733);--color-gray-800:oklch(27.8% .033 256.848);--color-gray-900:oklch(21% .034 264.665);--color-black:#000;--color-white:#fff;--spacing:.25rem;--container-sm:24rem;--container-md:28rem;--container-lg:32rem;--text-xs:.75rem;--text-xs--line-height:calc(1/.75);--text-sm:.875rem;--text-sm--line-height:calc(1.25/.875);--text-base:1rem;--text-base--line-height: 1.5 ;--text-lg:1.125rem;--text-lg--line-height:calc(1.75/1.125);--text-xl:1.25rem;--text-xl--line-height:calc(1.75/1.25);--text-2xl:1.5rem;--text-2xl--line-height:calc(2/1.5);--text-3xl:1.875rem;--text-3xl--line-height: 1.2 ;--text-4xl:2.25rem;--text-4xl--line-height:calc(2.5/2.25);--font-weight-medium:500;--font-weight-semibold:600;--font-weight-bold:700;--tracking-wider:.05em;--leading-tight:1.25;--leading-relaxed:1.625;--radius-md:.375rem;--radius-lg:.5rem;--radius-xl:.75rem;--radius-2xl:1rem;--radius-3xl:1.5rem;--animate-spin:spin 1s linear infinite;--animate-ping:ping 1s cubic-bezier(0,0,.2,1)infinite;--animate-pulse:pulse 2s cubic-bezier(.4,0,.6,1)infinite;--blur-sm:8px;--blur-xl:24px;--aspect-video:16/9;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono)}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:currentColor}@supports (color:color-mix(in lab,red,red)){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}::-webkit-calendar-picker-indicator{line-height:1}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){appearance:button}::file-selector-button{appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}}@layer components;@layer utilities{.pointer-events-none{pointer-events:none}.visible{visibility:visible}.absolute{position:absolute}.fixed{position:fixed}.relative{position:relative}.static{position:static}.sticky{position:sticky}.inset-0{inset:calc(var(--spacing)*0)}.inset-y-0{inset-block:calc(var(--spacing)*0)}.-top-0\.5{top:calc(var(--spacing)*-.5)}.-top-1{top:calc(var(--spacing)*-1)}.-top-1\.5{top:calc(var(--spacing)*-1.5)}.top-0{top:calc(var(--spacing)*0)}.top-1\/2{top:50%}.top-2{top:calc(var(--spacing)*2)}.top-3{top:calc(var(--spacing)*3)}.top-full{top:100%}.-right-1{right:calc(var(--spacing)*-1)}.-right-1\.5{right:calc(var(--spacing)*-1.5)}.right-0{right:calc(var(--spacing)*0)}.right-2{right:calc(var(--spacing)*2)}.right-3{right:calc(var(--spacing)*3)}.-bottom-8{bottom:calc(var(--spacing)*-8)}.bottom-0{bottom:calc(var(--spacing)*0)}.bottom-2{bottom:calc(var(--spacing)*2)}.bottom-3{bottom:calc(var(--spacing)*3)}.bottom-16{bottom:calc(var(--spacing)*16)}.left-0{left:calc(var(--spacing)*0)}.left-2{left:calc(var(--spacing)*2)}.left-3{left:calc(var(--spacing)*3)}.left-4{left:calc(var(--spacing)*4)}.z-10{z-index:10}.z-20{z-index:20}.z-40{z-index:40}.z-50{z-index:50}.mx-4{margin-inline:calc(var(--spacing)*4)}.mx-auto{margin-inline:auto}.my-3{margin-block:calc(var(--spacing)*3)}.-mt-1{margin-top:calc(var(--spacing)*-1)}.-mt-2{margin-top:calc(var(--spacing)*-2)}.-mt-4{margin-top:calc(var(--spacing)*-4)}.-mt-5{margin-top:calc(var(--spacing)*-5)}.mt-0\.5{margin-top:calc(var(--spacing)*.5)}.mt-1{margin-top:calc(var(--spacing)*1)}.mt-1\.5{margin-top:calc(var(--spacing)*1.5)}.mt-2{margin-top:calc(var(--spacing)*2)}.mt-3{margin-top:calc(var(--spacing)*3)}.mt-4{margin-top:calc(var(--spacing)*4)}.mt-5{margin-top:calc(var(--spacing)*5)}.mt-6{margin-top:calc(var(--spacing)*6)}.mt-12{margin-top:calc(var(--spacing)*12)}.mr-1{margin-right:calc(var(--spacing)*1)}.mb-0\.5{margin-bottom:calc(var(--spacing)*.5)}.mb-1{margin-bottom:calc(var(--spacing)*1)}.mb-1\.5{margin-bottom:calc(var(--spacing)*1.5)}.mb-2{margin-bottom:calc(var(--spacing)*2)}.mb-3{margin-bottom:calc(var(--spacing)*3)}.mb-4{margin-bottom:calc(var(--spacing)*4)}.mb-5{margin-bottom:calc(var(--spacing)*5)}.mb-6{margin-bottom:calc(var(--spacing)*6)}.mb-8{margin-bottom:calc(var(--spacing)*8)}.ml-1{margin-left:calc(var(--spacing)*1)}.ml-auto{margin-left:auto}.line-clamp-1{-webkit-line-clamp:1;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.line-clamp-2{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.block{display:block}.flex{display:flex}.grid{display:grid}.hidden{display:none}.inline{display:inline}.inline-flex{display:inline-flex}.table{display:table}.aspect-square{aspect-ratio:1}.aspect-video{aspect-ratio:var(--aspect-video)}.h-0\.5{height:calc(var(--spacing)*.5)}.h-2\.5{height:calc(var(--spacing)*2.5)}.h-3{height:calc(var(--spacing)*3)}.h-3\.5{height:calc(var(--spacing)*3.5)}.h-4{height:calc(var(--spacing)*4)}.h-5{height:calc(var(--spacing)*5)}.h-6{height:calc(var(--spacing)*6)}.h-7{height:calc(var(--spacing)*7)}.h-8{height:calc(var(--spacing)*8)}.h-9{height:calc(var(--spacing)*9)}.h-10{height:calc(var(--spacing)*10)}.h-11{height:calc(var(--spacing)*11)}.h-12{height:calc(var(--spacing)*12)}.h-14{height:calc(var(--spacing)*14)}.h-16{height:calc(var(--spacing)*16)}.h-18{height:calc(var(--spacing)*18)}.h-20{height:calc(var(--spacing)*20)}.h-24{height:calc(var(--spacing)*24)}.h-32{height:calc(var(--spacing)*32)}.h-40{height:calc(var(--spacing)*40)}.h-full{height:100%}.max-h-\[90vh\]{max-height:90vh}.min-h-screen{min-height:100vh}.w-2\.5{width:calc(var(--spacing)*2.5)}.w-3{width:calc(var(--spacing)*3)}.w-3\.5{width:calc(var(--spacing)*3.5)}.w-4{width:calc(var(--spacing)*4)}.w-5{width:calc(var(--spacing)*5)}.w-6{width:calc(var(--spacing)*6)}.w-7{width:calc(var(--spacing)*7)}.w-8{width:calc(var(--spacing)*8)}.w-9{width:calc(var(--spacing)*9)}.w-10{width:calc(var(--spacing)*10)}.w-11{width:calc(var(--spacing)*11)}.w-12{width:calc(var(--spacing)*12)}.w-14{width:calc(var(--spacing)*14)}.w-16{width:calc(var(--spacing)*16)}.w-18{width:calc(var(--spacing)*18)}.w-20{width:calc(var(--spacing)*20)}.w-24{width:calc(var(--spacing)*24)}.w-32{width:calc(var(--spacing)*32)}.w-40{width:calc(var(--spacing)*40)}.w-full{width:100%}.max-w-\[80px\]{max-width:80px}.max-w-\[160px\]{max-width:160px}.max-w-\[240px\]{max-width:240px}.max-w-lg{max-width:var(--container-lg)}.max-w-md{max-width:var(--container-md)}.max-w-sm{max-width:var(--container-sm)}.min-w-0{min-width:calc(var(--spacing)*0)}.min-w-\[140px\]{min-width:140px}.min-w-\[160px\]{min-width:160px}.flex-1{flex:1}.flex-shrink-0{flex-shrink:0}.-translate-x-1\/2{--tw-translate-x: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-x-1\/2{--tw-translate-x: 50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-x-1\/3{--tw-translate-x:calc(1/3*100%);translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-y-1\/2{--tw-translate-y: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-y-1\/3{--tw-translate-y:calc(calc(1/3*100%)*-1);translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-y-1\/2{--tw-translate-y: 50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.scale-110{--tw-scale-x:110%;--tw-scale-y:110%;--tw-scale-z:110%;scale:var(--tw-scale-x)var(--tw-scale-y)}.rotate-180{rotate:180deg}.animate-ping{animation:var(--animate-ping)}.animate-pulse{animation:var(--animate-pulse)}.animate-spin{animation:var(--animate-spin)}.cursor-not-allowed{cursor:not-allowed}.cursor-pointer{cursor:pointer}.resize-none{resize:none}.appearance-none{appearance:none}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.items-end{align-items:flex-end}.items-start{align-items:flex-start}.justify-around{justify-content:space-around}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.gap-0\.5{gap:calc(var(--spacing)*.5)}.gap-1{gap:calc(var(--spacing)*1)}.gap-1\.5{gap:calc(var(--spacing)*1.5)}.gap-2{gap:calc(var(--spacing)*2)}.gap-3{gap:calc(var(--spacing)*3)}.gap-4{gap:calc(var(--spacing)*4)}:where(.space-y-1>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*1)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*1)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-2>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*2)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*2)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-3>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*3)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*3)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-4>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*4)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*4)*calc(1 - var(--tw-space-y-reverse)))}:where(.divide-y>:not(:last-child)){--tw-divide-y-reverse:0;border-bottom-style:var(--tw-border-style);border-top-style:var(--tw-border-style);border-top-width:calc(1px*var(--tw-divide-y-reverse));border-bottom-width:calc(1px*calc(1 - var(--tw-divide-y-reverse)))}:where(.divide-gray-50>:not(:last-child)){border-color:var(--color-gray-50)}.truncate{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overscroll-none{overscroll-behavior:none}.rounded{border-radius:.25rem}.rounded-2xl{border-radius:var(--radius-2xl)}.rounded-3xl{border-radius:var(--radius-3xl)}.rounded-full{border-radius:3.40282e38px}.rounded-lg{border-radius:var(--radius-lg)}.rounded-md{border-radius:var(--radius-md)}.rounded-xl{border-radius:var(--radius-xl)}.border{border-style:var(--tw-border-style);border-width:1px}.border-2{border-style:var(--tw-border-style);border-width:2px}.border-4{border-style:var(--tw-border-style);border-width:4px}.border-y{border-block-style:var(--tw-border-style);border-block-width:1px}.border-t{border-top-style:var(--tw-border-style);border-top-width:1px}.border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.border-b-2{border-bottom-style:var(--tw-border-style);border-bottom-width:2px}.border-dashed{--tw-border-style:dashed;border-style:dashed}.border-amber-200{border-color:var(--color-amber-200)}.border-amber-500\/30{border-color:#f99c004d}@supports (color:color-mix(in lab,red,red)){.border-amber-500\/30{border-color:color-mix(in oklab,var(--color-amber-500)30%,transparent)}}.border-amber-600{border-color:var(--color-amber-600)}.border-emerald-100{border-color:var(--color-emerald-100)}.border-emerald-200{border-color:var(--color-emerald-200)}.border-emerald-500{border-color:var(--color-emerald-500)}.border-emerald-600{border-color:var(--color-emerald-600)}.border-gray-50{border-color:var(--color-gray-50)}.border-gray-100{border-color:var(--color-gray-100)}.border-gray-200{border-color:var(--color-gray-200)}.border-gray-300{border-color:var(--color-gray-300)}.border-gray-500{border-color:var(--color-gray-500)}.border-red-200{border-color:var(--color-red-200)}.border-red-600{border-color:var(--color-red-600)}.border-transparent{border-color:#0000}.border-white{border-color:var(--color-white)}.border-white\/30{border-color:#ffffff4d}@supports (color:color-mix(in lab,red,red)){.border-white\/30{border-color:color-mix(in oklab,var(--color-white)30%,transparent)}}.border-t-transparent{border-top-color:#0000}.bg-amber-50{background-color:var(--color-amber-50)}.bg-amber-100{background-color:var(--color-amber-100)}.bg-amber-500{background-color:var(--color-amber-500)}.bg-amber-500\/20{background-color:#f99c0033}@supports (color:color-mix(in lab,red,red)){.bg-amber-500\/20{background-color:color-mix(in oklab,var(--color-amber-500)20%,transparent)}}.bg-black\/50{background-color:#00000080}@supports (color:color-mix(in lab,red,red)){.bg-black\/50{background-color:color-mix(in oklab,var(--color-black)50%,transparent)}}.bg-blue-50{background-color:var(--color-blue-50)}.bg-blue-100{background-color:var(--color-blue-100)}.bg-emerald-50{background-color:var(--color-emerald-50)}.bg-emerald-100{background-color:var(--color-emerald-100)}.bg-emerald-400{background-color:var(--color-emerald-400)}.bg-emerald-500{background-color:var(--color-emerald-500)}.bg-gray-50{background-color:var(--color-gray-50)}.bg-gray-100{background-color:var(--color-gray-100)}.bg-gray-200{background-color:var(--color-gray-200)}.bg-gray-300{background-color:var(--color-gray-300)}.bg-gray-400{background-color:var(--color-gray-400)}.bg-gray-800\/80{background-color:#1e2939cc}@supports (color:color-mix(in lab,red,red)){.bg-gray-800\/80{background-color:color-mix(in oklab,var(--color-gray-800)80%,transparent)}}.bg-gray-900{background-color:var(--color-gray-900)}.bg-green-500{background-color:var(--color-green-500)}.bg-orange-100{background-color:var(--color-orange-100)}.bg-pink-100{background-color:var(--color-pink-100)}.bg-purple-50{background-color:var(--color-purple-50)}.bg-purple-100{background-color:var(--color-purple-100)}.bg-red-50{background-color:var(--color-red-50)}.bg-red-100{background-color:var(--color-red-100)}.bg-red-500{background-color:var(--color-red-500)}.bg-white{background-color:var(--color-white)}.bg-white\/5{background-color:#ffffff0d}@supports (color:color-mix(in lab,red,red)){.bg-white\/5{background-color:color-mix(in oklab,var(--color-white)5%,transparent)}}.bg-white\/10{background-color:#ffffff1a}@supports (color:color-mix(in lab,red,red)){.bg-white\/10{background-color:color-mix(in oklab,var(--color-white)10%,transparent)}}.bg-white\/15{background-color:#ffffff26}@supports (color:color-mix(in lab,red,red)){.bg-white\/15{background-color:color-mix(in oklab,var(--color-white)15%,transparent)}}.bg-white\/20{background-color:#fff3}@supports (color:color-mix(in lab,red,red)){.bg-white\/20{background-color:color-mix(in oklab,var(--color-white)20%,transparent)}}.bg-white\/80{background-color:#fffc}@supports (color:color-mix(in lab,red,red)){.bg-white\/80{background-color:color-mix(in oklab,var(--color-white)80%,transparent)}}.bg-white\/90{background-color:#ffffffe6}@supports (color:color-mix(in lab,red,red)){.bg-white\/90{background-color:color-mix(in oklab,var(--color-white)90%,transparent)}}.bg-white\/95{background-color:#fffffff2}@supports (color:color-mix(in lab,red,red)){.bg-white\/95{background-color:color-mix(in oklab,var(--color-white)95%,transparent)}}.bg-gradient-to-br{--tw-gradient-position:to bottom right in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.bg-gradient-to-r{--tw-gradient-position:to right in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.bg-gradient-to-t{--tw-gradient-position:to top in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.from-amber-400{--tw-gradient-from:var(--color-amber-400);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-black\/40{--tw-gradient-from:#0006}@supports (color:color-mix(in lab,red,red)){.from-black\/40{--tw-gradient-from:color-mix(in oklab,var(--color-black)40%,transparent)}}.from-black\/40{--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-black\/50{--tw-gradient-from:#00000080}@supports (color:color-mix(in lab,red,red)){.from-black\/50{--tw-gradient-from:color-mix(in oklab,var(--color-black)50%,transparent)}}.from-black\/50{--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-emerald-50{--tw-gradient-from:var(--color-emerald-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-emerald-500{--tw-gradient-from:var(--color-emerald-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-emerald-600{--tw-gradient-from:var(--color-emerald-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-purple-500{--tw-gradient-from:var(--color-purple-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.via-emerald-500{--tw-gradient-via:var(--color-emerald-500);--tw-gradient-via-stops:var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-via)var(--tw-gradient-via-position),var(--tw-gradient-to)var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-via-stops)}.via-orange-400{--tw-gradient-via:var(--color-orange-400);--tw-gradient-via-stops:var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-via)var(--tw-gradient-via-position),var(--tw-gradient-to)var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-via-stops)}.to-pink-500{--tw-gradient-to:var(--color-pink-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-rose-400{--tw-gradient-to:var(--color-rose-400);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-teal-50{--tw-gradient-to:var(--color-teal-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-teal-500{--tw-gradient-to:var(--color-teal-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-transparent{--tw-gradient-to:transparent;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.fill-amber-400{fill:var(--color-amber-400)}.fill-red-500{fill:var(--color-red-500)}.object-cover{object-fit:cover}.p-0\.5{padding:calc(var(--spacing)*.5)}.p-1{padding:calc(var(--spacing)*1)}.p-2{padding:calc(var(--spacing)*2)}.p-3{padding:calc(var(--spacing)*3)}.p-4{padding:calc(var(--spacing)*4)}.p-5{padding:calc(var(--spacing)*5)}.p-6{padding:calc(var(--spacing)*6)}.p-8{padding:calc(var(--spacing)*8)}.px-1{padding-inline:calc(var(--spacing)*1)}.px-1\.5{padding-inline:calc(var(--spacing)*1.5)}.px-2{padding-inline:calc(var(--spacing)*2)}.px-2\.5{padding-inline:calc(var(--spacing)*2.5)}.px-3{padding-inline:calc(var(--spacing)*3)}.px-3\.5{padding-inline:calc(var(--spacing)*3.5)}.px-4{padding-inline:calc(var(--spacing)*4)}.px-6{padding-inline:calc(var(--spacing)*6)}.py-0\.5{padding-block:calc(var(--spacing)*.5)}.py-1{padding-block:calc(var(--spacing)*1)}.py-1\.5{padding-block:calc(var(--spacing)*1.5)}.py-2{padding-block:calc(var(--spacing)*2)}.py-2\.5{padding-block:calc(var(--spacing)*2.5)}.py-3{padding-block:calc(var(--spacing)*3)}.py-3\.5{padding-block:calc(var(--spacing)*3.5)}.py-4{padding-block:calc(var(--spacing)*4)}.py-6{padding-block:calc(var(--spacing)*6)}.py-8{padding-block:calc(var(--spacing)*8)}.py-12{padding-block:calc(var(--spacing)*12)}.py-16{padding-block:calc(var(--spacing)*16)}.py-20{padding-block:calc(var(--spacing)*20)}.pt-1{padding-top:calc(var(--spacing)*1)}.pt-2{padding-top:calc(var(--spacing)*2)}.pt-3{padding-top:calc(var(--spacing)*3)}.pt-4{padding-top:calc(var(--spacing)*4)}.pt-12{padding-top:calc(var(--spacing)*12)}.pt-24{padding-top:calc(var(--spacing)*24)}.pr-10{padding-right:calc(var(--spacing)*10)}.pb-1{padding-bottom:calc(var(--spacing)*1)}.pb-2{padding-bottom:calc(var(--spacing)*2)}.pb-3{padding-bottom:calc(var(--spacing)*3)}.pb-4{padding-bottom:calc(var(--spacing)*4)}.pb-6{padding-bottom:calc(var(--spacing)*6)}.pb-8{padding-bottom:calc(var(--spacing)*8)}.pb-24{padding-bottom:calc(var(--spacing)*24)}.pb-28{padding-bottom:calc(var(--spacing)*28)}.pl-10{padding-left:calc(var(--spacing)*10)}.text-center{text-align:center}.text-left{text-align:left}.text-right{text-align:right}.text-2xl{font-size:var(--text-2xl);line-height:var(--tw-leading,var(--text-2xl--line-height))}.text-3xl{font-size:var(--text-3xl);line-height:var(--tw-leading,var(--text-3xl--line-height))}.text-4xl{font-size:var(--text-4xl);line-height:var(--tw-leading,var(--text-4xl--line-height))}.text-base{font-size:var(--text-base);line-height:var(--tw-leading,var(--text-base--line-height))}.text-lg{font-size:var(--text-lg);line-height:var(--tw-leading,var(--text-lg--line-height))}.text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.text-xl{font-size:var(--text-xl);line-height:var(--tw-leading,var(--text-xl--line-height))}.text-xs{font-size:var(--text-xs);line-height:var(--tw-leading,var(--text-xs--line-height))}.text-\[9px\]{font-size:9px}.text-\[10px\]{font-size:10px}.text-\[11px\]{font-size:11px}.leading-relaxed{--tw-leading:var(--leading-relaxed);line-height:var(--leading-relaxed)}.leading-tight{--tw-leading:var(--leading-tight);line-height:var(--leading-tight)}.font-bold{--tw-font-weight:var(--font-weight-bold);font-weight:var(--font-weight-bold)}.font-medium{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.font-semibold{--tw-font-weight:var(--font-weight-semibold);font-weight:var(--font-weight-semibold)}.tracking-wider{--tw-tracking:var(--tracking-wider);letter-spacing:var(--tracking-wider)}.break-words{overflow-wrap:break-word}.whitespace-nowrap{white-space:nowrap}.text-amber-400{color:var(--color-amber-400)}.text-amber-500{color:var(--color-amber-500)}.text-amber-600{color:var(--color-amber-600)}.text-amber-700{color:var(--color-amber-700)}.text-amber-800{color:var(--color-amber-800)}.text-blue-500{color:var(--color-blue-500)}.text-blue-600{color:var(--color-blue-600)}.text-blue-700{color:var(--color-blue-700)}.text-emerald-100{color:var(--color-emerald-100)}.text-emerald-400{color:var(--color-emerald-400)}.text-emerald-500{color:var(--color-emerald-500)}.text-emerald-600{color:var(--color-emerald-600)}.text-emerald-700{color:var(--color-emerald-700)}.text-emerald-800{color:var(--color-emerald-800)}.text-gray-200{color:var(--color-gray-200)}.text-gray-300{color:var(--color-gray-300)}.text-gray-400{color:var(--color-gray-400)}.text-gray-500{color:var(--color-gray-500)}.text-gray-600{color:var(--color-gray-600)}.text-gray-700{color:var(--color-gray-700)}.text-gray-900{color:var(--color-gray-900)}.text-orange-600{color:var(--color-orange-600)}.text-orange-700{color:var(--color-orange-700)}.text-pink-700{color:var(--color-pink-700)}.text-purple-500{color:var(--color-purple-500)}.text-purple-600{color:var(--color-purple-600)}.text-purple-700{color:var(--color-purple-700)}.text-red-300{color:var(--color-red-300)}.text-red-400{color:var(--color-red-400)}.text-red-500{color:var(--color-red-500)}.text-red-600{color:var(--color-red-600)}.text-red-700{color:var(--color-red-700)}.text-white{color:var(--color-white)}.text-white\/60{color:#fff9}@supports (color:color-mix(in lab,red,red)){.text-white\/60{color:color-mix(in oklab,var(--color-white)60%,transparent)}}.text-white\/80{color:#fffc}@supports (color:color-mix(in lab,red,red)){.text-white\/80{color:color-mix(in oklab,var(--color-white)80%,transparent)}}.text-white\/90{color:#ffffffe6}@supports (color:color-mix(in lab,red,red)){.text-white\/90{color:color-mix(in oklab,var(--color-white)90%,transparent)}}.lowercase{text-transform:lowercase}.uppercase{text-transform:uppercase}.line-through{text-decoration-line:line-through}.opacity-0{opacity:0}.opacity-75{opacity:.75}.opacity-80{opacity:.8}.opacity-100{opacity:1}.shadow-2xl{--tw-shadow:0 25px 50px -12px var(--tw-shadow-color,#00000040);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-lg{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px var(--tw-shadow-color,#0000001a),0 2px 4px -2px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-xl{--tw-shadow:0 20px 25px -5px var(--tw-shadow-color,#0000001a),0 8px 10px -6px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-1{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-amber-200{--tw-shadow-color:oklch(92.4% .12 95.746)}@supports (color:color-mix(in lab,red,red)){.shadow-amber-200{--tw-shadow-color:color-mix(in oklab,var(--color-amber-200)var(--tw-shadow-alpha),transparent)}}.shadow-emerald-200{--tw-shadow-color:oklch(90.5% .093 164.15)}@supports (color:color-mix(in lab,red,red)){.shadow-emerald-200{--tw-shadow-color:color-mix(in oklab,var(--color-emerald-200)var(--tw-shadow-alpha),transparent)}}.shadow-emerald-800\/10{--tw-shadow-color:#005f461a}@supports (color:color-mix(in lab,red,red)){.shadow-emerald-800\/10{--tw-shadow-color:color-mix(in oklab,color-mix(in oklab,var(--color-emerald-800)10%,transparent)var(--tw-shadow-alpha),transparent)}}.shadow-gray-200{--tw-shadow-color:oklch(92.8% .006 264.531)}@supports (color:color-mix(in lab,red,red)){.shadow-gray-200{--tw-shadow-color:color-mix(in oklab,var(--color-gray-200)var(--tw-shadow-alpha),transparent)}}.shadow-red-200{--tw-shadow-color:oklch(88.5% .062 18.334)}@supports (color:color-mix(in lab,red,red)){.shadow-red-200{--tw-shadow-color:color-mix(in oklab,var(--color-red-200)var(--tw-shadow-alpha),transparent)}}.ring-emerald-100{--tw-ring-color:var(--color-emerald-100)}.filter{filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.backdrop-blur-sm{--tw-backdrop-blur:blur(var(--blur-sm));-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.backdrop-blur-xl{--tw-backdrop-blur:blur(var(--blur-xl));-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.transition-all{transition-property:all;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-opacity{transition-property:opacity;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-shadow{transition-property:box-shadow;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-transform{transition-property:transform,translate,scale,rotate;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.duration-200{--tw-duration:.2s;transition-duration:.2s}.duration-300{--tw-duration:.3s;transition-duration:.3s}.duration-500{--tw-duration:.5s;transition-duration:.5s}.outline-none{--tw-outline-style:none;outline-style:none}@media(hover:hover){.group-hover\:scale-105:is(:where(.group):hover *){--tw-scale-x:105%;--tw-scale-y:105%;--tw-scale-z:105%;scale:var(--tw-scale-x)var(--tw-scale-y)}.group-hover\:opacity-100:is(:where(.group):hover *){opacity:1}}.last\:mb-0:last-child{margin-bottom:calc(var(--spacing)*0)}.last\:border-0:last-child{border-style:var(--tw-border-style);border-width:0}.last\:border-b-0:last-child{border-bottom-style:var(--tw-border-style);border-bottom-width:0}.last\:pb-0:last-child{padding-bottom:calc(var(--spacing)*0)}@media(hover:hover){.hover\:scale-110:hover{--tw-scale-x:110%;--tw-scale-y:110%;--tw-scale-z:110%;scale:var(--tw-scale-x)var(--tw-scale-y)}.hover\:border-emerald-200:hover{border-color:var(--color-emerald-200)}.hover\:border-emerald-300:hover{border-color:var(--color-emerald-300)}.hover\:border-emerald-400:hover{border-color:var(--color-emerald-400)}.hover\:border-gray-300:hover{border-color:var(--color-gray-300)}.hover\:bg-amber-600:hover{background-color:var(--color-amber-600)}.hover\:bg-emerald-50\/50:hover{background-color:#ecfdf580}@supports (color:color-mix(in lab,red,red)){.hover\:bg-emerald-50\/50:hover{background-color:color-mix(in oklab,var(--color-emerald-50)50%,transparent)}}.hover\:bg-emerald-100:hover{background-color:var(--color-emerald-100)}.hover\:bg-emerald-200:hover{background-color:var(--color-emerald-200)}.hover\:bg-emerald-600:hover{background-color:var(--color-emerald-600)}.hover\:bg-gray-50:hover{background-color:var(--color-gray-50)}.hover\:bg-gray-100:hover{background-color:var(--color-gray-100)}.hover\:bg-gray-200:hover{background-color:var(--color-gray-200)}.hover\:bg-gray-800:hover{background-color:var(--color-gray-800)}.hover\:bg-orange-50:hover{background-color:var(--color-orange-50)}.hover\:bg-red-50:hover{background-color:var(--color-red-50)}.hover\:bg-red-100:hover{background-color:var(--color-red-100)}.hover\:bg-red-600:hover{background-color:var(--color-red-600)}.hover\:bg-white:hover{background-color:var(--color-white)}.hover\:from-emerald-600:hover{--tw-gradient-from:var(--color-emerald-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.hover\:to-teal-600:hover{--tw-gradient-to:var(--color-teal-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.hover\:text-emerald-500:hover{color:var(--color-emerald-500)}.hover\:text-emerald-600:hover{color:var(--color-emerald-600)}.hover\:text-emerald-700:hover{color:var(--color-emerald-700)}.hover\:text-gray-600:hover{color:var(--color-gray-600)}.hover\:text-gray-700:hover{color:var(--color-gray-700)}.hover\:text-red-500:hover{color:var(--color-red-500)}.hover\:opacity-90:hover{opacity:.9}.hover\:shadow-md:hover{--tw-shadow:0 4px 6px -1px var(--tw-shadow-color,#0000001a),0 2px 4px -2px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.hover\:shadow-sm:hover{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}}.focus\:border-emerald-200:focus{border-color:var(--color-emerald-200)}.focus\:border-emerald-300:focus{border-color:var(--color-emerald-300)}.focus\:border-emerald-400:focus{border-color:var(--color-emerald-400)}.focus\:border-emerald-500:focus{border-color:var(--color-emerald-500)}.focus\:border-red-300:focus{border-color:var(--color-red-300)}.focus\:bg-white:focus{background-color:var(--color-white)}.focus\:ring-2:focus{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus\:ring-emerald-200:focus{--tw-ring-color:var(--color-emerald-200)}.focus\:ring-emerald-500\/30:focus{--tw-ring-color:#00bb7f4d}@supports (color:color-mix(in lab,red,red)){.focus\:ring-emerald-500\/30:focus{--tw-ring-color:color-mix(in oklab,var(--color-emerald-500)30%,transparent)}}.focus\:ring-red-200:focus{--tw-ring-color:var(--color-red-200)}.focus\:outline-none:focus{--tw-outline-style:none;outline-style:none}.active\:scale-95:active{--tw-scale-x:95%;--tw-scale-y:95%;--tw-scale-z:95%;scale:var(--tw-scale-x)var(--tw-scale-y)}.active\:scale-\[0\.98\]:active{scale:.98}.active\:scale-\[0\.99\]:active{scale:.99}.disabled\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\:bg-gray-300:disabled{background-color:var(--color-gray-300)}.disabled\:opacity-50:disabled{opacity:.5}.disabled\:opacity-60:disabled{opacity:.6}@media(min-width:40rem){.sm\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.sm\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}}@media(prefers-color-scheme:dark){.dark\:border-emerald-700{border-color:var(--color-emerald-700)}.dark\:border-gray-600{border-color:var(--color-gray-600)}.dark\:border-gray-700{border-color:var(--color-gray-700)}.dark\:border-gray-800{border-color:var(--color-gray-800)}.dark\:border-red-800{border-color:var(--color-red-800)}.dark\:bg-amber-900\/25{background-color:#7b330640}@supports (color:color-mix(in lab,red,red)){.dark\:bg-amber-900\/25{background-color:color-mix(in oklab,var(--color-amber-900)25%,transparent)}}.dark\:bg-amber-900\/30{background-color:#7b33064d}@supports (color:color-mix(in lab,red,red)){.dark\:bg-amber-900\/30{background-color:color-mix(in oklab,var(--color-amber-900)30%,transparent)}}.dark\:bg-blue-900\/25{background-color:#1c398e40}@supports (color:color-mix(in lab,red,red)){.dark\:bg-blue-900\/25{background-color:color-mix(in oklab,var(--color-blue-900)25%,transparent)}}.dark\:bg-emerald-900{background-color:var(--color-emerald-900)}.dark\:bg-emerald-900\/20{background-color:#004e3b33}@supports (color:color-mix(in lab,red,red)){.dark\:bg-emerald-900\/20{background-color:color-mix(in oklab,var(--color-emerald-900)20%,transparent)}}.dark\:bg-emerald-900\/30{background-color:#004e3b4d}@supports (color:color-mix(in lab,red,red)){.dark\:bg-emerald-900\/30{background-color:color-mix(in oklab,var(--color-emerald-900)30%,transparent)}}.dark\:bg-gray-600{background-color:var(--color-gray-600)}.dark\:bg-gray-700{background-color:var(--color-gray-700)}.dark\:bg-gray-800{background-color:var(--color-gray-800)}.dark\:bg-gray-900{background-color:var(--color-gray-900)}.dark\:bg-gray-900\/40{background-color:#10182866}@supports (color:color-mix(in lab,red,red)){.dark\:bg-gray-900\/40{background-color:color-mix(in oklab,var(--color-gray-900)40%,transparent)}}.dark\:bg-red-900\/20{background-color:#82181a33}@supports (color:color-mix(in lab,red,red)){.dark\:bg-red-900\/20{background-color:color-mix(in oklab,var(--color-red-900)20%,transparent)}}.dark\:text-amber-200{color:var(--color-amber-200)}.dark\:text-amber-300{color:var(--color-amber-300)}.dark\:text-amber-300\/80{color:#ffd236cc}@supports (color:color-mix(in lab,red,red)){.dark\:text-amber-300\/80{color:color-mix(in oklab,var(--color-amber-300)80%,transparent)}}.dark\:text-blue-300{color:var(--color-blue-300)}.dark\:text-blue-300\/80{color:#90c5ffcc}@supports (color:color-mix(in lab,red,red)){.dark\:text-blue-300\/80{color:color-mix(in oklab,var(--color-blue-300)80%,transparent)}}.dark\:text-emerald-300{color:var(--color-emerald-300)}.dark\:text-emerald-300\/80{color:#5ee9b5cc}@supports (color:color-mix(in lab,red,red)){.dark\:text-emerald-300\/80{color:color-mix(in oklab,var(--color-emerald-300)80%,transparent)}}.dark\:text-emerald-400{color:var(--color-emerald-400)}.dark\:text-gray-200{color:var(--color-gray-200)}.dark\:text-gray-300{color:var(--color-gray-300)}.dark\:text-gray-400{color:var(--color-gray-400)}.dark\:text-red-400{color:var(--color-red-400)}.dark\:text-white{color:var(--color-white)}@media(hover:hover){.dark\:hover\:bg-emerald-800:hover{background-color:var(--color-emerald-800)}.dark\:hover\:bg-gray-600:hover{background-color:var(--color-gray-600)}.dark\:hover\:bg-gray-700:hover{background-color:var(--color-gray-700)}.dark\:hover\:bg-gray-700\/40:hover{background-color:#36415366}@supports (color:color-mix(in lab,red,red)){.dark\:hover\:bg-gray-700\/40:hover{background-color:color-mix(in oklab,var(--color-gray-700)40%,transparent)}}.dark\:hover\:bg-red-900\/20:hover{background-color:#82181a33}@supports (color:color-mix(in lab,red,red)){.dark\:hover\:bg-red-900\/20:hover{background-color:color-mix(in oklab,var(--color-red-900)20%,transparent)}}.dark\:hover\:text-emerald-400:hover{color:var(--color-emerald-400)}.dark\:hover\:text-gray-200:hover{color:var(--color-gray-200)}}}}.dark{color-scheme:dark}.dark body{color:#e2e8f0;background-color:#0f172a}.dark .bg-white{background-color:#1e293b!important}.dark .bg-gray-50{background-color:#0f172a!important}.dark .bg-gray-100{background-color:#1e293b!important}.dark .bg-gray-200{background-color:#334155!important}.dark .text-gray-900{color:#f1f5f9!important}.dark .text-gray-800{color:#e2e8f0!important}.dark .text-gray-700{color:#cbd5e1!important}.dark .text-gray-600{color:#94a3b8!important}.dark .text-gray-500{color:#64748b!important}.dark .border-gray-100{border-color:#334155!important}.dark .border-gray-200{border-color:#475569!important}.dark .shadow-sm{box-shadow:0 1px 2px #0000004d!important}.dark .shadow-lg{box-shadow:0 10px 15px -3px #0000004d,0 4px 6px -2px #0003!important}.dark ::-webkit-scrollbar-thumb{background:#475569!important}.dark .skeleton{background:linear-gradient(90deg,#1e293b 25%,#334155,#1e293b 75%)!important}*{-webkit-tap-highlight-color:transparent}html{scroll-behavior:smooth;-webkit-text-size-adjust:100%}body{overscroll-behavior:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:Inter,Noto Kufi Arabic,system-ui,sans-serif}::-webkit-scrollbar{width:4px;height:4px}::-webkit-scrollbar-track{background:0 0}::-webkit-scrollbar-thumb{background:#d1d5db;border-radius:999px}.page-enter{animation:.25s ease-out forwards slideIn}.page-exit{animation:.2s ease-in forwards slideOut}@keyframes slideIn{0%{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}@keyframes slideOut{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(-8px)}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes scaleIn{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}@keyframes slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}.animate-fade-in{animation:.3s ease-out fadeIn}.animate-scale-in{animation:.3s ease-out scaleIn}.animate-slide-up{animation:.4s ease-out slideUp}.skeleton{background:linear-gradient(90deg,#f3f4f6 25%,#e5e7eb,#f3f4f6 75%) 0 0/200% 100%;animation:1.5s infinite shimmer}.touch-target{min-width:44px;min-height:44px}.safe-bottom{padding-bottom:max(16px,env(safe-area-inset-bottom))}.scrollbar-none{scrollbar-width:none;-ms-overflow-style:none}.scrollbar-none::-webkit-scrollbar{display:none}@property --tw-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-y{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-z{syntax:"*";inherits:false;initial-value:0}@property --tw-scale-x{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-y{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-z{syntax:"*";inherits:false;initial-value:1}@property --tw-space-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-divide-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-gradient-position{syntax:"*";inherits:false}@property --tw-gradient-from{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-via{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-to{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-stops{syntax:"*";inherits:false}@property --tw-gradient-via-stops{syntax:"*";inherits:false}@property --tw-gradient-from-position{syntax:"<length-percentage>";inherits:false;initial-value:0%}@property --tw-gradient-via-position{syntax:"<length-percentage>";inherits:false;initial-value:50%}@property --tw-gradient-to-position{syntax:"<length-percentage>";inherits:false;initial-value:100%}@property --tw-leading{syntax:"*";inherits:false}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-tracking{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-blur{syntax:"*";inherits:false}@property --tw-brightness{syntax:"*";inherits:false}@property --tw-contrast{syntax:"*";inherits:false}@property --tw-grayscale{syntax:"*";inherits:false}@property --tw-hue-rotate{syntax:"*";inherits:false}@property --tw-invert{syntax:"*";inherits:false}@property --tw-opacity{syntax:"*";inherits:false}@property --tw-saturate{syntax:"*";inherits:false}@property --tw-sepia{syntax:"*";inherits:false}@property --tw-drop-shadow{syntax:"*";inherits:false}@property --tw-drop-shadow-color{syntax:"*";inherits:false}@property --tw-drop-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-drop-shadow-size{syntax:"*";inherits:false}@property --tw-backdrop-blur{syntax:"*";inherits:false}@property --tw-backdrop-brightness{syntax:"*";inherits:false}@property --tw-backdrop-contrast{syntax:"*";inherits:false}@property --tw-backdrop-grayscale{syntax:"*";inherits:false}@property --tw-backdrop-hue-rotate{syntax:"*";inherits:false}@property --tw-backdrop-invert{syntax:"*";inherits:false}@property --tw-backdrop-opacity{syntax:"*";inherits:false}@property --tw-backdrop-saturate{syntax:"*";inherits:false}@property --tw-backdrop-sepia{syntax:"*";inherits:false}@property --tw-duration{syntax:"*";inherits:false}@keyframes spin{to{transform:rotate(360deg)}}@keyframes ping{75%,to{opacity:0;transform:scale(2)}}@keyframes pulse{50%{opacity:.5}}</style>
  </head>
  <body class="overscroll-none">
    <div id="root"></div>
  </body>
</html>
